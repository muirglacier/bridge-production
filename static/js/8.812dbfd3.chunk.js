(this["webpackJsonpdefichain-bridge"]=this["webpackJsonpdefichain-bridge"]||[]).push([[8],{2173:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(443),i=n(61),o=n(5),s=n(7),l=n(41),u=n(76),b=n(653),j=n(87),d=n(74),O=n.n(d),h=n(155),p=n(2),f=Object(u.a)((function(e){return{root:{maxWidth:400,margin:"0 auto",position:"relative",overflow:"hidden"}}})),x=function(e){var t=e.shaking,n=e.className,c=Object(l.a)(e,["shaking","className"]),a=f(),r=Object(h.d)(),i=O()(n,Object(s.a)({},r.shaking,t));return Object(p.jsx)(b.a,Object(o.a)({className:i,classes:a},c))},m=Object(j.a)("div")({marginTop:40}),g=10,v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"big";switch(e){case"small":return g;case"medium":return 20;case"big":default:return 40}},C=Object(u.a)((function(e){return{root:{paddingLeft:function(e){var t=e.paddingVariant;return v(t)},paddingRight:function(e){var t=e.paddingVariant;return v(t)}},top:{paddingTop:function(e){var t=e.paddingVariant;return v(t)}},bottom:{paddingBottom:function(e){var t=e.paddingVariant;return v(t)}},darker:{backgroundColor:e.customColors.whiteDarker}}})),y=function(e){var t,n=e.topPadding,c=e.bottomPadding,a=e.darker,r=e.paddingVariant,i=e.className,o=e.children,l=C({paddingVariant:r}),u=O()(l.root,i,(t={},Object(s.a)(t,l.top,n),Object(s.a)(t,l.bottom,c),Object(s.a)(t,l.darker,a),t));return Object(p.jsx)("div",{className:u,children:o})},k=Object(j.a)("header")({display:"flex",justifyContent:"space-between",alignItems:"center",paddingTop:g,paddingBottom:g,paddingLeft:g,paddingRight:g}),w=Object(j.a)("div")({justifySelf:"flex-start",minWidth:72}),T=Object(j.a)("div")({justifySelf:"flex-end",minWidth:72,"& > *":{margin:"0 4px","&:first-child":{marginLeft:0},"&:last-child":{marginRight:0}}}),N=Object(j.a)("div")({justifySelf:"center",textAlign:"center",width:"100%"}),S=Object(u.a)({root:{minHeight:200},rootSmaller:{minHeight:130}}),E=function(e){var t=e.smaller,n=Object(l.a)(e,["smaller"]),c=S(),a=O()(c.root,Object(s.a)({},c.rootSmaller,t));return Object(p.jsx)(y,Object(o.a)({className:a},n))},I=n(215),A=n(88),M=n(102),R=n(168),B=n(2174),P=n(2157),D=function(){var e=Object(i.f)(),t=Object(i.h)().path,n=Object(c.useCallback)((function(t,n){e.push(n)}),[e]);return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(B.a,{value:t,onChange:n,indicatorColor:"primary",variant:"fullWidth",children:[Object(p.jsx)(P.a,{label:"Pull From Defichain",value:M.a.MINT}),Object(p.jsx)(P.a,{label:"Send To Defichain",value:M.a.RELEASE})]})})},L=n(170),F=n(1),W=n.n(F),z=n(8),_=n(10),H=n(1385),U=n(447);n(1546),n(1536),n(2142);var G=function(){var e=Object(z.a)(W.a.mark((function e(t,n){var c,a;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.collection("users").doc(n),e.next=3,c.get();case 3:if(a=e.sent,e.prev=4,!a.exists){e.next=10;break}return e.next=8,c.update({updated:H.a.firestore.Timestamp.fromDate(new Date(Date.now()))});case 8:e.next=12;break;case 10:return e.next=12,c.set({uid:n,updated:H.a.firestore.Timestamp.fromDate(new Date(Date.now())),signatures:[]});case 12:e.next=18;break;case 14:throw e.prev=14,e.t0=e.catch(4),console.error("failed to update user profile",e.t0),e.t0;case 18:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t,n){return e.apply(this,arguments)}}(),V=function(){var e=Object(z.a)(W.a.mark((function e(t,n){var c,a,r;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=null,e.prev=1,e.next=4,H.a.functions().httpsCallable("authenticate")({signed:n,account:t});case 4:if(a=e.sent,c=a.data.token){e.next=8;break}throw new Error("missing token");case 8:e.next=14;break;case 10:throw e.prev=10,e.t0=e.catch(1),console.error("Failed to create token",e.t0),e.t0;case 14:if(e.prev=14,e.t1=c,!e.t1){e.next=20;break}return e.next=19,H.a.auth().signInWithCustomToken(c);case 19:e.t1=e.sent.user;case 20:r=e.t1,e.next=27;break;case 23:throw e.prev=23,e.t2=e.catch(14),console.error("Failed to authenticate with token",e.t2),e.t2;case 27:if(r){e.next=29;break}return e.abrupt("return",null);case 29:return e.next=31,G(H.a.firestore(),r.uid);case 31:return e.abrupt("return",r);case 32:case"end":return e.stop()}}),e,null,[[1,10],[14,23]])})));return function(t,n){return e.apply(this,arguments)}}(),K=function(){var e=Object(z.a)(W.a.mark((function e(t,n){var c,a;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=H.a.auth(),(a=c.currentUser)&&a.uid===t){e.next=8;break}if((null===a||void 0===a?void 0:a.uid)===t){e.next=5;break}return e.next=5,H.a.auth().signOut();case 5:return e.abrupt("return",V(t,n.rawSignature));case 8:return e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();U.b.FIREBASE_KEY||console.warn("No database key set."),H.a.initializeApp({apiKey:U.b.FIREBASE_KEY,authDomain:window.location.hostname,projectId:U.b.FIREBASE_PROJECT_ID}),n(1536);var q,J=new function e(){var t=this;Object(_.a)(this,e),this.db=void 0,this.addTx=function(){var e=Object(z.a)(W.a.mark((function e(n,c,a){var r,i;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=H.a.firestore.Timestamp.fromDate(new Date(Date.now())),i=Object(o.a)(Object(o.a)({},n),{},{created:r,updated:r}),e.next=4,t.db.collection("transactions").doc(n.id).set({user:c.toLowerCase(),walletSignature:a,id:n.id,updated:r,createdSeconds:r.seconds,data:JSON.stringify(i)}).catch((function(e){return console.error("failed to track tx",e)}));case 4:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),this.updateTx=function(){var e=Object(z.a)(W.a.mark((function e(n){var c,a;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=H.a.firestore.Timestamp.fromDate(new Date(Date.now())),a=Object(o.a)(Object(o.a)({},n),{},{updated:c}),e.prev=2,e.next=5,t.db.collection("transactions").doc(n.id).update({data:JSON.stringify(a),updated:c});case 5:e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(2),console.error("failed to update",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),this.deleteTx=function(){var e=Object(z.a)(W.a.mark((function e(n){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.db.collection("transactions").doc(n.id).update({deleted:!0});case 3:e.next=9;break;case 5:throw e.prev=5,e.t0=e.catch(0),console.error("failed to delete",e.t0),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),this.getTx=function(){var e=Object(z.a)(W.a.mark((function e(n){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.db.collection("transactions").doc(n.id).get().then((function(e){if(e.exists){var t=e.data();if(t&&!t.deleted)return JSON.parse(t.data)}throw new Error("Tx: ".concat(n.id," not found"))})).catch((function(e){throw console.error("Failed to get tx",e),e})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getTxs=function(){var e=Object(z.a)(W.a.mark((function e(n){var c,a;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.db.collection("transactions").where("user","==",n.toLowerCase()).get();case 3:return c=e.sent,a=[],c.empty||c.forEach((function(e){var t=e.data();if(!t.deleted){var n=JSON.parse(t.data);a.push(n)}})),e.abrupt("return",a);case 9:throw e.prev=9,e.t0=e.catch(0),console.error("failed to fetch txs",e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),this.getUser=function(){var e=Object(z.a)(W.a.mark((function e(t,n){var c;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K(t,n);case 2:return c=e.sent,e.abrupt("return",c&&{uid:c.uid});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.db=H.a.firestore()},Q=n(19),Y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;if(!e)return"";if(e.length<=2*t)return e;var n=e.slice(0,t),c=e.slice(-t);return"".concat(n,"...").concat(c)},X="eaiou".split(""),Z=n(277),$=n(11),ee=n(1245),te=n(423),ne=n.n(te);!function(e){e.DISCONNECTED="disconnected",e.CONNECTING="connecting",e.CONNECTED="connected",e.WRONG_NETWORK="wrong_network"}(q||(q={}));var ce,ae,re=n(445),ie=function(e){var t,n,c=Object(ee.useMultiwallet)(),a=c.enabledChains,r=c.targetNetwork,i=c.activateConnector,o=c.setTargetNetwork,s=(null===a||void 0===a?void 0:a[e])||{},l=s.account,u=void 0===l?"":l,b=s.status,j=void 0===b?"disconnected":b,d=null===a||void 0===a||null===(t=a[e])||void 0===t?void 0:t.provider,O=function(e){var t;return(null===e||void 0===e?void 0:e.isMetaMask)?Q.c.METAMASKW:"0x61"===(null===e||void 0===e?void 0:e.chainId)||(null===e||void 0===e||null===(t=e.chainId)||void 0===t?void 0:t.indexOf("Binance"))?Q.c.BINANCESMARTW:(null===e||void 0===e?void 0:e.isMewConnect)||(null===e||void 0===e?void 0:e.isMEWConnect)?Q.c.MEWCONNECTW:Q.c.UNKNOWNW}(d),h=(null===(n=a[e])||void 0===n?void 0:n.connector.deactivate)||function(){};return{account:u,status:j,walletConnected:j===q.CONNECTED,provider:d,symbol:O,targetNetwork:r,enabledChains:a,activateConnector:i,setTargetNetwork:o,deactivateConnector:h}},oe=function(){var e=Object(r.c)(re.d);return ie(e)},se=[{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"_from",type:"address"},{indexed:!0,internalType:"string",name:"_to",type:"string"},{indexed:!1,internalType:"string",name:"bridge",type:"string"},{indexed:!1,internalType:"uint256",name:"_value",type:"uint256"},{indexed:!0,internalType:"uint256",name:"extradata",type:"uint256"}],name:"DepositToDefichain",type:"event"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"bytes",name:"",type:"bytes"}],name:"spent_outputs",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"string",name:"",type:"string"}],name:"supported_bridges",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"new_owner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"name",type:"string"},{internalType:"address",name:"tokenAddress",type:"address"}],name:"addNewToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"name",type:"string"}],name:"removeToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"bridge",type:"string"}],name:"haveBridge",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"targetAddress",type:"address"},{internalType:"string",name:"txid",type:"string"},{internalType:"uint256",name:"n",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"string",name:"bridge",type:"string"}],name:"messageToSign",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"pure",type:"function",constant:!0},{inputs:[{internalType:"address",name:"targetAddress",type:"address"},{internalType:"string",name:"txid",type:"string"},{internalType:"uint256",name:"n",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"string",name:"bridge",type:"string"}],name:"hashToSign",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"pure",type:"function",constant:!0},{inputs:[{internalType:"string",name:"targetAddress",type:"string"},{internalType:"string",name:"bridge",type:"string"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"burnToken",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"targetAddress",type:"address"},{internalType:"string",name:"txid",type:"string"},{internalType:"uint256",name:"n",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"string",name:"bridge",type:"string"},{internalType:"bytes32",name:"signature_r",type:"bytes32"},{internalType:"bytes32",name:"signature_s",type:"bytes32"},{internalType:"uint8",name:"signature_v",type:"uint8"}],name:"whoSignedThis",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"pure",type:"function",constant:!0},{inputs:[{internalType:"address",name:"targetAddress",type:"address"},{internalType:"string",name:"txid",type:"string"},{internalType:"uint256",name:"n",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"string",name:"bridge",type:"string"},{internalType:"bytes32",name:"signature_r",type:"bytes32"},{internalType:"bytes32",name:"signature_s",type:"bytes32"},{internalType:"uint8",name:"signature_v",type:"uint8"}],name:"mintToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"in_signer",type:"address"}],name:"initialize_gateway",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"new_signer",type:"address"}],name:"newSigner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"precisionRebase",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function",constant:!0},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"reducePrecision",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function",constant:!0}],le=function(){var e=oe().provider;return Object(c.useMemo)((function(){return new ne.a(e)}),[e])},ue=function(){var e=Object(z.a)(W.a.mark((function e(t,n,c,a,r,i,o,s,l,u,b){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,j){n.currentProvider.connection.isMetaMask&&new n.eth.Contract(se,"ethereum"==c?U.b.ETH_CONTRACT_ADDRESS:U.b.BSC_CONTRACT_ADDRESS).methods.mintToken(a,r,i,o,s,l,u,b).send({from:t}).on("transactionHash",e).on("error",j)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,c,a,r,i,o,s,l,u,b){return e.apply(this,arguments)}}(),be=function(){var e=Object(z.a)(W.a.mark((function e(t,n){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){t.currentProvider.connection.isMetaMask&&t.currentProvider.connection.request({method:"wallet_addEthereumChain",params:[{chainId:"0x38",chainName:"Binance Smart Chain",nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18},rpcUrls:["https://bsc-dataseed.binance.org/"],blockExplorerUrls:["https://bscscan.com/"]}]},(function(t,c){console.log("provider returned",t,c),t||"error"in c?n("error"):e("good")}))})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),je=function(){var e=Object(z.a)(W.a.mark((function e(t,n){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){t.currentProvider.connection.isMetaMask&&t.currentProvider.connection.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x1"}]},(function(t,c){console.log("provider returned",t,c),t||"error"in c?n("error"):e("good")}))})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),de=function(){var e=Object(z.a)(W.a.mark((function e(t,n,c,a,r,i){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,o){if(n.currentProvider.connection.isMetaMask)new n.eth.Contract(se,"ethereum"==c?U.b.ETH_CONTRACT_ADDRESS:U.b.BSC_CONTRACT_ADDRESS).methods.burnToken(a,i,"0x"+r.toString(16)).send({from:t}).on("transactionHash",e).on("error",o)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,c,a,r,i){return e.apply(this,arguments)}}(),Oe=function(){var e=Object(r.c)(re.d),t=le();return{getToken:Object(c.useCallback)((function(){t&&function(e,t){console.log("Add Token for Network:",t),e.currentProvider.connection.isMetaMask&&e.currentProvider.connection.sendAsync({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:"ethereum"==t?U.b.ETH_TOKEN_ADDRESS:U.b.BSC_TOKEN_ADDRESS,symbol:"brDFI",decimals:18,image:"https://cryptologos.cc/logos/defichain-dfi-logo.svg?v=018"}}},(function(e,t){console.log("provider returned",e,t)}))}(t,e)}),[t,e])}},he=function(e){var t=Object(r.c)(re.d),n=ie(t),a=n.account,i=n.status,o=le(),s=Object(r.b)();return{updateBsc:Object(c.useCallback)(Object(z.a)(W.a.mark((function n(){var c,a;return W.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!o){n.next=18;break}if(n.prev=1,"Ethereum"!=e){n.next=9;break}return n.next=5,je(o,t);case 5:return c=n.sent,n.abrupt("return",{err:null,result:c});case 9:return n.next=11,be(o,t);case 11:return a=n.sent,n.abrupt("return",{err:null,result:a});case 13:n.next=18;break;case 15:return n.prev=15,n.t0=n.catch(1),n.abrupt("return",{err:n.t0,result:null});case 18:return n.abrupt("return",{err:{code:-1,message:"something went wrong"},result:null});case 19:case"end":return n.stop()}}),n,null,[[1,15]])}))),[a,o,i,t,s])}},pe=function(){var e=Object(r.b)(),t=Object(r.c)(re.d),n=ie(t),a=n.account,i=n.status,o=le();return{getSignatures:Object(c.useCallback)(Object(z.a)(W.a.mark((function e(){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.debug("reauth");case 2:case"end":return e.stop()}}),e)}))),[a,o,i,t,e])}},fe=function(){var e=oe().account,t=Object(r.c)(re.g),n=Object(r.c)(re.c),c=pe().getSignatures;return{isAuthenticated:null!==t&&e.toLowerCase()===t.uid,isAuthenticating:n,authenticate:c}},xe=function(e){var t=Object(r.b)();Object(c.useEffect)((function(){return t(Object(re.j)(e)),function(){t(Object(re.j)(!1))}}),[t,e])},me=n(449),ge=n(21),ve=function(e){var t=Object(r.b)(),n=Object(r.c)(re.d),a=Object(r.c)(Z.a);Object(c.useEffect)((function(){var c=Object(Q.l)(e).networkMappings[n],r=null;Object(Q.t)(a)?r=c.testnet:Object(Q.s)(a)?r=c.mainnet:console.error("Unknown network ".concat(r)),r&&a!==r&&t(Object(Z.c)(r))}),[t,n,e,a])},Ce=function(e){var t=Object(r.b)(),n=Object(r.c)(me.b);Object(c.useEffect)((function(){e!==n&&t(Object(me.i)(e))}),[t,e,n])},ye=n(1121),ke=n(206),we=n(1115),Te=n(2162),Ne=n(2163),Se=n(2175),Ee=n(2164),Ie=n(236),Ae=n(9),Me=Object(j.a)("div")({marginTop:10,textAlign:"center"}),Re=n(426),Be=n(214),Pe=Object(u.a)({root:{background:"lightgray"},wrapper:{background:"gray",overflow:"hidden",height:5,"&:hover":{height:10}},wrapperEnabled:{height:"auto","&:hover":{height:"auto"}}}),De=0==U.a,Le=function(e){var t=e.enabled,n=e.children,a=Pe(),r=Object(c.useState)(!1),i=Object(A.a)(r,2),o=i[0],l=i[1],u=Object(c.useCallback)((function(){l(!o)}),[o]);if(!t)return Object(p.jsx)(p.Fragment,{children:n});var b=O()(a.wrapper,Object(s.a)({},a.wrapperEnabled,o));return Object(p.jsx)("div",{className:b,onClick:u,children:n})},Fe=function(){var e=new WeakSet;return function(t,n){if(n&&"Buffer"===n.type)return"buffer";if("object"===typeof n&&null!==n){if(e.has(n))return;e.add(n)}return n}},We=function(e){var t=e.it,n=e.force,a=e.disable,r=e.wrapper,i=e.children,o=Pe(),s=t||i,l=!De||n,u=Object(c.useCallback)((function(e){e.stopPropagation()}),[]);return l&&!a?Object(p.jsx)(Le,{enabled:!!r,children:Object(p.jsx)("pre",{className:o.root,onClick:u,children:JSON.stringify(s,Fe(),2)})}):null},ze=function(e){return Object(p.jsx)(We,{it:e})},_e=function(e,t){var n=Object(r.c)(re.d),a=ie(n),i=(a.provider,a.walletConnected,Object(r.c)(Z.a),Object(c.useState)({mint:20,burn:20,lock:1e6,release:1e6})),o=Object(A.a)(i,2),s=o[0],l=(o[1],Object(c.useState)(!1)),u=Object(A.a)(l,2),b=u[0];u[1];return{fees:s,pending:b}},He=n(1551),Ue=(n(1552),{thousandSeparator:!0,allowLeadingZeros:!1,allowNegative:!1,allowedDecimalSeparators:[".",","]}),Ge=function(e){var t=e.spacedSuffix,n=e.suffix,c=Object(l.a)(e,["spacedSuffix","suffix"]),a=t?" ".concat(t):n;return Object(p.jsx)(He.a,Object(o.a)(Object(o.a)({},Ue),{},{displayType:"text",suffix:a},c))},Ve=n(446),Ke=n(425),qe=n(416),Je=n(126),Qe=n(1152),Ye=(n(2161),n(140)),Xe=n(2160),Ze=n(2159),$e=n(2158),et=n(460),tt=n.n(et),nt=Object(u.a)((function(e){return{dialogTitle:{display:"flex",justifyContent:"space-between",alignItems:"stretch",borderBottom:"1px solid ".concat(e.palette.divider)},titleWrapper:{flexGrow:1,paddingLeft:30,paddingRight:30,textAlign:"center"},title:{},customContentWrapper:{flexGrow:1,display:"flex",alignItems:"center",justifyContent:"center"},closeButtonWrapper:{minWidth:30},closeButton:{color:e.palette.grey[600]},prevButtonWrapper:{minWidth:30},prevButton:{color:e.palette.grey[600]}}})),ct=function(e){var t=e.title,n=e.onClose,c=e.onPrev,a=e.className,r=e.children,i=nt();return Object(p.jsxs)($e.a,{disableTypography:!0,className:O()(a,i.dialogTitle),children:[Object(p.jsx)("div",{className:i.prevButtonWrapper,children:c?Object(p.jsx)(ye.a,{"aria-label":"prev",className:i.prevButton,onClick:function(){c&&c()},children:Object(p.jsx)(Ae.b,{fontSize:"inherit"})}):null}),t&&Object(p.jsx)("div",{className:i.titleWrapper,children:Object(p.jsx)(ke.a,{variant:"body1",className:i.title,children:t})}),r&&Object(p.jsx)("div",{className:i.customContentWrapper,children:r}),Object(p.jsx)("div",{className:i.closeButtonWrapper,children:n?Object(p.jsx)(ye.a,{"aria-label":"close",className:i.closeButton,onClick:function(){n&&n({},"backdropClick")},children:Object(p.jsx)(tt.a,{fontSize:"inherit"})}):null})]})},at=function(e){var t=e.title,n=e.open,c=e.onClose,a=e.children,r=e.maxWidth;return Object(p.jsxs)(Ze.a,{onClose:c,open:n,maxWidth:r,children:[Object(p.jsx)(ct,{onClose:c,title:t}),a]})},rt=Object(u.a)((function(e){return{backdrop:{position:"absolute",top:0,right:0,bottom:0,left:0,zIndex:"auto"},positioner:{position:"relative",top:0,right:0,bottom:0,left:0},paper:{position:"absolute",top:160,bottom:0,width:"100%",display:"flex",flexDirection:"column"}}})),it=function(e){e.stopPropagation()},ot=Object(j.a)("div")({display:"flex",flexDirection:"column",flexGrow:2,justifyContent:"space-between"}),st=Object(j.a)("div")({}),lt=Object(j.a)("div")({}),ut=function(e){var t=e.open,n=e.onClose,c=e.title,a=e.className,r=e.children,i=rt(),o=O()(a,i.paper);return Object(p.jsx)(Xe.a,{className:i.backdrop,open:t,onClick:n,children:Object(p.jsxs)(x,{className:o,onClick:it,children:[c&&Object(p.jsx)(ct,{onClose:n,title:c}),r]})})},bt={timeZone:"UTC"},jt={hour12:!1,timeZone:"UTC",timeZoneName:"short"},dt=function(e){var t=new Date(e);return{date:t.toLocaleDateString(navigator.language,bt),time:t.toLocaleTimeString("en-US",jt)}},Ot=(Object(j.a)("div")({marginTop:5,marginBottom:5}),function(e){var t=e.reason,n=void 0===t?"":t,a=e.processing,r=void 0===a||a,i=Object(Je.a)(),o=Object(R.d)(),s=Object(A.a)(o,2)[1];return Object(c.useEffect)((function(){s(n)}),[s,n]),Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(Ve.d,{children:Object(p.jsx)(Ve.c,{processing:r,color:i.palette.primary.main,children:Object(p.jsx)(Ve.g,{status:n})})})})}),ht=Object(j.a)("div")((function(e){return{fontSize:72,lineHeight:1,marginTop:8,textAlign:"center",color:e.theme.customColors.textLight}})),pt=function(e){var t=e.title,n=void 0===t?"Error":t,c=e.open,a=e.reason,r=void 0===a?"":a,i=e.actionText,o=void 0===i?"":i,s=e.onAction,l=e.children;return Object(p.jsxs)(at,{open:c,title:n,maxWidth:"xs",children:[Object(p.jsxs)(E,{children:[Object(p.jsx)(ht,{children:Object(p.jsx)(Ae.Q,{fontSize:"inherit",color:"inherit"})}),Object(p.jsx)(ke.a,{variant:"h5",align:"center",gutterBottom:!0,children:r}),Object(p.jsx)(ke.a,{color:"textSecondary",align:"center",gutterBottom:!0,component:"div",children:l})]}),Object(p.jsx)(y,{bottomPadding:!0,children:Object(p.jsx)(Ie.b,{children:Object(p.jsx)(Ie.a,{onClick:s,children:o})})})]})},ft=function(e){return Object(p.jsx)(pt,Object(o.a)(Object(o.a)({reason:"Error submitting",actionText:"Return to submission screen"},e),{},{children:Object(p.jsx)("span",{children:"Return to previous screen to resubmit"})}))},xt=function(e){return Object(p.jsx)(pt,Object(o.a)(Object(o.a)({reason:"An error has occurred",actionText:"Refresh page"},e),{},{children:Object(p.jsxs)("span",{children:["Please ensure you have this page bookmarked before refreshing. If this error persists, please"," ",Object(p.jsx)(Ye.a,{external:!0,href:I.b.BUGS_LOG,color:"primary",underline:"hover",children:"submit a bug here"}),"."]})}))},mt=function(e){var t=e.title,n=void 0===t?"Warning":t,c=e.open,a=e.reason,r=void 0===a?"":a,i=e.mainActionText,o=void 0===i?"":i,s=e.onMainAction,l=e.mainActionDisabled,u=e.alternativeActionText,b=void 0===u?"":u,j=e.onAlternativeAction,d=e.alternativeActionDisabled,O=e.children,h=s&&o;return Object(p.jsxs)(at,{open:c,title:n,maxWidth:"xs",children:[Object(p.jsxs)(E,{children:[Object(p.jsx)(ht,{children:Object(p.jsx)(Ae.K,{fontSize:"inherit",color:"inherit"})}),Object(p.jsx)(ke.a,{variant:"h5",align:"center",gutterBottom:!0,children:r}),Object(p.jsx)(ke.a,{color:"textSecondary",align:"center",gutterBottom:!0,component:"div",children:O})]}),Object(p.jsxs)(y,{bottomPadding:!0,children:[Object(p.jsx)(Ie.b,{children:Object(p.jsx)(Ie.f,{variant:"text",color:"inherit",onClick:j,disabled:d,children:b})}),h&&Object(p.jsx)(Ie.b,{children:Object(p.jsx)(Ie.a,{onClick:s,disabled:l,children:o})})]})]})},gt=function(e){var t=e.address,n=e.addressExplorerLink,c=e.currency,a=Object(l.a)(e,["address","addressExplorerLink","currency"]);return Object(p.jsx)(mt,Object(o.a)(Object(o.a)({reason:"Different account detected",alternativeActionText:"Continue anyway"},a),{},{children:Object(p.jsxs)("span",{children:["This transaction was created with a different account to the current account (",Object(p.jsx)(Ye.a,{external:!0,href:n,color:"primary",underline:"hover",children:Y(t,5)}),"). If you do not have access to the account that created the transaction, you will not be able to access the ",c,". Please switch account in your wallet."]})}))},vt="The amount and asset you\u2019re sending before fees are applied.",Ct="The blockchain you\u2019re sending the asset to.",yt="The wallet that will receive the minted assets.",kt=Object(j.a)("div")({position:"relative"}),wt=function(){return Object(p.jsx)("span",{children:"DefiChain-Bridge has detected another deposit to the same gateway address. It will require an additional submission to to the destination chain via your web3 wallet."})},Tt=function(e){var t=e.currency,n=e.type,c=e.chain,a=e.address,r=e.hideButton,i=oe().status,o=(Object(Q.l)(t),Object(Q.i)(c)),s=_e(),l=s.fees,u=s.pending,b=Object(qe.a)({fees:l,type:n}),j=b.renVMFee,d=(b.renVMFeeAmount,b.networkFee),O=Oe().getToken,h=n===ge.f.MINT?t:Object(Q.z)(t),f=Object(Q.l)(h),x=Object(Q.i)(f.sourceChain),m=Object(ge.k)({mintFee:l.mint/1e4,releaseFee:l.burn/1e4,sourceCurrency:h,chain:c});Object(Ke.a)(1337),Object(Q.l)(o.nativeCurrency);return i!==q.CONNECTED?null:u?Object(p.jsx)(Ve.b,{}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(We,{it:{currency:t,fees:l}}),Object(p.jsx)(Be.d,{label:"Bridge Node Fee",labelTooltip:m.renVmFee,value:Object(p.jsx)(Ge,{value:j,spacedSuffix:"%",decimalScale:2})}),Object(p.jsx)(Be.d,{label:"".concat(x.full," Miner Fee"),labelTooltip:m.sourceChainMinerFee,value:Object(p.jsx)(Ge,{value:d,spacedSuffix:x.short})}),Object(p.jsx)(Be.d,{label:"Esti. ".concat(o.short," Fee"),labelTooltip:m.renCurrencyChainFee,value:"See Metamask"}),a&&Object(p.jsx)(Be.d,{label:"Recipient Address",labelTooltip:yt,value:Object(p.jsx)(Be.e,{hoverable:!0,children:a})}),!r&&Object(p.jsx)(Ie.c,{children:Object(p.jsx)(Ie.a,{variant:"contained",color:"secondary",onClick:O,children:"Add DFI Token To Metamask"})})]})},Nt=n(279),St=n(453),Et=n(466),It=function(){var e=function(){var e=Object(i.g)();return e.pathname.indexOf(M.a.MINT)>-1?"mint":e.pathname.indexOf(M.a.RELEASE)>-1?"burn":null}(),t=Object(r.c)(re.b),n=Object(r.c)(Z.a),c=Object(r.c)(Nt.b),a=Object(r.c)(St.b);if(t!==Q.a.ETHC||null==e||Object(Q.s)(n))return"";var o="mint"===e?Object(Q.y)(c):a;return Object(Q.l)(o).ethTestnet||Q.d.KOVAN},At=n(240),Mt=n(1553),Rt=n.n(Mt),Bt=function(e){return"ethereum"==e?U.b.ETHEREUM_BACKEND_ENDPOINT:U.b.BSC_BACKEND_ENDPOINT},Pt=function(){var e=Object(z.a)(W.a.mark((function e(t,n){var c,a;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Bt(n)+"/deposit/"+t,a={method:"Get"},e.abrupt("return",Rt()(c,a).then((function(e){return e.json()})));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Dt=function(){var e=Object(z.a)(W.a.mark((function e(t,n){var c,a;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Bt(n)+"/eligible/"+t,a={method:"Get"},e.abrupt("return",Rt()(c,a).then((function(e){return e.json()})));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Lt=function(){var e=Object(z.a)(W.a.mark((function e(t,n,c,a){var r,i;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Bt(a)+"/mint/"+t+"/"+n+"/"+c,console.log(r),i={method:"Get"},e.abrupt("return",Rt()(r,i).then((function(e){return e.json()})));case 4:case"end":return e.stop()}}),e)})));return function(t,n,c,a){return e.apply(this,arguments)}}(),Ft=function(){var e=Object(z.a)(W.a.mark((function e(t,n){var c,a;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Bt(n)+"/logs/"+t,a={method:"Get"},e.abrupt("return",Rt()(c,a).then((function(e){return e.json()})));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Wt=function(e){var t=e.onPrev;xe(!0);var n,a=Object(r.b)(),o=Object(i.f)(),s=oe(),l=s.status,u=s.walletConnected,b=s.account,j=Object(c.useState)(!1),d=Object(A.a)(j,2),O=d[0],h=d[1],f=Object(r.c)(Nt.a).currency,x=Object(r.c)(re.e),m=x.chain,g=x.signatures.signature,v=Object(r.c)(Z.a),C=Object(r.c)(me.a),S=_e(0,ge.f.MINT),E=(S.fees,S.pending,Object(Q.l)(f).GreyIcon,Object(Q.i)(m)),I=Object(Q.l)(E.nativeCurrency),R=(n=I,{acknowledge:"Minting an asset on ".concat(E.full," requires you to submit a transaction. It will cost you a small amount of ").concat(n.short,".")}),B=Object(Q.y)(f),P=(Object(Q.l)(B),Object(c.useState)(!1)),D=Object(A.a)(P,2),L=D[0],F=D[1],_=Object(c.useState)(!1),H=Object(A.a)(_,2),U=H[0],G=H[1],V=!L&&U,K=Object(c.useCallback)((function(e){G(!0),F(e.target.checked)}),[]);!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:600,n=Object(r.b)();Object(c.useEffect)((function(){return e&&(n(Object(Et.b)(!0)),setTimeout((function(){n(Object(Et.b)(!1))}),t)),function(){n(Object(Et.b)(!1))}}),[n,e,t])}(V);var J=Object(c.useMemo)((function(){return Object(At.a)({currency:f,destAddress:b,mintedCurrency:Object(Q.y)(f),mintedCurrencyChain:m,userAddress:b,network:v,dayIndex:C})}),[f,b,m,v,C]),Y=Object(At.e)(J),X=L&&Y,$=Object(c.useCallback)((function(){l===q.CONNECTED?(G(!0),h(!!X)):(G(!1),h(!1),a(Object(re.l)(!0)))}),[a,l,X]),ee=Object(c.useCallback)(function(){var e=Object(z.a)(W.a.mark((function e(t){var n;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pt(t.userAddress,t.destination);case 2:1==(n=e.sent).status&&(t.gatewayAddress=n.result,a(Object(me.i)(t.id)),a(Object(me.g)(t)),o.push({pathname:M.a.MINT_TRANSACTION,search:"?"+Object(ge.h)(t),state:{txState:{newTx:!0}}}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[a,o,b,g]),te=Object(c.useState)(!1),ne=Object(A.a)(te,2),ce=ne[0],ae=ne[1];return Object(c.useEffect)((function(){O&&!ce&&(ae(!0),ee(J).finally())}),[ee,O,J,ce]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(k,{children:[Object(p.jsx)(w,{children:Object(p.jsx)(ye.a,{onClick:t,children:Object(p.jsx)(Ae.b,{})})}),Object(p.jsx)(N,{children:"Fees & Confirm"}),Object(p.jsx)(T,{})]}),Object(p.jsxs)(y,{bottomPadding:!0,children:[Object(p.jsx)(ke.a,{variant:"body1",gutterBottom:!0,children:"Details"}),Object(p.jsx)(Be.c,{label:"Sending",labelTooltip:vt,strvalue:f+" on "+Object(Q.l)(f).full}),Object(p.jsx)(Be.d,{label:"To",labelTooltip:Ct,value:E.full}),Object(p.jsx)(Be.d,{label:"Recipient Address",labelTooltip:yt,value:Object(p.jsx)(Be.e,{hoverable:!0,children:J.userAddress})}),Object(p.jsx)(Be.f,{}),Object(p.jsx)(ke.a,{variant:"body1",gutterBottom:!0,children:"Fees"}),Object(p.jsx)(Tt,{chain:m,currency:f,type:ge.f.MINT,hideButton:!0})]}),Object(p.jsx)(we.a,{}),Object(p.jsxs)(y,{darker:!0,topPadding:!0,bottomPadding:!0,children:[Object(p.jsx)(Me,{children:Object(p.jsx)(Te.a,{error:V,children:Object(p.jsx)(Ne.a,{control:Object(p.jsx)(Se.a,{checked:L,onChange:K,name:"ack",color:"primary"}),label:Object(p.jsx)(Ee.a,{htmlFor:"ack",component:ke.a,children:Object(p.jsxs)(ke.a,{variant:"caption",color:V?"inherit":"textPrimary",children:["I acknowledge this transaction requires"," ",I.short," ",Object(p.jsx)(Re.a,{title:R.acknowledge})]})})})})}),Object(p.jsx)(Ie.b,{children:Object(p.jsx)(Ie.a,{onClick:$,disabled:!L||O||!u,children:u?O?"Confirming...":"Confirm":"Connect Wallet"})})]}),Object(p.jsx)(We,{it:{tx:J}})]})},zt=n(1381),_t=n(2176),Ht=n(2168),Ut=n(2169),Gt=n(56),Vt=n(2165),Kt=n(346),qt=function(e){var t=Object(r.b)(),n=Object(r.c)(re.b),a=oe(),i=a.walletConnected,o=a.provider,s=a.account,l=Object(r.c)(Z.a),u=Object(Q.i)(n),b=Kt.d[u.rentxName];Object(c.useEffect)((function(){i||t(Object(re.i)())}),[t,i]);var j=Object(c.useCallback)((function(e){return o&&s&&i&&function(e,t,n){var c=Object(Q.l)(e);if(c.networkMappings){var a=c.networkMappings[n];return a.testnet===t||a.mainnet===t}return!0}(e,l,u.rentxName)?b(o,l).getBalance(e,s).then((function(e){return e.toNumber()/1e8})).catch(console.error):Promise.resolve(null)}),[b,s,l,o,i,u.rentxName]);Object(Vt.a)((function(){if(i){var n,c=Object(Gt.a)(e);try{var a=function(){var e=n.value,c=Object(Q.z)(e);j(c).then((function(n){null!==n&&t(Object(re.h)({symbol:e,balance:n}))}))};for(c.s();!(n=c.n()).done;)a()}catch(r){c.e(r)}finally{c.f()}}}),1e3,[t,j,i])},Jt=function(e,t){var n=e.find((function(e){return e.symbol===t}));return null===n||void 0===n?void 0:n.balance},Qt=function(e){return"chain"===e?Object.values(Q.g):Object.values(Q.h)},Yt={width:32,height:32},Xt=Object(u.a)((function(){return{select:{paddingTop:4,paddingBottom:4}}})),Zt=Object(u.a)((function(e){return{root:{width:"100%",borderRadius:e.shape.borderRadius,border:"1px solid ".concat(e.customColors.grayLight)},inputRoot:{width:"100%"},supplementalText:{fontSize:12},iconWrapper:{display:"inline-flex",justifyContent:"center",alignItems:"center"},listIcon:Yt,assetName:{fontSize:13},assetFullName:{fontSize:11},balance:{fontSize:12},listSubheader:{pointerEvents:"none",fontSize:10,lineHeight:1},listSubheaderLabel:{fontSize:10}}})),$t=function(e){var t=e.mode,n=e.available,a=e.condensed,r=void 0!==a&&a,i=e.label,s=e.balances,u=Object(l.a)(e,["mode","available","condensed","label","balances"]),b=Zt(),j=Xt(),d=Object(c.useMemo)((function(){return function(e){return function(t){return!e||e.includes(t.symbol)}}(n)}),[n]),O=Object(c.useMemo)((function(){return function(e){var n=function(e,t){return Qt(t).find((function(t){return t.symbol===e}))}(e,t),c=function(e){var t="Select",n="Select",c=Ae.A;return e&&(t=e.full,n=e.short,c=e.MainIcon),{full:t,short:n,Icon:c}}(n),a=c.Icon,o=c.full;c.short;return Object(p.jsxs)(zt.a,{display:"flex",alignItems:"center",width:"100%",children:[!r&&Object(p.jsx)(zt.a,{width:"37%",children:Object(p.jsx)(ke.a,{variant:"body2",className:b.supplementalText,children:i})}),Object(p.jsx)(zt.a,{width:"45px",display:"flex",alignItems:"center",children:Object(p.jsx)(a,{className:b.listIcon})}),Object(p.jsx)(zt.a,{flexGrow:1,children:Object(p.jsx)(ke.a,{variant:"body2",children:o})})]})}}),[t,b,i,r]);return Object(p.jsx)("div",{children:Object(p.jsxs)(_t.a,Object(o.a)(Object(o.a)({variant:"outlined",className:r?void 0:b.inputRoot,classes:r?j:void 0,renderValue:O,displayEmpty:!0,MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},getContentAnchorEl:null}},u),{},{children:[Object(p.jsx)(Ht.a,{className:b.listSubheader,children:Object(p.jsxs)(zt.a,{display:"flex",alignItems:"center",width:"100%",children:[Object(p.jsx)(zt.a,{width:"45px"}),Object(p.jsx)(zt.a,{flexGrow:1,children:Object(p.jsx)(ke.a,{variant:"overline",className:b.listSubheaderLabel,children:"chain"===t?"Blockchain":"Asset"})}),s&&s.length>0&&Object(p.jsx)(zt.a,{flexGrow:1,textAlign:"right",children:Object(p.jsx)(ke.a,{variant:"overline",className:b.listSubheaderLabel,children:"Your Balance"})})]})}),Qt(t).filter(d).map((function(e){var n=e.symbol,c=e.MainIcon,a=(e.GreyIcon,e.full),r=e.short;return Object(p.jsx)(Ut.a,{value:n,children:Object(p.jsxs)(zt.a,{display:"flex",alignItems:"center",width:"100%",children:[Object(p.jsx)(zt.a,{width:"45px",className:b.iconWrapper,children:Object(p.jsx)(c,{className:b.listIcon})}),Object(p.jsxs)(zt.a,{flexGrow:1,children:[Object(p.jsx)(ke.a,{variant:"body1",className:b.assetName,children:"chain"===t?a:r}),"chain"!==t&&Object(p.jsx)(ke.a,{color:"textSecondary",className:b.assetFullName,children:a})]}),s&&Object(p.jsx)(zt.a,{flexGrow:1,textAlign:"right",className:b.balance,children:Object(p.jsx)(Ge,{value:Jt(s,n)})})]})},n)}))]}))})},en=Object(j.a)("div")({marginTop:10}),tn=function(e){var t=e.onNext,n=Object(r.b)(),a=Object(r.c)(Nt.a).currency,i=Object(r.c)(re.e).chain,o=oe().walletConnected,s=Object(c.useCallback)((function(e){n(Object(Nt.e)(e.target.value))}),[n]),l=Object(c.useCallback)((function(e){n(Object(re.k)(e.target.value))}),[n]),u=Object(Q.y)(a);ve(u);var b=!0,j=Object(c.useCallback)((function(){o?t&&t():n(Object(re.l)(!0))}),[n,t,o,b]),d=Object(Q.y)(a);Object(Q.l)(d).GreyIcon;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(y,{bottomPadding:!0,children:[Object(p.jsx)(en,{children:Object(p.jsx)($t,{label:"Send",mode:"send",available:Q.v,value:a,onChange:s})}),Object(p.jsx)(en,{children:Object(p.jsx)($t,{label:"Destination",mode:"chain",available:Q.w,value:i,onChange:l})})]}),Object(p.jsx)(we.a,{}),Object(p.jsx)(y,{darker:!0,topPadding:!0,bottomPadding:!0,children:Object(p.jsx)(Ie.b,{children:Object(p.jsx)(Ie.a,{onClick:j,disabled:!1,children:o?"Next":"Connect Wallet"})})})]})},nn=n(2137),cn=n(213),an=n(1554),rn=n.n(an),on=n(2182),sn=n(271),ln=Object(u.a)((function(e){return{root:{width:400},body:{padding:24},header:{display:"flex",justifyContent:"space-between",alignItems:"stretch",borderBottom:"1px solid ".concat(e.palette.divider),padding:"16px 16px 14px"},headerTitle:{flexGrow:2,paddingLeft:16,textAlign:"center",lineHeight:2},headerCloseIcon:{fontSize:16},button:{border:"1px solid ".concat(e.palette.divider)},chainTitle:{textTransform:"capitalize",fontSize:14}}})),un=Object(u.a)({root:{marginTop:20,fontSize:16,padding:"11px 20px 11px 20px"},label:{display:"flex",justifyContent:"space-between",alignContent:"center"},icon:{fontSize:36,display:"inline-flex"}}),bn=function(e){var t=e.onClick,n=e.name,c=(e.logo,un()),a=c.icon,r=Object(l.a)(c,["icon"]),i=Object(Q.r)(n),o=i.MainIcon;return Object(p.jsxs)(Qe.a,{classes:r,variant:"outlined",size:"large",fullWidth:!0,onClick:t,children:[Object(p.jsx)("span",{children:i.full})," ",Object(p.jsx)("span",{className:a,children:Object(p.jsx)(o,{fontSize:"inherit"})})]})},jn=function(e){var t=e.chain,n=Object(Q.j)(t);return Object(p.jsx)("span",{children:n.full})},dn=function(e){var t=e.chain,n=e.onClose,c=Object(Je.a)(),a=Object(Q.j)(t),r="ethereum"===t?Q.c.METAMASKW:Q.c.BINANCESMARTW,i=Object(Q.q)(r),o=function(e,t){return{initialTitle:"Connecting",actionTitle:"".concat(t.short," action required"),initialMessage:"Connecting to ".concat(e.full),actionMessage:"When prompted, connect securely via the ".concat(t.full," browser extension.")}}(a,i),s=i.MainIcon,l=Object(on.a)(3e3),u=(0,Object(A.a)(l,1)[0])();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(We,{it:{chainConfig:a}}),Object(p.jsx)(ct,{title:u?o.actionTitle:o.initialTitle,onClose:n}),Object(p.jsxs)(y,{bottomPadding:!0,children:[Object(p.jsx)(Ve.d,{children:Object(p.jsx)(Ve.c,{size:128,color:c.customColors.skyBlueLight,fontSize:"big",processing:!0,children:Object(p.jsx)(s,{fontSize:"inherit"})})}),Object(p.jsx)(ke.a,{variant:"h6",align:"center",children:u?o.actionMessage:o.initialMessage})]})]})},On=Object(u.a)((function(e){return{iconWrapper:{padding:13,backgroundColor:e.palette.divider,display:"flex",justifyContent:"center",alignItems:"center",fontSize:44}}})),hn=function(){var e=Object(Je.a)(),t=On();return Object(p.jsx)(Ve.c,{color:e.customColors.redLighter,size:128,children:Object(p.jsx)("div",{className:t.iconWrapper,children:Object(p.jsx)(Ae.P,{fontSize:"inherit",color:"secondary"})})})},pn=function(e){var t=e.chain,n=e.targetNetwork,c=e.onClose,a=Object(Je.a)(),r=It(),i=Object(Q.j)(t).full,s=Object(Q.p)(n).full,l=he("Binance Chain").updateBsc,u=he("Ethereum").updateBsc,b=function(){var e=Object(z.a)(W.a.mark((function e(){var t,n;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Ethereum"!=i){e.next=7;break}return e.next=3,u();case 3:t=e.sent,console.log(t),e.next=11;break;case 7:return e.next=9,l();case 9:n=e.sent,console.log(n);case 11:return e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(ze,Object(o.a)({},e)),Object(p.jsx)(ct,{title:"Wrong Network",onClose:c}),Object(p.jsxs)(y,{bottomPadding:!0,children:[Object(p.jsx)(Ve.d,{children:Object(p.jsx)(Ve.c,{size:128,color:a.customColors.redLighter,fontSize:"big",children:Object(p.jsx)(rn.a,{fontSize:"inherit",color:"secondary"})})}),Object(p.jsxs)(ke.a,{variant:"h5",align:"center",gutterBottom:!0,children:["Switch to ",i," ",s,r&&Object(p.jsxs)("span",{children:[" (",r,")"]})]}),Object(p.jsxs)(ke.a,{variant:"body1",align:"center",color:"textSecondary",children:["Defichain-Bridge requires you to connect to the ",i," ",s," ",r]}),Object(p.jsx)(Ie.c,{children:Object(p.jsxs)(Ie.a,{onClick:b,children:["Switch Metamask to ",i]})})]})]})},fn=function(e,t){var n=Object(h.a)(t,3,e),c=n.pulsingStyles,a=n.pulsingKeyframes;return Object(o.a)(Object(o.a)({},a),{},Object(s.a)({},e,Object(o.a)(Object(o.a)({},c),{},{backgroundColor:t})))},xn=Object(u.a)((function(e){return Object(o.a)(Object(o.a)(Object(o.a)(Object(o.a)({root:{width:8,height:8,borderRadius:4,backgroundColor:e.palette.divider}},fn("connected",e.palette.success.main)),fn("disconnected",e.palette.error.main)),fn("connecting",e.palette.info.main)),fn("wrongNetwork",e.palette.warning.main))})),mn=function(e){var t,n=e.status,c=e.className,a=xn(),r=O()(a.root,c,(t={},Object(s.a)(t,a.connected,n===q.CONNECTED),Object(s.a)(t,a.wrongNetwork,n===q.WRONG_NETWORK),Object(s.a)(t,a.disconnected,n===q.DISCONNECTED),Object(s.a)(t,a.connecting,n===q.CONNECTING),t));return Object(p.jsx)("div",{className:r})},gn=Object(u.a)((function(e){return{root:{backgroundColor:e.palette.common.white,borderColor:e.palette.divider,boxShadow:sn.b,"&:hover":{borderColor:e.palette.divider,backgroundColor:e.palette.divider}},hoisted:{zIndex:e.zIndex.tooltip},indicator:{marginRight:10},indicatorMobile:{marginLeft:16,marginRight:30},account:{marginLeft:20}}})),vn=function(e){var t=e.status,n=e.account,c=e.wallet,a=e.hoisted,r=e.className,i=e.mobile,u=Object(l.a)(e,["status","account","wallet","hoisted","className","mobile"]),b=gn(),j=b.indicator,d=b.indicatorMobile,h=b.account,f=b.hoisted,x=Object(l.a)(b,["indicator","indicatorMobile","account","hoisted"]),m=t===q.CONNECTED?Object(Q.q)(c).short:function(e){switch(e){case"disconnected":return"Connect a Wallet";case"connecting":return"Connecting...";case"connected":return"Connected";case"wrong_network":return"Wrong Network!"}}(t),g=Y(n),v=O()(r,Object(s.a)({},f,a)),C=i?{}:{variant:"outlined",color:"secondary",classes:x};return Object(p.jsxs)(Qe.a,Object(o.a)(Object(o.a)(Object(o.a)({className:v},C),u),{},{children:[Object(p.jsx)(mn,{status:t,className:i?d:j}),Object(p.jsx)("span",{children:m}),g&&Object(p.jsx)("span",{className:h,children:g})]}))},Cn=n(1150),yn=n(1555),kn=n.n(yn),wn=n(1561),Tn=n(20),Nn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=!1;window.Notification&&(t="granted"===Notification.permission);var n=Object(c.useCallback)((function(){t?e&&e():Notification.requestPermission().then((function(){e&&e()}))}),[t,e]),a=Object(c.useCallback)((function(e){window.Notification&&(new Notification(e).onclick=function(){})}),[]);return{enabled:t,handleEnable:n,Notification:Notification,showBrowserNotification:a}},Sn=function(e){var t=e.tx,n=Object(At.b)(t),c=n.lockCurrencyConfig,a=n.lockChainConfig,r=n.suggestedAmount,i=(n.mintAddressLink,c.color),o=a.MainIcon;return Object(R.f)("Send ".concat(a.short)),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Ve.d,{children:Object(p.jsx)(Ve.c,{color:i||Tn.orangeLight,size:64,children:Object(p.jsx)(o,{fontSize:"inherit",color:"inherit"})})}),Object(p.jsx)(cn.e,{children:Object(p.jsx)(Be.a,{value:Object(p.jsxs)("span",{children:["Send ",c.short," to"]})})}),t.gatewayAddress&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(cn.c,{children:Object(p.jsx)(Cn.a,{in:!0,children:Object(p.jsx)(Ie.d,{children:Object(p.jsx)(kn.a,{value:Object(ge.l)(a.symbol,t.gatewayAddress,r)})})})}),Object(p.jsx)(Ie.e,{content:t.gatewayAddress})]})]})},En=function(e){var t=e.tx,n=e.depositHash,a=Object(R.d)(),r=Object(A.a)(a,2)[1],i=Object(At.b)(t,n),o=i.lockCurrencyConfig,s=i.lockChainConfig,l=i.lockTxHash,u=i.lockTxLink,b=i.lockTxAmount,j=i.lockConfirmations,d=i.lockTargetConfirmations,O=(i.lockProcessingTime,t.transactions[n]);l=n,u="https://defiscan.live/transactions/"+n.split(":")[0],j=(null===O||void 0===O?void 0:O.confirmations)||0;var h=s.MainIcon,f=j>=(d=(null===s||void 0===s?void 0:s.targetConfirmations)||0);return Object(c.useEffect)((function(){r(f?"Confirmed":"Confirming")}),[r,f]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Ve.d,{children:Object(p.jsx)(Ve.c,{color:o.color||Tn.orangeLight,confirmations:j,targetConfirmations:d,children:Object(p.jsx)(h,{fontSize:"inherit",color:"inherit"})})}),Object(p.jsx)(cn.h,{children:Object(p.jsxs)(ke.a,{variant:"body1",align:"center",children:[j," of ",d," confirmations"]})}),Object(p.jsx)(cn.e,{children:Object(p.jsx)(Be.a,{value:Object(p.jsx)(Ge,{value:b,spacedSuffix:o.short})})}),Object(p.jsx)(Ie.i,{label:s.short,address:l,link:u})]})},In=function(e){var t=e.tx,n=e.onSubmit,c=e.onReload,a=e.submitting,r=e.submittingError,i=e.depositHash;Object(R.f)("Submit"),Object(R.e)(!0);var o=Object(Je.a)(),s=Object(At.b)(t,i),l=s.lockCurrencyConfig,u=s.lockChainConfig,b=s.lockTxHash,j=s.lockTxAmount,d=s.lockTxLink,O=s.lockConfirmations,h=s.lockTargetConfirmations,f=s.mintChainConfig,x=t.transactions[i];b=i,d="https://defiscan.live/transactions/"+i.split(":")[0],O=(null===x||void 0===x?void 0:x.confirmations)||0,h=(null===u||void 0===u?void 0:u.targetConfirmations)||0;var m="".concat(O>h?h:O,"/").concat(h," confirmations, ready to submit ").concat(l.short," to ").concat(f.full,"?"),g=Object(L.c)().showNotification,v=Nn().showBrowserNotification;Object(wn.a)((function(){g(m),v(m)}));var C=u.MainIcon;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Ve.d,{children:a?Object(p.jsx)(Ve.c,{color:o.customColors.skyBlue,processing:!0,children:Object(p.jsx)(C,{fontSize:"inherit",color:"inherit"})}):Object(p.jsx)(Ve.c,{color:l.color||o.customColors.skyBlue,confirmations:O,targetConfirmations:h,children:Object(p.jsx)(C,{fontSize:"inherit",color:"inherit"})})}),Object(p.jsxs)(ke.a,{variant:"body1",align:"center",gutterBottom:!0,children:[Object(p.jsx)(Ge,{value:j,spacedSuffix:l.full})," ","Received ",O>h?h:O,"/",h," Confirmations"]}),Object(p.jsx)(Ie.b,{children:Object(p.jsxs)(Ie.a,{onClick:n,disabled:a,children:[a?"Submitting":"Submit"," to ",f.full,a&&"..."]})}),Object(p.jsx)(Ie.b,{children:Object(p.jsx)(Ie.i,{label:u.short,address:b,link:d})}),Object(p.jsx)(ft,{open:r,onAction:c})]})},An=function(e){var t=e.tx,n=e.onSubmit,c=void 0===n?function(){}:n,a=e.submitting,r=e.depositHash,i=Object(Je.a)(),o=Object(At.b)(t,r),s=o.lockCurrencyConfig,l=o.lockChainConfig,u=o.lockTxHash,b=o.lockTxAmount,j=o.lockTxLink,d=o.mintTxLink,O=o.mintTxHash,h=o.mintChainConfig;t.transactions[r];return u=r,j="https://defiscan.live/transactions/"+r.split(":")[0],Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Ve.d,{children:Object(p.jsx)(Ve.c,{color:i.customColors.skyBlue,processing:!0,children:Object(p.jsx)(Ve.g,{status:"Pending",chain:h.full,address:Object(p.jsx)(Ye.a,{color:"primary",underline:"hover",href:d,target:"_blank",children:O})})})}),Object(p.jsx)(ke.a,{variant:"body1",align:"center",gutterBottom:!0,children:Object(p.jsx)(Ge,{value:b,spacedSuffix:s.full})}),Object(p.jsx)(Ie.b,{children:Object(p.jsxs)(Ie.a,{onClick:c,disabled:a,children:[a?"Submitting":"Submit"," to ",h.full,a&&"..."]})}),Object(p.jsx)(Ie.b,{children:Object(p.jsx)(Ie.i,{label:l.short,address:u,link:j})})]})},Mn=function(e){var t=e.tx,n=e.depositHash,a=e.mintHash,o=e.chain;Object(R.f)("Complete");var s=Object(r.b)(),l=Object(i.f)(),u=Object(At.b)(t,n),b=u.lockCurrencyConfig,j=u.mintCurrencyConfig,d=u.lockChainConfig,O=u.lockTxLink,h=(u.lockTxAmount,u.mintTxLink),f=u.mintChainConfig;O="https://defiscan.live/transactions/"+n.split(":")[0],h="ethereum"==o?"https://etherscan.io/tx/"+a:"https://bscscan.com/tx/"+a;var x=_e(b.symbol,ge.f.MINT),m=x.fees,g=x.pending,v=Object(qe.a)({fees:m,type:ge.f.MINT}).conversionTotal,C=Object(c.useCallback)((function(){l.push(M.a.MINT),s(Object(Nt.d)())}),[s,l]),y=Object(L.c)().showNotification,k=Nn().showBrowserNotification,w=Object(c.useCallback)((function(){if(!g){var e="Successfully minted ".concat(j.short," on ").concat(f.full,".");y(Object(p.jsxs)("span",{children:[e," ",Object(p.jsxs)(Ye.a,{external:!0,href:h,children:["View ",f.full," transaction"]})]})),k(e)}}),[y,k,g,v,f,j,h]);return Object(c.useEffect)(w,[g]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Ve.d,{children:Object(p.jsx)(Ve.c,{children:Object(p.jsx)(Ve.a,{})})}),Object(p.jsx)(Ie.b,{children:Object(p.jsx)(Ie.a,{onClick:C,children:"Back to start"})}),Object(p.jsxs)(zt.a,{display:"flex",justifyContent:"space-between",flexWrap:"wrap",py:2,children:[Object(p.jsxs)(Ye.a,{external:!0,color:"primary",variant:"button",underline:"hover",href:O,children:[d.full," transaction"]}),Object(p.jsxs)(Ye.a,{external:!0,color:"primary",variant:"button",underline:"hover",href:h,children:[f.full," transaction"]})]})]})},Rn=n(618),Bn=Object(u.a)((function(e){return{root:{color:e.palette.primary.main,fontSize:90,transition:"all 1s",display:"inline-flex",cursor:"pointer","&:hover":{color:e.palette.primary.dark}},disabled:{opacity:.2,cursor:"default"},hidden:{display:"none",opacity:0}}})),Pn=function(e){var t,n=e.direction,c=e.disabled,a=e.hidden,r=e.className,i=e.onClick,o=Bn(),l=O()(o.root,r,(t={},Object(s.a)(t,o.disabled,c),Object(s.a)(t,o.hidden,a),t)),u="prev"===n?Ae.I:Ae.H;return Object(p.jsx)(Rn.a,{className:l,disabled:c,onClick:i,children:Object(p.jsx)(u,{fontSize:"inherit"})})},Dn=Object(j.a)((function(e){return Object(p.jsx)(Pn,Object(o.a)({direction:"prev"},e))}))({position:"absolute",top:38,left:-42}),Ln=Object(j.a)((function(e){return Object(p.jsx)(Pn,Object(o.a)({direction:"next"},e))}))({position:"absolute",top:38,right:-42}),Fn=n(1395),Wn=n(2178),zn=n(417),_n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,a=e.transactions,r=Object.keys(a).map((function(e){return e})),i=r.length,o=t||i>0?r[0]:"",s=Object(c.useState)(o),l=Object(A.a)(s,2),u=l[0],b=l[1];Object(c.useEffect)((function(){b(o)}),[o]);var j=r.indexOf(u),d=i>0&&j+1<i?j+1:0,O=r[d],h=i>0&&j-1>=0?j-1:0,p=r[h],f=Object(c.useCallback)((function(){console.log(r),console.log("next:",O),b(O),n(O)}),[O]),x=Object(c.useCallback)((function(){console.log("prev:",p),b(p),n(p)}),[p]);return{currentHash:u,currentIndex:j,handleNext:f,handlePrev:x,total:i}},Hn=n(455),Un=function(e){var t=e.history,n=e.location;xe(!0);var a=Object(r.b)(),i=Object(r.c)(re.b),s=Object(nn.a)("rdDict",{"bcc207a0e3745b9b4394e0daa6c098edc4224cb28379505c70b8407d73738905:0":"skip"}),l=Object(A.a)(s,2),u=l[0],b=l[1],j=oe().walletConnected,d=Object(ge.s)(),O=d.tx,h=d.txState,f=Object(c.useState)(void 0!==(null===O||void 0===O?void 0:O.depositHash)?O.depositHash+":"+O.depositN:""),x=Object(A.a)(f,2),m=x[0],g=x[1],v=Object(c.useState)(!1),C=Object(A.a)(v,2),S=(C[0],C[1],Object(c.useState)(O)),E=Object(A.a)(S,2),I=E[0],M=E[1];Ce(I.id),Object(R.c)(Object(ge.n)(I));var B=Object(R.d)(),P=Object(A.a)(B,2),D=P[0],L=P[1];Object(c.useEffect)((function(){j||L("Resume Transaction")}),[j,L]);var F=Object(c.useCallback)((function(){t.goBack()}),[t]),W=null===O||void 0===O?void 0:O.destChain;Object(c.useEffect)((function(){if(W){var e=Object(Q.j)(W);a(Object(re.k)(e.symbol))}}),[a,W]);var z=Object(c.useCallback)((function(){a(Object(re.l)(!0))}),[a]),_=(Object(c.useCallback)((function(){t.replace(Object(o.a)(Object(o.a)({},n),{},{state:void 0}))}),[t,n]),!!I&&j),H=Object(Q.m)(I.sourceAsset).symbol,U=Object(c.useState)(0),G=Object(A.a)(U,2);G[0],G[1];return Object(c.useEffect)((function(){var e=setInterval((function(){I&&Dt(I.userAddress,I.destChain).then((function(e){var t=JSON.parse(JSON.stringify(I));if(1==e.status){var n=!1;if(void 0!==e.result&&void 0!==e.result.data&&e.result.data.length>0){for(var c=0;c<e.result.data.length;++c){var a,r,i=(null===(a=e.result.data[c].vout)||void 0===a?void 0:a.txid)+":"+(null===(r=e.result.data[c].vout)||void 0===r?void 0:r.n);i in u||i in t.transactions&&JSON.stringify(t.transactions[i])==JSON.stringify(e.result.data[c])||(t.transactions[i]=e.result.data[c],n=!0)}""===m&&Object.keys(t.transactions).length>0&&g(Object.keys(t.transactions)[0]),n&&M(t)}}}))}),3e3);return function(){return clearInterval(e)}}),[m]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(k,{children:[Object(p.jsx)(w,{children:Object(p.jsx)(ye.a,{onClick:F,children:Object(p.jsx)(Ae.b,{})})}),Object(p.jsx)(N,{children:D}),Object(p.jsx)(T,{})]}),Object(p.jsxs)(y,{bottomPadding:!0,children:[_&&Object(p.jsx)(Gn,{tx:I,depositHash:m,updateHash:function(e){g(e)},rdtx:u,setRdtx:b}),!j&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(cn.g,{children:Object(p.jsx)(cn.c,{children:Object(p.jsx)(hn,{})})}),Object(p.jsx)(Ie.a,{onClick:z,children:"Connect Wallet"})]})]}),j&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(we.a,{}),Object(p.jsx)(y,{darker:!0,topPadding:!0,bottomPadding:!0,children:Object(p.jsx)(Tt,{chain:i,currency:H,type:ge.f.MINT,address:I.userAddress})})]}),Object(p.jsx)(We,{it:{tx:I,txState:h}})]})},Gn=function(e){var t=e.tx,n=e.depositHash,a=void 0===n?"":n,o=e.updateHash,s=e.rdtx,l=e.setRdtx,u=Object(r.c)(re.b),b=Object(r.c)(Z.a),j=oe().account,d=Object(c.useState)("restoringDeposit"),O=Object(A.a)(d,2),h=O[0],f=O[1],x=_n(t,a,o),m=x.currentIndex,g=x.currentHash,v=x.total,C=x.handlePrev,y=x.handleNext,k=Object(L.c)(),w=k.showNotification,T=k.closeNotification,N=Object(c.useState)({}),S=Object(A.a)(N,2),E=S[0],I=S[1],R=Object(c.useState)(0),B=Object(A.a)(R,2),P=B[0],D=B[1],F=void 0,_=function(){D(P+1)};Object(c.useEffect)((function(){var e=t.transactions[a];(console.log(e),void 0!==F&&(Object(Hn.clearTimeout)(F),F=void 0),e)&&((null===e||void 0===e?void 0:e.good)||!1?a in E?(console.log(s),console.log(a),f(a in s?"completed":"accepted")):(f("srcConfirmed"),U(),F=setTimeout(_,12e3)):f("srcSettling"))}),[t,a,E,s,P]);var H=function(){var e=Object(z.a)(W.a.mark((function e(){var n,c,r,i,o,u,b,j,d,O,h;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("Submitting via Wallet Provider"),void 0!=(i=E[a]).signatures){e.next=4;break}return e.abrupt("return");case 4:return o="0x"+i.signatures[0].r||!1,u="0x"+i.signatures[0].s||!1,b="00"==i.signatures[0].recovery_id?0:1,console.log(t.destAddress,a.split(":")[0],parseInt(a.split(":")[1]),(null===Q||void 0===Q||null===(n=Q.vout)||void 0===n?void 0:n.value_satoshi)||0,t.sourceAsset,o,u,b+27),e.next=10,Y(t.destAddress,a.split(":")[0],parseInt(a.split(":")[1]),(null===Q||void 0===Q||null===(c=Q.vout)||void 0===c?void 0:c.value_satoshi)||0,t.sourceAsset,o,u,b+27);case 10:null!==(j=e.sent).err&&0!=(null===(r=j.err)||void 0===r?void 0:r.code)?(console.log(null===(d=j.err)||void 0===d?void 0:d.message),w((null===(O=j.err)||void 0===O?void 0:O.message)||"",{variant:"error",persist:!1})):(console.log(j),(h=JSON.parse(JSON.stringify(s)))[a]=j.result,l(h));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(z.a)(W.a.mark((function e(){var n,c;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Submitting Signing Request"),Lt(t.destAddress,((null===Q||void 0===Q||null===(n=Q.vout)||void 0===n?void 0:n.txid)||"").replace("0x",""),(null===Q||void 0===Q||null===(c=Q.vout)||void 0===c?void 0:c.n)||0,t.destChain).then((function(e){if(e&&1==(null===e||void 0===e?void 0:e.status)){var t=JSON.parse(JSON.stringify(E));t[a]=e,I(t)}})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){var e=0;return v>1&&(e=w(Object(p.jsx)(wt,{}),{variant:"warning",persist:!0})),function(){e&&T(e)}}),[w,T,v]);var G=Object(c.useState)(!1),V=Object(A.a)(G,2),K=V[0],q=V[1],J=Object(c.useCallback)((function(){q(!1)}),[]);Object(c.useEffect)((function(){j&&t.userAddress&&j.toLowerCase()!==t.userAddress.toLowerCase()?q(!0):q(!1)}),[j,t.userAddress,t]);var Q=Object(c.useMemo)((function(){if(void 0===(null===t||void 0===t?void 0:t.transactions))return null;var e=t.transactions[g||a];return e||null}),[g,t,a]),Y=function(){var e=Object(r.c)(re.d),t=ie(e),n=t.account,a=t.status,i=le(),o=Object(r.b)();return{getSignatures:Object(c.useCallback)(function(){var t=Object(z.a)(W.a.mark((function t(c,r,o,s,l,u,b,j){var d;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s-=1e6,!n||!i||"connected"!==a){t.next=13;break}return t.prev=2,console.log(c,r,o,s,l.toUpperCase(),u,b,j),t.next=6,ue(n,i,e,c,r,o,s,l.toUpperCase(),u,b,j);case 6:return d=t.sent,t.abrupt("return",{err:null,result:d});case 10:return t.prev=10,t.t0=t.catch(2),t.abrupt("return",{err:t.t0,result:null});case 13:return t.abrupt("return",{err:{code:-1,message:"something went wrong"},result:null});case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e,n,c,a,r,i,o,s){return t.apply(this,arguments)}}(),[n,i,a,e,o])}}().getSignatures,X=Object(i.g)(),$=Object(i.f)();Object(c.useEffect)((function(){if(X.search){var e=Object(ge.q)(X.search),n=((null===e||void 0===e?void 0:e.transactions)||{})[g];Q&&!n&&$.replace({pathname:M.a.MINT_TRANSACTION,search:"?"+Object(ge.h)(t)})}}),[g,a,X,Q,t,$]);var ee=Object(At.b)(t,g).mintCurrencyConfig,te=Object(ge.i)(u,b,j);return Object(p.jsxs)(p.Fragment,{children:[Q?Object(p.jsxs)(kt,{children:[Object(p.jsx)(Vn,{tx:t,deposit:Q,depositHash:a,state:h,submitter:H,mintHash:s[a]}),v>1&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Dn,{onClick:C,disabled:0===m}),Object(p.jsx)(Ln,{onClick:y,disabled:m===v-1})]})]}):Object(p.jsx)(Sn,{tx:t}),Object(p.jsx)(gt,{open:K,address:j,addressExplorerLink:te,currency:ee.short,onAlternativeAction:J}),Object(p.jsx)(We,{it:{depositHash:a,pagination:{currentIndex:m,currentHash:g,total:v},activeDeposit:Q,total:v,currentIndex:m,currentHash:g}})]})},Vn=function(e){var t=e.tx,n=(e.deposit,e.depositHash),c=e.state,a=e.submitter,r=e.mintHash;Object(i.f)(),Object(i.g)();switch(console.debug(t.id,n,c),c){case"srcSettling":return Object(p.jsx)(En,{tx:t,depositHash:n});case"srcConfirmed":return Object(p.jsx)(Ot,{reason:"Generating Signatures"});case"errorAccepting":case"errorSubmitting":case"claiming":case"accepted":return Object(p.jsx)(In,{tx:t,depositHash:n,submitting:"claiming"===c,submittingError:"errorSubmitting"===c||"errorAccepting"===c,onSubmit:a});case"destInitiated":return Object(p.jsx)(An,{tx:t,depositHash:n,submitting:!0});case"completed":return Object(p.jsx)(Mn,{tx:t,depositHash:n,mintHash:r,chain:t.destChain});case"restoringDeposit":return Object(p.jsx)(Ot,{reason:"Restoring deposit"});default:return Object(p.jsx)(Ot,{reason:"This is just weird"})}},Kn=function(){var e=Object(c.useState)(ge.c.INITIAL),t=Object(A.a)(e,2),n=t[0],a=t[1];Ce("");var r=Object(c.useCallback)((function(){a(ge.c.FEES)}),[]),i=Object(c.useCallback)((function(){a(ge.c.INITIAL)}),[]);return Object(p.jsxs)(p.Fragment,{children:[n===ge.c.INITIAL&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(D,{}),Object(p.jsx)(tn,{onNext:r})]}),n===ge.c.FEES&&Object(p.jsx)(Wt,{onPrev:i})]})},qn=function(e){e.match;return Object(R.c)("Minting"),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(i.a,{exact:!0,path:M.a.MINT,component:Kn}),Object(p.jsx)(i.a,{exact:!0,path:M.a.MINT_TRANSACTION,component:Un})]})},Jn=n(282),Qn=function(e){var t=e.tx,n=e.onSubmit,a=e.onReload,r=e.submitting,i=void 0!==r&&r,o=e.submittingError,s=e.generalError,l=e.pending,u=void 0!==l&&l;Object(R.f)("Submit");var b=Object(Je.a)(),j=Object(Jn.b)(t),d=j.burnChainConfig,O=j.releaseCurrencyConfig,h=j.burnTxHash,f=j.burnTxLink,x=d.MainIcon,m=Object(c.useCallback)((function(){n&&n()}),[n]),g=u||i;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Ve.d,{children:Object(p.jsx)(Ve.c,{color:b.customColors.skyBlue,processing:g,children:u?Object(p.jsx)(Ve.g,{status:"Pending",chain:d.full,address:Object(p.jsx)(Ye.a,{color:"primary",underline:"hover",href:f,target:"_blank",children:h})}):Object(p.jsx)(x,{fontSize:"inherit",color:"inherit"})})}),!u&&Object(p.jsxs)(ke.a,{variant:"body1",align:"center",gutterBottom:!0,children:["To receive your ",O.short,", submit a release transaction to ",d.full," via your Web3 Wallet."]}),Object(p.jsx)(Ie.b,{children:Object(p.jsxs)(Ie.a,{onClick:m,disabled:g,children:[g?"Submitting":"Submit"," to ",d.full,g&&"..."]})}),Object(p.jsx)(ft,{open:Boolean(o),onAction:a}),Object(p.jsx)(xt,{open:Boolean(s),onAction:a})]})},Yn=function(e){var t=e.tx;Object(R.f)("Completed");var n=Object(r.b)(),a=Object(i.f)(),o=Object(Jn.b)(t),s=o.releaseChainConfig,l=o.releaseCurrencyConfig,u=o.burnChainConfig,b=o.burnTxLink,j=o.releaseTxLink,d=o.releaseAddressLink,O=Object(c.useCallback)((function(){a.push(M.a.RELEASE),n(Object(St.d)())}),[n,a]),h="Successfully released ".concat(t.targetAmount," ").concat(l.short),f=Object(L.c)().showNotification,x=Nn().showBrowserNotification;return Object(wn.a)((function(){f(Object(p.jsxs)("span",{children:[h," ",Object(p.jsxs)(Ye.a,{external:!0,href:j||d,children:["View ",s.full," ",j?"transaction":"address"]})]})),x(h)})),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Ve.d,{children:Object(p.jsx)(Ve.c,{children:Object(p.jsx)(Ve.a,{})})}),Object(p.jsx)(Ie.b,{children:Object(p.jsx)(Ie.a,{onClick:O,children:"Back to Start"})}),Object(p.jsxs)(zt.a,{display:"flex",justifyContent:"space-between",flexWrap:"wrap",py:2,children:[Object(p.jsxs)(Ye.a,{external:!0,color:"primary",variant:"button",underline:"hover",href:j||d,children:[s.full," ",j?"transaction":"address"]}),Object(p.jsxs)(Ye.a,{external:!0,color:"primary",variant:"button",underline:"hover",href:b,children:[u.full," transaction"]})]}),Object(p.jsx)(We,{it:{tx:t}})]})},Xn=function(e){var t=e.txid,n=(e.amount,e.chain),a=e.onPrev;Object(R.f)("Completed");var o,s=Object(r.b)(),l=Object(i.f)(),u=Object(c.useCallback)((function(){a&&a(),s(Object(St.d)())}),[s,l]),b="Successfully released",j=Object(L.c)().showNotification,d=Nn().showBrowserNotification;return o="ethereum"==n?"https://etherscan.io/tx/"+t:"https://bscscan.com/tx/"+t,Object(wn.a)((function(){j(Object(p.jsxs)("span",{children:[b," ",Object(p.jsx)(Ye.a,{external:!0,href:o,children:"View Transaction"})]})),d(b)})),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Ve.d,{children:Object(p.jsx)(Ve.c,{children:Object(p.jsx)(Ve.a,{})})}),Object(p.jsx)(Ie.b,{children:Object(p.jsx)(Ie.a,{onClick:u,children:"Back to Start"})}),Object(p.jsx)(zt.a,{display:"flex",justifyContent:"space-between",flexWrap:"wrap",py:2,children:Object(p.jsx)(Ye.a,{external:!0,color:"primary",variant:"button",underline:"hover",href:o,children:"View Transaction on Block Explorer"})})]})},Zn=n(1572),$n=n(421),ec=n(1576),tc=function(e){return Object(ec.createHash)().update(e).digest()};!function(e){e.mainnet="mainnet",e.testnet="testnet",e.regtest="regtest"}(ce||(ce={})),function(e){e.p2pkh="p2pkh",e.p2sh="p2sh",e.p2wpkh="p2wpkh",e.p2wsh="p2wsh",e.p2tr="p2tr"}(ae||(ae={}));var nc={18:{type:ae.p2pkh,network:ce.mainnet},90:{type:ae.p2sh,network:ce.mainnet}},cc=function(e){var t,n=e.substr(0,2).toLowerCase();if("df"===n||"tb"===n)return function(e){var t;try{t=$n.bech32.decode(e)}catch(a){throw new Error("Invalid address")}var n={df:ce.mainnet,tb:ce.testnet,bcrt:ce.regtest}[t.prefix];if(void 0===n)throw new Error("Invalid address");var c=t.words[0];if(c<0||c>16)throw new Error("Invalid address");return{bech32:!0,network:n,address:e,type:20===$n.bech32.fromWords(t.words.slice(1)).length?ae.p2wpkh:1===c?ae.p2tr:ae.p2wsh}}(e);try{t=Object(Zn.base58_to_binary)(e)}catch(u){throw new Error("Invalid address")}var c=t.length;if(25!==c)throw new Error("Invalid address");var a=t[0],r=t.slice(c-4,c),i=t.slice(0,c-4),s=tc(tc(i)).slice(0,4);if(r.some((function(e,t){return e!==s[t]})))throw new Error("Invalid address");if(!Object.keys(nc).map(Number).includes(a))throw new Error("Invalid address");var l=nc[a];return Object(o.a)(Object(o.a)({},l),{},{address:e,bech32:!1})},ac=function(e,t){try{var n=cc(e);return console.log(n),!t||t===n.network}catch(c){return!1}},rc=ac,ic="The amount and asset you're releasing before fees are applied.",oc="The blockchain you are releasing the asset from.",sc="The wallet address you're receiving the assets to.",lc=function(e){var t=e.onPrev;xe(!0);var n=Object(r.b)(),a=(Object(i.f)(),oe()),o=a.account,s=a.walletConnected,l=Object(c.useState)(!1),u=Object(A.a)(l,2),b=u[0],j=u[1],d=Object(c.useState)(""),O=Object(A.a)(d,2),h=O[0],f=O[1],x=Object(c.useState)({}),m=Object(A.a)(x,2),g=m[0],v=m[1],C=Object(r.c)(St.a),S=C.currency,E=C.address,I=C.amount,M=Object(r.c)(Z.a),R=Object(r.c)(re.e),B=R.chain,P=(R.signatures.signature,Object(r.c)(re.d)),D=_e(0,ge.f.BURN),F=(D.fees,D.pending,function(){var e=Object(r.c)(re.d),t=ie(e),n=t.account,a=t.status,i=le(),o=Object(r.b)();return{getBurn:Object(c.useCallback)(function(){var t=Object(z.a)(W.a.mark((function t(c,r,o){var s,l;return W.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=BigInt(i.utils.toWei(r.toString(),"ether")),!n||!i||"connected"!==a){t.next=12;break}return t.prev=2,t.next=5,de(n,i,e,c,s,o.toUpperCase());case 5:return l=t.sent,t.abrupt("return",{err:null,result:l});case 9:return t.prev=9,t.t0=t.catch(2),t.abrupt("return",{err:t.t0,result:null});case 12:return t.abrupt("return",{err:{code:-1,message:"something went wrong"},result:null});case 13:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e,n,c){return t.apply(this,arguments)}}(),[n,i,a,e,o])}}().getBurn),_=Object(Q.l)(S),H=Object(Q.i)(B),U=Object(Q.z)(S),G=Object(Q.l)(U).MainIcon,V=Object(c.useMemo)((function(){return Object(Jn.a)({currency:S,destAddress:E,userAddress:o,sourceChain:P,network:M})}),[S,E,o,P,M]),K=Object(Jn.d)(V),q=Object(L.c)(),J=q.showNotification,Y=(q.closeNotification,Object(c.useCallback)(Object(z.a)(W.a.mark((function e(){var t,c,a;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j(!0),!s){e.next=9;break}return e.next=4,F(E,I,V.sourceAsset);case 4:c=e.sent,console.log(c),null!==c.err&&0!=(null===(t=c.err)||void 0===t?void 0:t.code)?(j(!1),J((null===(a=c.err)||void 0===a?void 0:a.message)||"",{variant:"error",persist:!1})):(j(!1),f(c.result)),e.next=11;break;case 9:j(!1),n(Object(re.l)(!0));case 11:case"end":return e.stop()}}),e)}))),[n,K,s])),X=Object(Q.z)(S),$=Object(Q.l)(X),ee=Object(Q.i)($.sourceChain),te=Object(c.useMemo)((function(){return ac(E,ce.mainnet)}),[ee.rentxName,M,E]),ne=function e(){""!=h&&0==((null===g||void 0===g?void 0:g.Executed)||!1)&&Ft(h,"BSCC"==B?"binance":"ethereum").then((function(t){v(t);setTimeout((function(){return e()}),3e3)})).catch((function(){setTimeout((function(){return e()}),3e3)}))};return Object(c.useEffect)((function(){""!=h&&ne()}),[h]),""!=h?1==((null===g||void 0===g?void 0:g.Executed)||!1)?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(k,{children:[Object(p.jsx)(w,{children:Object(p.jsx)(ye.a,{onClick:t,children:Object(p.jsx)(Ae.b,{})})}),Object(p.jsx)(N,{children:"All Done"}),Object(p.jsx)(T,{})]}),Object(p.jsx)(y,{bottomPadding:!0,children:Object(p.jsx)(Xn,{txid:h,amount:I,chain:V.sourceChain,onPrev:t})})]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(k,{}),Object(p.jsxs)(y,{bottomPadding:!0,children:[Object(p.jsx)(Ve.d,{children:Object(p.jsx)(Ve.c,{color:Tn.orangeLight,confirmations:(null===g||void 0===g?void 0:g.Confirmations)||0,targetConfirmations:5,children:Object(p.jsx)(G,{fontSize:"inherit",color:"inherit"})})}),Object(p.jsx)(cn.h,{children:Object(p.jsxs)(ke.a,{variant:"body1",align:"center",children:[(null===g||void 0===g?void 0:g.Confirmations)||0," of ",5," confirmations"]})}),Object(p.jsx)(cn.e,{children:Object(p.jsxs)(ke.a,{variant:"body1",align:"center",children:["Please wait until your transaction has been confirmed on the ","BSCC"==B?"Binance":"Ethereum"," Blockchain. Do not close this window, as your DFI  will be released after this step has completed."]})})]})]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(k,{children:[Object(p.jsx)(w,{children:Object(p.jsx)(ye.a,{onClick:t,children:Object(p.jsx)(Ae.b,{})})}),Object(p.jsx)(N,{children:"Fees & Confirm"}),Object(p.jsx)(T,{})]}),Object(p.jsxs)(y,{bottomPadding:!0,children:[Object(p.jsx)(Be.b,{children:Object(p.jsx)(Be.a,{value:Object(p.jsx)(Ge,{value:I,spacedSuffix:_.short})})}),Object(p.jsx)(ke.a,{variant:"body1",gutterBottom:!0,children:"Details"}),Object(p.jsx)(Be.d,{label:"Releasing",labelTooltip:ic,value:Object(p.jsx)(Ge,{value:I,spacedSuffix:_.short})}),Object(p.jsx)(Be.d,{label:"From",labelTooltip:oc,value:H.full}),Object(p.jsx)(Be.d,{label:"To",labelTooltip:sc,value:Object(p.jsx)(Be.e,{hoverable:!0,children:E})}),Object(p.jsx)(Be.f,{}),Object(p.jsx)(ke.a,{variant:"body1",gutterBottom:!0,children:"Fees"}),Object(p.jsx)(Tt,{chain:B,currency:S,type:ge.f.BURN,hideButton:!0})]}),Object(p.jsx)(we.a,{}),Object(p.jsx)(y,{darker:!0,topPadding:!0,bottomPadding:!0,children:Object(p.jsx)(Ie.b,{children:Object(p.jsx)(Ie.a,{onClick:Y,disabled:b||I<=.01||!te,children:s?b?"Confirming...":"Confirm":"Connect Wallet"})})})]})},uc=n(2179),bc=Object(u.a)((function(e){return{root:{fontSize:13},input:{paddingTop:10,fontSize:13}}})),jc=function(e){var t=bc(),n=t.input,c=Object(l.a)(t,["input"]);return Object(p.jsx)(uc.a,Object(o.a)({classes:c,variant:"outlined",InputProps:{notched:!1,classes:{root:n}},fullWidth:!0},e))},dc=Object(j.a)("div")({minHeight:75}),Oc=Object(j.a)("div")({marginTop:40,marginBottom:10}),hc=Object(j.a)("div")({marginTop:0,marginBottom:25}),pc=function(e){var t=e.onNext,n=Object(r.b)(),a=oe().walletConnected,i=Object(r.c)(re.e),o=i.chain,s=i.balances,l=Object(r.c)(Z.a),u=Object(r.c)(St.a),b=u.currency,j=u.address,d=u.amount,O=Jt(s,b);ve(b),qt(Q.x);var h,f=_e(0,ge.f.BURN),x=(f.fees,f.pending),m=Object(c.useCallback)((function(e){n(Object(re.k)(e.target.value))}),[n]),g=Object(c.useCallback)((function(e){n(Object(St.g)(e.target.value))}),[n]),v=Object(c.useCallback)((function(e){n(Object(St.e)(e.target.value))}),[n]),C=Object(c.useCallback)((function(e){n(Object(St.f)(e.target.value))}),[n]),k=Object(Q.z)(b),w=(Object(Q.l)(b),Object(Q.l)(k)),T=(w.MainIcon,Object(Q.i)(w.sourceChain)),N=Object(c.useMemo)((function(){return rc(j,ce.mainnet)}),[T.rentxName,l,j]),S=j&&N&&!x,E=null!==O;h=S&&d>.1;var I=Object(c.useCallback)((function(){a||n(Object(re.l)(!0)),t&&S&&E&&t()}),[n,t,a,S,E]);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(y,{children:[Object(p.jsx)(en,{children:Object(p.jsx)($t,{label:"Chain",mode:"chain",available:Q.u,value:o,onChange:m})}),Object(p.jsx)(en,{children:Object(p.jsx)($t,{label:"Asset",mode:"send",available:Q.x,balances:s,value:b,onChange:g})}),Object(p.jsx)(Oc,{children:Object(p.jsx)(jc,{error:!!j&&!N,placeholder:"Enter a Destination ".concat(T.full," Address"),label:"Releasing to",onChange:v,value:j})}),Object(p.jsx)(hc,{children:Object(p.jsx)(jc,{error:!!j&&!N,placeholder:"Enter an Amount",label:"Amount to Burn/Transfer",onChange:C})})]}),Object(p.jsx)(we.a,{}),Object(p.jsx)(y,{darker:!0,topPadding:!0,bottomPadding:!0,children:Object(p.jsx)(Ie.b,{children:Object(p.jsx)(Ie.a,{onClick:I,disabled:!!a&&!h,children:a?"Next":"Connect Wallet"})})})]})},fc=n(1148),xc=n(1117),mc=function(e){var t=e.open,n=e.onClose,c=e.onEnable;return Object(p.jsx)(ut,{title:" ",open:t,onClose:n,children:Object(p.jsxs)(ot,{children:[Object(p.jsx)(st,{children:Object(p.jsxs)(y,{topPadding:!0,children:[Object(p.jsx)(ke.a,{variant:"h5",align:"center",gutterBottom:!0,children:"Enable browser notifications"}),Object(p.jsx)(ke.a,{variant:"subtitle1",align:"center",color:"textSecondary",gutterBottom:!0,children:"It will let you track transaction progress."})]})}),Object(p.jsx)(lt,{children:Object(p.jsxs)(y,{bottomPadding:!0,children:[Object(p.jsx)(Ie.b,{children:Object(p.jsx)(Qe.a,{variant:"text",color:"primary",onClick:n,children:"Do not enable"})}),Object(p.jsx)(Ie.b,{children:Object(p.jsx)(Ie.a,{onClick:c,children:"Enable Browser Notifications"})})]})})]})})},gc=function(e){var t=e.pressed,n=e.onClick,c=e.onTooltipClose,a=e.tooltipOpened;return Object(p.jsx)(fc.a,{onClickAway:c,children:Object(p.jsx)(xc.a,{onClose:c,open:a,disableFocusListener:!0,disableHoverListener:!0,disableTouchListener:!0,title:"Turn off browser notifications in your browser settings.",children:Object(p.jsx)("span",{children:Object(p.jsx)(Ie.h,{pressed:t,variant:"notifications",onClick:n})})})})},vc=n(2171),Cc=n(275),yc=Object(u.a)((function(e){return{root:{padding:"8px 20px",fontSize:12},iconWrapper:{minWidth:32}}})),kc=function(e){var t=e.onClick,n=e.Icon,c=e.children,a=e.className,r=(e.button,Object(l.a)(e,["onClick","Icon","children","className","button"])),i=yc();return Object(p.jsxs)(Ut.a,Object(o.a)(Object(o.a)({dense:!0,onClick:t,className:O()(i.root,a)},r),{},{children:[Object(p.jsx)(vc.a,{className:i.iconWrapper,children:Object(p.jsx)(Cc.a,{Icon:n,fontSize:"small",variant:"outlined"})}),Object(p.jsx)(ke.a,{variant:"inherit",children:c})]}))},wc=Object(u.a)((function(e){return{root:{fontSize:12},modalTitle:{padding:"12px 20px"},titleIconWrapper:{minWidth:32},menuItems:{paddingTop:6,minHeight:150},transferId:{paddingBottom:10}}})),Tc=function(e){var t=e.open,n=e.onClose,a=e.onDeleteTx,r=e.onUpdateTx,i=e.tx,s=wc(),l=Object(c.useCallback)((function(){n&&n()}),[n]),u=Object(c.useState)(!1),b=Object(A.a)(u,2),j=b[0],d=b[1],O=Object(c.useCallback)((function(){d(!1)}),[]),h=Object(c.useCallback)((function(){d(!0)}),[]),f=Object(c.useState)(!1),x=Object(A.a)(f,2),m=x[0],g=x[1],v=Object(c.useCallback)((function(){g(!1)}),[]),C=Object(c.useCallback)((function(){g(!0)}),[]);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(ut,{open:t,onClose:l,className:s.root,children:[Object(p.jsxs)(ct,{className:s.modalTitle,onClose:l,children:[Object(p.jsx)(vc.a,{className:s.titleIconWrapper,children:Object(p.jsx)(Cc.a,{Icon:Ae.N,fontSize:"small",variant:"solid"})}),Object(p.jsx)(ke.a,{variant:"inherit",children:"Transaction Menu"})]}),Object(p.jsxs)(ot,{children:[Object(p.jsx)(st,{children:Object(p.jsxs)("div",{className:s.menuItems,children:[Object(p.jsx)(kc,{Icon:Ae.a,onClick:C,children:"Insert/update transaction"}),Object(p.jsx)(kc,{Icon:Ae.q,onClick:h,children:"Delete transaction"})]})}),Object(p.jsxs)(lt,{children:[Object(p.jsx)(y,{paddingVariant:"medium",className:s.transferId,children:Object(p.jsxs)(ke.a,{variant:"inherit",children:["Transfer ID: ",i.id]})}),Object(p.jsx)(we.a,{}),Object(p.jsx)(y,{bottomPadding:!0,topPadding:!0,paddingVariant:"medium",children:Object(p.jsx)(Qe.a,Object(o.a)(Object(o.a)({variant:"outlined",size:"small",href:"https://renprotocol.typeform.com/to/YdmFyB"},Ye.b),{},{children:"Report an Issue"}))})]})]})]}),Object(p.jsx)(Nc,{open:j,onClose:O,onDeleteTx:a}),r&&Object(p.jsx)(Ec,{open:m,onClose:v,onUpdateTx:r})]})},Nc=function(e){var t=e.open,n=e.onClose,a=e.onDeleteTx,r=Object(c.useState)(!1),i=Object(A.a)(r,2),o=i[0],s=i[1],l=Object(c.useCallback)((function(){s(!0),a()}),[a]);return Object(p.jsx)(ut,{title:"Delete a Transaction",open:t,onClose:n,children:Object(p.jsxs)(ot,{children:[Object(p.jsx)(st,{children:Object(p.jsxs)(y,{topPadding:!0,children:[Object(p.jsx)(ke.a,{variant:"h5",align:"center",gutterBottom:!0,children:"Are you sure?"}),Object(p.jsx)(ke.a,{variant:"body2",align:"center",color:"textSecondary",gutterBottom:!0,children:"If you have already sent your assets you will lose them forever if you remove the transaction."})]})}),Object(p.jsx)(lt,{children:Object(p.jsxs)(y,{bottomPadding:!0,children:[Object(p.jsx)(Ie.b,{children:Object(p.jsxs)(Ie.f,{variant:"text",color:"inherit",startIcon:Object(p.jsx)(Ae.q,{}),onClick:l,disabled:o,children:[o?"Removing...":"Remove"," Transaction"]})}),Object(p.jsx)(Ie.b,{children:Object(p.jsx)(Ie.a,{onClick:n,disabled:o,children:"Cancel"})})]})})]})})},Sc=function(e){return Number.isInteger(Number(e))},Ec=function(e){var t=e.open,n=e.onClose,a=e.onUpdateTx,r=Object(c.useState)(""),i=Object(A.a)(r,2),o=i[0],s=i[1],l=Object(c.useState)(""),u=Object(A.a)(l,2),b=u[0],j=u[1],d=Object(c.useState)(""),O=Object(A.a)(d,2),h=O[0],f=O[1],x=Object(c.useState)(!1),m=Object(A.a)(x,2),g=m[0],v=m[1],C=o&&b&&h,k=Object(c.useCallback)((function(e){var t=e.target.value;Sc(t)&&s(t)}),[]),w=Object(c.useCallback)((function(e){var t=e.target.value;Sc(t)&&j(t)}),[]),T=Object(c.useCallback)((function(e){f(e.target.value)}),[]),N=Object(c.useCallback)((function(){v(!0),a(Number(o),Number(b),h)}),[a,h,b,o]);return Object(p.jsx)(ut,{title:"Update Transaction Hash",open:t,onClose:n,children:Object(p.jsxs)(ot,{children:[Object(p.jsx)(st,{children:Object(p.jsxs)(y,{topPadding:!0,children:[Object(p.jsx)(dc,{children:Object(p.jsx)(jc,{label:"Amount (sats)",value:o,onChange:k,placeholder:"Enter amount in sats"})}),Object(p.jsx)(dc,{children:Object(p.jsx)(jc,{label:"Transaction Hash",value:h,onChange:T,placeholder:"Enter transaction hash"})}),Object(p.jsx)(dc,{children:Object(p.jsx)(jc,{label:"vOut",value:b,onChange:w,placeholder:"Enter transaction vOut"})})]})}),Object(p.jsx)(lt,{children:Object(p.jsxs)(y,{bottomPadding:!0,children:[Object(p.jsx)(Ie.b,{children:Object(p.jsxs)(Ie.f,{variant:"text",color:"inherit",onClick:N,disabled:g||!C,children:[g?"Updating...":"Update"," transaction"]})}),Object(p.jsx)(Ie.b,{children:Object(p.jsx)(Ie.a,{onClick:n,disabled:g,children:"Cancel"})})]})})]})})},Ic=function(e){var t=Object(ge.g)(e),n=Object(ee.useMultiwallet)().enabledChains,c=Object(r.c)(Z.a),a=Object.entries(n).reduce((function(e,t){return Object(o.a)(Object(o.a)({},e),{},Object(s.a)({},t[0],t[1].provider))}),{}),i=Object(Wn.a)(Fn.burnMachine,{context:{tx:t,providers:a,sdk:Object(zn.a)(c),fromChainMap:Kt.a,toChainMap:Kt.f,autoSubmit:!!Object.values(e.transactions)[0]},devTools:U.b.XSTATE_DEVTOOLS});return Ac(i[2]),i},Ac=function(e){},Mc=function(e){var t=e.history,n=e.location;xe(!0);var a=Object(r.b)(),s=oe().status===q.CONNECTED,l=Object(r.c)(re.b),u=Object(c.useState)(!1),b=Object(A.a)(u,2),j=b[0],d=b[1],O=Object(ge.s)(),h=O.tx,f=O.txState,x=Object(c.useState)(h),m=Object(A.a)(x,2),g=m[0],v=m[1];Ce(g.id),Object(R.c)(Object(ge.n)(g));var C=Object(R.d)(),S=Object(A.a)(C,2),E=S[0],I=S[1];Object(c.useEffect)((function(){s||I("Resume Transaction")}),[s,I]),Object(c.useEffect)((function(){(null===f||void 0===f?void 0:f.reloadTx)&&(v(h),d(!0),t.replace(Object(o.a)(Object(o.a)({},n),{},{state:void 0})),setTimeout((function(){d(!1)}),1e3))}),[t,n,f,h]);var B=Object(c.useCallback)((function(){t.goBack()}),[t]),P=null===h||void 0===h?void 0:h.sourceChain,D=function(e){var t=Object(r.b)(),n=Object(i.f)(),a=Object(L.c)().showNotification,o=oe().walletConnected,s=Object(c.useState)(!1),l=Object(A.a)(s,2),u=l[0],b=l[1],j=Object(c.useCallback)((function(){b(!1)}),[]);return{menuOpened:u,handleMenuOpen:Object(c.useCallback)((function(){o&&b(!0)}),[o]),handleMenuClose:j,handleDeleteTx:Object(c.useCallback)((function(){J.deleteTx(e).then((function(){t(Object(me.h)(e)),a("Transaction ".concat(Y(e.id,6)," deleted.")),n.push(e.type===ge.f.MINT?M.a.MINT:M.a.RELEASE)}))}),[t,n,a,e])}}(g),F=D.menuOpened,W=D.handleMenuOpen,z=D.handleMenuClose,_=D.handleDeleteTx,H=function(){var e=Nn().enabled,t=Object(c.useState)(!1),n=Object(A.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)(!1),o=Object(A.a)(i,2),s=o[0],l=o[1],u=Object(c.useCallback)((function(){l(!1)}),[]);return{modalOpened:a,handleModalOpen:Object(c.useCallback)((function(){e?l(!s):r(!0)}),[e,s]),handleModalClose:Object(c.useCallback)((function(){r(!1)}),[]),tooltipOpened:s,handleTooltipClose:u}}(),U=H.modalOpened,G=H.handleModalOpen,V=H.handleModalClose,K=H.tooltipOpened,X=H.handleTooltipClose,Z=Nn(V),$=Z.enabled,ee=Z.handleEnable;Object(c.useEffect)((function(){if(P){var e=Object(Q.j)(P);a(Object(re.k)(e.symbol))}}),[a,P]);var te=Object(c.useCallback)((function(){a(Object(re.l)(!0))}),[a]),ne=Object(Jn.b)(g),ce=ne.burnCurrencyConfig,ae=ne.burnChainConfig;ne.releaseCurrencyConfig;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(k,{children:[Object(p.jsx)(w,{children:(null===f||void 0===f?void 0:f.newTx)&&Object(p.jsx)(ye.a,{onClick:B,children:Object(p.jsx)(Ae.b,{})})}),Object(p.jsx)(N,{children:E}),Object(p.jsxs)(T,{children:[Object(p.jsx)(gc,{pressed:$,onClick:G,tooltipOpened:K,onTooltipClose:X}),Object(p.jsx)(Ie.h,{variant:"settings",onClick:W,pressed:F})]})]}),Object(p.jsxs)(y,{bottomPadding:!0,children:[j&&Object(p.jsx)(Ot,{processing:!0}),s&&!j&&Object(p.jsx)(Rc,{tx:g}),!s&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(cn.g,{children:Object(p.jsx)(cn.c,{children:Object(p.jsx)(hn,{})})}),Object(p.jsx)(Ie.a,{onClick:te,children:"Connect Wallet"})]})]}),s&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(we.a,{}),Object(p.jsxs)(y,{darker:!0,topPadding:!0,bottomPadding:!0,children:[Object(p.jsx)(Be.d,{label:"Releasing",value:Object(p.jsx)(Ge,{value:0,spacedSuffix:ce.short}),valueEquivalent:Object(p.jsx)(Ge,{value:0,prefix:"$",decimalScale:2,fixedDecimalScale:!0})}),Object(p.jsx)(Be.d,{label:"From",value:ae.full}),Object(p.jsx)(Be.d,{label:"To",value:Object(p.jsx)(Be.e,{hoverable:!0,children:g.destAddress})}),Object(p.jsx)(Be.f,{}),Object(p.jsx)(Tt,{chain:l,currency:ce.symbol,type:ge.f.BURN}),Object(p.jsx)(We,{it:{parsedTx:h,txState:f}})]})]}),Object(p.jsx)(mc,{open:U,onClose:V,onEnable:ee}),Object(p.jsx)(Tc,{tx:g,open:F,onClose:z,onDeleteTx:_}),Object(p.jsx)(We,{it:{tooltipOpened:K,parsedTx:h,txState:f}})]})},Rc=function(e){var t=e.tx,n=Object(i.f)(),a=Object(i.g)(),r=Ic(t),s=Object(A.a)(r,3),l=s[0],u=s[1],b=s[2];Object(c.useEffect)((function(){return function(){console.info("stopping tx machine"),b.stop()}}),[b]);var j=Object(c.useState)(!1),d=Object(A.a)(j,2),O=d[0],h=d[1],f=Object(c.useState)(!1),x=Object(A.a)(f,2),m=x[0],g=(x[1],Object(c.useCallback)((function(){h(!0),u({type:"SUBMIT"})}),[u])),v=Object(c.useCallback)((function(){n.replace(Object(o.a)(Object(o.a)({},a),{},{state:{txState:{reloadTx:!0}}}))}),[n,a]);Object(c.useEffect)((function(){"srcSettling"===l.value&&n.replace({pathname:M.a.RELEASE_TRANSACTION,search:"?"+Object(ge.h)(l.context.tx)})}),[n,l.value,l.context.tx]);var C=l.value;switch(console.debug(t.id,C),C){case"created":return Object(p.jsx)(Qn,{tx:t,onSubmit:g,submitting:O,submittingError:m,onReload:v});case"errorBurning":case"errorReleasing":case"srcSettling":return Object(p.jsx)(Qn,{tx:l.context.tx,pending:!0,generalError:"srcSettling"!==C,onReload:v});case"srcConfirmed":return Object(p.jsx)(Ot,{reason:"Submitting to RenVM"});case"accepted":return Object(p.jsx)(Ot,{reason:"Releasing from RenVM"});case"destInitiated":return Object(p.jsx)(Yn,{tx:l.context.tx});default:return Object(p.jsx)(Ot,{})}},Bc=function(){var e=Object(c.useState)(ge.c.INITIAL),t=Object(A.a)(e,2),n=t[0],a=t[1],r=Object(c.useCallback)((function(){a(ge.c.FEES)}),[]),i=Object(c.useCallback)((function(){a(ge.c.INITIAL)}),[]);return Object(p.jsxs)(p.Fragment,{children:[n===ge.c.INITIAL&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(D,{}),Object(p.jsx)(pc,{onNext:r})]}),n===ge.c.FEES&&Object(p.jsx)(lc,{onPrev:i})]})},Pc=function(){return Object(R.c)("Releasing"),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(i.a,{exact:!0,path:M.a.RELEASE,component:Bc}),Object(p.jsx)(i.a,{exact:!0,path:M.a.RELEASE_TRANSACTION,component:Mc})]})},Dc=n(2172),Lc=n(2170),Fc=n(2140),Wc=n(1585),zc=n.n(Wc),_c=n(2177),Hc=n(345),Uc=n.n(Hc),Gc=[$.RenNetwork.Mainnet,$.RenNetwork.Testnet,$.RenNetwork.TestnetVDot3,$.RenNetwork.MainnetVDot3],Vc=n(2183),Kc=n(1578),qc=n.n(Kc),Jc=n(1580),Qc=n.n(Jc),Yc=n(1579),Xc=n.n(Yc),Zc=n(1577),$c=n.n(Zc),ea=Object(u.a)((function(e){return{root:{flexShrink:0,marginLeft:e.spacing(2.5)},button:{color:e.palette.common.black}}}));function ta(e){var t=ea(),n=Object(Je.a)(),c=e.count,a=e.page,r=e.rowsPerPage,i=e.onChangePage;return Object(p.jsxs)("div",{className:t.root,children:[Object(p.jsx)(ye.a,{className:t.button,onClick:function(e){i(e,0)},disabled:0===a,"aria-label":"first page",children:"rtl"===n.direction?Object(p.jsx)($c.a,{}):Object(p.jsx)(qc.a,{})}),Object(p.jsx)(ye.a,{className:t.button,onClick:function(e){i(e,a-1)},disabled:0===a,"aria-label":"previous page",children:"rtl"===n.direction?Object(p.jsx)(Xc.a,{}):Object(p.jsx)(Qc.a,{})}),Object(p.jsx)(ye.a,{className:t.button,onClick:function(e){i(e,a+1)},disabled:a>=Math.ceil(c/r)-1,"aria-label":"next page",children:"rtl"===n.direction?Object(p.jsx)(Qc.a,{}):Object(p.jsx)(Xc.a,{})}),Object(p.jsx)(ye.a,{className:t.button,onClick:function(e){i(e,Math.max(0,Math.ceil(c/r)-1))},disabled:a>=Math.ceil(c/r)-1,"aria-label":"last page",children:"rtl"===n.direction?Object(p.jsx)(qc.a,{}):Object(p.jsx)($c.a,{})})]})}var na=Object(u.a)((function(e){return{root:{flexShrink:0},button:{padding:1,fontSize:16,marginTop:-3,color:e.palette.common.black}}}));function ca(e){var t=na(),n=Object(Je.a)(),c=e.count,a=e.page,r=e.rowsPerPage,i=e.onChangePage;return Object(p.jsxs)("div",{className:t.root,children:[Object(p.jsx)(ye.a,{className:t.button,onClick:function(e){i(e,a-1)},disabled:0===a,"aria-label":"previous page",children:"rtl"===n.direction?Object(p.jsx)(Ae.H,{fontSize:"inherit"}):Object(p.jsx)(Ae.I,{fontSize:"inherit"})}),Object(p.jsx)(ye.a,{className:t.button,onClick:function(e){i(e,a+1)},disabled:a>=Math.ceil(c/r)-1,"aria-label":"next page",children:"rtl"===n.direction?Object(p.jsx)(Ae.I,{fontSize:"inherit"}):Object(p.jsx)(Ae.H,{fontSize:"inherit"})})]})}var aa=Object(u.a)((function(e){return{toolbar:{display:"flex",justifyContent:"space-between",minHeight:24,paddingRight:0,paddingLeft:0,"&:nth-child(2)":{display:"none"}},spacer:{display:"none"},caption:{fontSize:14,marginRight:2}}})),ra=function(e){var t=aa();return Object(p.jsx)(Vc.a,Object(o.a)({component:zt.a,classes:t,rowsPerPageOptions:[4],ActionsComponent:ta},e))},ia=function(e){var t=e.count,n=e.page;return"".concat(n+1," of ").concat(t)},oa=Object(u.a)((function(e){return{toolbar:{display:"inline-flex",justifyContent:"space-between",minHeight:16,paddingRight:0,paddingLeft:0,"&:nth-child(2)":{display:"none"}},spacer:{display:"none"},caption:{fontSize:12}}})),sa=function(e){var t=e.rowsPerPage,n=Object(l.a)(e,["rowsPerPage"]),c=oa();return Object(p.jsx)(Vc.a,Object(o.a)({component:zt.a,classes:c,rowsPerPage:t,rowsPerPageOptions:[t],labelRowsPerPage:Object(p.jsx)(p.Fragment,{}),labelDisplayedRows:ia,ActionsComponent:ca},n))},la=Object(u.a)({show:{},hide:{display:"none"}}),ua=function(e){var t=e.when,n=e.children,c=la();return Object(p.jsx)("div",{className:t?c.show:c.hide,children:n})},ba=n(2184),ja={paddingLeft:30,paddingRight:30},da=Object(u.a)((function(e){return{root:Object(o.a)(Object(o.a)({},ja),{},{paddingTop:20,background:e.customColors.greyHeaderBackground,display:"flex",justifyContent:"space-between",alignItems:"center"}),header:{},actions:{display:"flex",alignItems:"center"}}})),Oa=Object(j.a)("div")((function(e){e.theme;return Object(o.a)({},ja)})),ha=function(e){var t=e.title,n=e.children,c=da();return Object(p.jsxs)("div",{className:c.root,children:[Object(p.jsx)(ke.a,{variant:"h6",children:t}),Object(p.jsx)("div",{className:c.actions,children:n})]})},pa=Object(u.a)((function(e){return{root:Object(o.a)(Object(o.a)({},ja),{},{paddingTop:12,paddingBottom:6,background:e.customColors.greyHeaderBackground,borderBottom:"1px solid ".concat(e.palette.divider)}),title:{fontWeight:e.typography.fontWeightBold,lineHeight:1.2}}})),fa=function(e){var t=e.title,n=pa();return Object(p.jsx)("div",{className:n.root,children:t&&Object(p.jsx)(ke.a,{variant:"overline",className:n.title,children:t})})},xa=Object(j.a)("div")((function(e){var t=e.theme;return Object(o.a)(Object(o.a)({},ja),{},{paddingTop:10,paddingBottom:10,backgroundColor:t.customColors.greyHeaderBackground})})),ma=Object(u.a)((function(e){return{root:Object(o.a)(Object(o.a)({},ja),{},{paddingTop:18,paddingBottom:18,borderBottom:"1px solid ".concat(e.palette.divider),display:"flex",justifyContent:"space-between",alignItems:"center"}),details:{alignSelf:"flex-start"},datetime:{},date:{marginRight:6},time:{marginRight:32},multiple:{display:"inline-flex",marginRight:6},multipleLabel:{marginRight:16},multiplePagination:{},description:{marginTop:3,marginBottom:3},title:{fontSize:15},links:{},expired:{fontSize:14,display:"inline-block",marginRight:8},link:{fontSize:14,display:"inline-block",marginRight:24,"&:last-child":{marginRight:0}},tooltipIcon:{fontSize:15,marginBottom:-2,marginRight:2},actions:{flexGrow:1,paddingRight:20,display:"flex",justifyContent:"flex-end"},status:{}}})),ga=function(e){var t=e.tx,n=e.isActive,a=Object(r.b)(),o=Object(i.f)(),s=Object(c.useCallback)((function(){o.push({pathname:M.a.MINT_TRANSACTION,search:"?"+Object(ge.h)(t),state:{txState:{reloadTx:!0}}}),a(Object(me.k)(!1))}),[a,o,t]);return Object(At.d)(t)||n?Object(p.jsx)(ya,{tx:t,isActive:n,onContinue:s}):Object(p.jsx)(va,{tx:t})},va=function(e){var t=e.tx,n=Object(r.b)(),a=Object(i.f)(),l=function(e){var t=Object(ge.g)(e),n=Object(ee.useMultiwallet)().enabledChains,c=Object(r.c)(Z.a),a=Object.entries(n).reduce((function(e,t){return Object(o.a)(Object(o.a)({},e),{},Object(s.a)({},t[0],t[1].provider))}),{});return Object(Wn.a)(Fn.mintMachine,{context:{tx:t,providers:a,sdk:Object(zn.a)(c),fromChainMap:Kt.c,toChainMap:Kt.e},devTools:U.b.XSTATE_DEVTOOLS})}(t),u=Object(A.a)(l,3),b=u[0],j=u[2];Object(c.useEffect)((function(){return function(){j.stop()}}),[j]);var d=Object(c.useCallback)((function(){a.push({pathname:M.a.MINT_TRANSACTION,search:"?"+Object(ge.h)(t),state:{txState:{reloadTx:!0}}}),n(Object(me.k)(!1))}),[n,a,t]);return Object(p.jsx)(ya,{tx:b.context.tx,onContinue:d})},Ca=Object(j.a)(ba.a)((function(e){var t=e.theme;return{color:t.customColors.alertWarning,backgroundColor:t.customColors.alertWarningBackground}})),ya=function(e){var t=e.tx,n=e.isActive,a=e.onContinue,o=Object(r.b)(),s=Object(i.f)(),l=ma(),u=_n(t,"",(function(e){})),b=u.handleNext,j=u.handlePrev,d=u.currentIndex,O=u.currentHash,h=u.total,f=Object(At.b)(t,O),x=f.lockChainConfig,m=f.lockConfirmations,g=f.lockTargetConfirmations,v=f.lockTxLink,C=f.lockTxAmount,y=f.mintCurrencyConfig,k=f.mintChainConfig,w=f.mintTxLink,T=f.meta,N=T.status,S=T.phase,E=T.createdTimestamp,I=T.transactionsCount,A=Object(c.useCallback)((function(){var e=Object(At.b)(t,O),n=e.lockCurrencyConfig,c=e.mintChainConfig;e.suggestedAmount;o(Object(me.k)(!1)),o(Object(Nt.d)({currency:n.symbol})),o(Object(re.k)(c.symbol)),s.push({pathname:M.a.MINT})}),[o,s,t,O]),R=dt(E),B=R.date,P=R.time,D=Ae.B;N===ge.d.COMPLETED?D=Ae.n:S===ge.e.LOCK?D=x.Icon:S===ge.e.MINT&&(D=k.Icon);var L=Object(c.useCallback)((function(e,t){t>d?b():j()}),[d,b,j]),F=Object(c.useCallback)((function(){a&&a(O)}),[O,a]),W=Object(At.b)(t,O);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(We,{wrapper:!0,it:{currentHash:O,currentIndex:d,tx:t,params:W,completed:Object(ge.o)(t)}}),Object(p.jsxs)("div",{className:l.root,children:[Object(p.jsxs)("div",{className:l.details,children:[Object(p.jsxs)("div",{className:l.datetime,children:[Object(p.jsx)(ba.a,{size:"small",label:B,className:l.date}),Object(p.jsx)(ba.a,{size:"small",label:P,className:l.time}),I>1&&Object(p.jsxs)("div",{className:l.multiple,children:[Object(p.jsx)(Ca,{size:"small",className:l.multipleLabel,label:"Multiple deposits"}),Object(p.jsx)(sa,{className:l.multiplePagination,count:h,rowsPerPage:1,page:d,onChangePage:L})]})]}),Object(p.jsx)("div",{className:l.description,children:Object(p.jsxs)(ke.a,{variant:"body2",className:l.title,children:["Mint ",C||t.targetAmount," ",y.short," ","on ",k.full]})}),Object(p.jsxs)("div",{className:l.links,children:[v&&Object(p.jsxs)(Ye.a,{href:v,external:!0,color:"primary",underline:"hover",className:l.link,children:[x.full," transaction"]}),N===ge.d.EXPIRED&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(ke.a,{variant:"body2",color:"textSecondary",display:"inline",className:l.expired,children:[Object(p.jsx)(xc.a,{title:"This Gateway Address has expired. Gateway Addresses are only valid for 24 hours. If you have sent funds to this Gateway Address but have not submitted them to the destination chain then they are lost forever.",children:Object(p.jsx)("span",{children:Object(p.jsx)(Ae.L,{fontSize:"inherit",color:"inherit",className:l.tooltipIcon})})}),"Expired"]}),Object(p.jsx)(Ye.a,{color:"primary",underline:"hover",className:l.link,onClick:A,children:"Restart transaction"})]}),w&&Object(p.jsxs)(Ye.a,{href:w,external:!0,color:"primary",underline:"hover",className:l.link,children:[k.full," transaction"]})]})]}),Object(p.jsxs)("div",{className:l.actions,children:[n&&Object(p.jsx)(ke.a,{color:"primary",variant:"body2",children:"Currently viewing"}),!n&&N===ge.d.ACTION_REQUIRED&&Object(p.jsxs)(Ie.g,{onClick:F,children:[S===ge.e.LOCK?"Continue":"Finish"," mint"]}),!n&&N===ge.d.PENDING&&m<g&&Object(p.jsxs)(ke.a,{color:"primary",variant:"body2",children:[m,"/",g," Confirmations"]})]}),Object(p.jsx)("div",{className:l.status,children:Object(p.jsx)(Ve.f,{needsAction:N===ge.d.ACTION_REQUIRED,Icon:D,showConfirmations:S===ge.e.LOCK,confirmations:m,targetConfirmations:g})})]})]})},ka=function(e){var t=e.tx,n=e.isActive;return Object(Jn.c)(t)||n?Object(p.jsx)(Ta,{tx:t,isActive:n}):Object(p.jsx)(wa,{tx:t})},wa=function(e){var t=e.tx,n=Object(r.b)(),a=Object(i.f)(),o=Ic(t),s=Object(A.a)(o,3),l=s[0],u=s[2];Object(c.useEffect)((function(){return function(){u.stop()}}),[u]);var b=Object(c.useCallback)((function(){a.push({pathname:M.a.RELEASE_TRANSACTION,search:"?"+Object(ge.h)(t),state:{txState:{reloadTx:!0}}}),n(Object(me.k)(!1))}),[n,a,t]);return Object(p.jsx)(Ta,{tx:l.context.tx,onContinue:b})},Ta=function(e){var t=e.tx,n=e.onContinue,a=e.isActive,r=ma(),i=Object(Jn.b)(t),o=i.burnChainConfig,s=i.burnTxLink,l=i.releaseCurrencyConfig,u=i.releaseChainConfig,b=i.releaseAddressLink,j=i.meta,d=j.status,O=j.phase,h=j.createdTimestamp,f=dt(h),x=f.date,m=f.time,g=Ae.B;d===ge.d.COMPLETED?g=Ae.n:O===ge.e.BURN&&(g=o.Icon);var v=Object(c.useCallback)((function(){n&&n()}),[n]),C=Object(Jn.b)(t);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(We,{wrapper:!0,it:{tx:t,params:C,completed:Object(ge.o)(t)}}),Object(p.jsx)(We,{disable:!0,it:{meta:C.meta}}),Object(p.jsxs)("div",{className:r.root,children:[Object(p.jsxs)("div",{className:r.details,children:[Object(p.jsxs)("div",{className:r.datetime,children:[Object(p.jsx)(ba.a,{size:"small",label:x,className:r.date}),Object(p.jsx)(ba.a,{size:"small",label:m})]}),Object(p.jsx)("div",{className:r.description,children:Object(p.jsxs)(ke.a,{variant:"body2",className:r.title,children:["Release ",t.targetAmount," ",l.short," to"," ",u.full]})}),Object(p.jsxs)("div",{className:r.links,children:[d===ge.d.EXPIRED&&O===ge.e.BURN&&Object(p.jsx)(ke.a,{variant:"body2",color:"error",className:r.link,children:"Transaction expired"}),s&&Object(p.jsxs)(Ye.a,{href:s,external:!0,color:"primary",underline:"hover",className:r.link,children:[o.full," transaction"]}),b&&Object(p.jsxs)(Ye.a,{href:b,external:!0,color:"primary",underline:"hover",className:r.link,children:[u.full," address"]})]})]}),Object(p.jsxs)("div",{className:r.actions,children:[a&&Object(p.jsx)(ke.a,{color:"primary",variant:"body2",children:"Currently viewing"}),!a&&d===ge.d.ACTION_REQUIRED&&Object(p.jsx)(Ie.g,{onClick:v,children:"Finish release"})]}),Object(p.jsx)("div",{className:r.status,children:Object(p.jsx)(Ve.f,{needsAction:d===ge.d.ACTION_REQUIRED,Icon:g,showConfirmations:O===ge.e.BURN})})]})]})},Na=Object(u.a)({paper:{marginTop:0},container:{paddingTop:68}}),Sa=function(e){var t=Na();return Object(p.jsx)(Ze.a,Object(o.a)({maxWidth:"sm",fullWidth:!0,classes:t},e))},Ea=function(){var e=Object(r.b)(),t=oe(),n=t.account,a=t.walletConnected,i=fe().isAuthenticated,o=Object(r.c)(re.e),s=o.chain,l=o.user,u=Object(r.c)(me.c),b=Object(r.c)(me.d).txsPending,j=Object(r.c)(me.f),d=Object(r.c)(me.b);Object(c.useEffect)((function(){a&&(i||e(Object(me.l)(!0)),i&&J.getTxs(n).then((function(t){e(Object(me.j)(t.filter((function(e){return e.sourceChain===Object(Q.f)(s)||e.destChain===Object(Q.f)(s)})))),e(Object(me.l)(!1))})).catch(console.error))}),[e,a,i,l,n,s]);var O,h=Object(Q.i)(s),f=Object(c.useCallback)((function(){e(Object(re.l)(!0))}),[e]),x=Object(c.useCallback)((function(t){e(Object(re.k)(t.target.value))}),[e]),m=Object(c.useCallback)((function(){e(Object(me.k)(!1))}),[e]),g=u.length,v=Object(c.useState)(0),C=Object(A.a)(v,2),y=C[0],k=C[1],w=Object(c.useCallback)((function(e,t){k(t)}),[]),T=g,N=a&&!b,S=Object(c.useMemo)((function(){return{pendingTxsCount:u.filter((function(e){return!Object(ge.o)(e)})).length,completedTxsCount:u.filter((function(e){return Object(ge.o)(e)})).length}}),[u]),E=S.pendingTxsCount,I=S.completedTxsCount;return Object(p.jsxs)(Sa,{open:j,onBackdropClick:m,keepMounted:!0,children:[Object(p.jsxs)(ha,{title:"Transactions",children:[Object(p.jsx)(zt.a,{mr:1,children:Object(p.jsx)(ke.a,{variant:"subtitle2",children:"Viewing: "})}),Object(p.jsx)($t,{mode:"chain",condensed:!0,available:Q.w,value:s,onChange:x})]}),(!a||b)&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(fa,{}),Object(p.jsx)(Oa,{children:Object(p.jsxs)(cn.a,{children:[!a&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(cn.e,{children:Object(p.jsxs)(ke.a,{variant:"body1",align:"center",children:["Please connect"," ",(O=h.full,Boolean(O)&&O.length>0&&X.includes(O.charAt(0).toLowerCase())?"an":"a")," ",h.full," compatible wallet to view transactions"]})}),Object(p.jsxs)(cn.b,{children:[Object(p.jsx)(cn.e,{children:Object(p.jsx)(cn.c,{children:Object(p.jsx)(hn,{})})}),Object(p.jsx)(Ie.b,{children:Object(p.jsx)(Ie.a,{onClick:f,children:"Connect Wallet"})})]})]}),b&&Object(p.jsx)(cn.b,{children:Object(p.jsx)(Ve.b,{color:"primary",size:100})})]})})]}),N&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)("div",{children:u.map((function(e,t){var n=4*y,c=t>=n&&t<n+4,a=t===n,r=t>0&&Object(ge.o)(e)&&!Object(ge.o)(u[t-1]),i=a||r,o=Object(ge.o)(e)?"Completed (".concat(I,")"):"Pending (".concat(E,")"),s=Object(p.jsx)(fa,{title:o});return e.type===ge.f.MINT?Object(p.jsxs)(ua,{when:c,children:[i&&s,Object(p.jsx)(ga,{tx:e,isActive:d===e.id})]},e.id):Object(p.jsxs)(ua,{when:c,children:[i&&s,Object(p.jsx)(ka,{tx:e,isActive:d===e.id})]},e.id)}))}),0===u.length&&Object(p.jsx)(cn.g,{children:Object(p.jsx)(ke.a,{variant:"body2",align:"center",color:"textSecondary",children:"You have no transactions with this account."})}),Object(p.jsx)(xa,{children:Object(p.jsx)(ra,{count:T,rowsPerPage:4,page:y,onChangePage:w})})]})]})},Ia=n(50),Aa=n(1581),Ma=n(1405),Ra=n(1582),Ba=n(1583),Pa=U.b.BSC_MM_ENABLED||Uc.a.parse(window.location.search).bscMetamaskEnabled,Da=U.b.MEWCONNECT_ENABLED||Uc.a.parse(window.location.search).MEWConnectEnabled,La=U.b.WALLETCONNECT_ENABLED||Uc.a.parse(window.location.search).walletConnectEnabled,Fa={1:[$.RenNetwork.Mainnet],42:[$.RenNetwork.Testnet,$.RenNetwork.TestnetVDot3]},Wa=function(e){var t=Object.entries(Fa).find((function(t){var n=Object(A.a)(t,2);n[0];return n[1].includes(e)}));return t?parseInt(t[0]):t},za=function(e){var t,n=Number(e);return(null===(t=Fa[n])||void 0===t?void 0:t[0])||$.RenNetwork.Testnet},_a=function(e){var t;return{chains:(t={},Object(s.a)(t,Q.e.ethereum,[{name:"Metamask",logo:"https://avatars1.githubusercontent.com/u/11744586?s=60&v=4s",connector:new Ma.a({debug:U.b.DEV,networkIdMapper:za})}].concat(Object(Ia.a)(Da?[{name:"MEW",logo:"https://avatars1.githubusercontent.com/u/24321658?s=60&v=4s",connector:new Ra.a({debug:U.b.DEV,rpc:{42:"wss://kovan.infura.io/ws/v3/".concat(U.b.INFURA_ID),1:"wss://mainnet.infura.io/ws/v3/".concat(U.b.INFURA_ID)},chainId:e})}]:[]),Object(Ia.a)(La?[{name:"WalletConnect",logo:"https://avatars0.githubusercontent.com/u/37784886?s=60&v=4",connector:new Ba.a({rpc:{42:"https://kovan.infura.io/v3/".concat(U.b.INFURA_ID),1:"wss://mainnet.infura.io/ws/v3/".concat(U.b.INFURA_ID)},qrcode:!0,debug:!0})}]:[]))),Object(s.a)(t,Q.e.binanceSmartChain,Object(Ia.a)(Pa?[{name:"Metamask",logo:"https://avatars2.githubusercontent.com/u/45615063?s=60&v=4",connector:function(){var e=new Aa.a({debug:!0});return e.getProvider=function(){return window.ethereum},e}()}]:[])),t)}},Ha=n(617),Ua=n(230),Ga=n(211),Va=function(e){var t=e.children,n=Object(Ua.b)(),o=Object(r.b)();!function(){var e=Object(i.g)(),t=Object(r.b)(),n=Uc.a.parse(e.search);Object(c.useEffect)((function(){var e=n.network;e&&Gc.indexOf(e)>-1&&t(Object(Z.c)(n.network))}),[t,n.network])}(),function(){var e=oe(),t=e.targetNetwork,n=e.setTargetNetwork,a=Object(r.c)(Z.a);Object(c.useEffect)((function(){a!==t&&(console.info("syncing multiwallet with network",a),n(a.includes("mainnet")?$.RenNetwork.Mainnet:a.includes("testnet")?$.RenNetwork.Testnet:a))}),[a,n,t])}(),function(){var e=pe().getSignatures;Object(c.useEffect)((function(){e()}),[e])}();var s=fe(),l=(s.authenticate,s.isAuthenticated),u=s.isAuthenticating,b=oe(),j=b.status,d=b.account,h=b.walletConnected,f=b.deactivateConnector,x=b.symbol,m=Object(r.c)(me.d).txHistoryOpened,g=Object(r.c)(me.e),v=Object(r.c)(re.a),C=Object(c.useState)(!1),y=Object(A.a)(C,2),k=(y[0],y[1]);Object(Vt.a)((function(){k(h&&!l&&!u&&(v||m))}),1e3,[h,l,v,m]);var w=Object(c.useState)(!0),T=Object(A.a)(w,2),N=T[0],S=T[1],E=Object(c.useCallback)((function(){S(!1)}),[]),I=Object(c.useCallback)((function(){S(!0)}),[]),M=Object(_c.a)().width,R=Object(Je.a)();Object(c.useEffect)((function(){M>R.breakpoints.values.sm&&S(!1)}),[M,R.breakpoints]);var B=Object(c.useCallback)((function(){o(Object(me.k)(!m))}),[o,m]),P=Object(r.c)(re.d),D=Object(r.c)(re.f),L=Object(r.c)(Z.a),F=ln(),W=a.a.useState(null),z=Object(A.a)(W,2),_=z[0],H=z[1],G=Object(c.useCallback)((function(){o(Object(re.l)(!1))}),[o]),V=Object(c.useCallback)((function(){H(null)}),[]),K=Object(c.useCallback)((function(e){h?H(e.currentTarget):o(Object(re.l)(!0))}),[o,h]),q=Object(c.useCallback)((function(){f(),V()}),[f,V]),J=Object(c.useMemo)((function(){return{targetNetwork:L,chain:P,onClose:G,pickerClasses:F,ConnectingInfo:dn,WrongNetworkInfo:pn,WalletEntryButton:bn,WalletChainLabel:jn,config:_a(Wa(L)||1)}}),[P,G,F,L]),Q=ie(P),Y=Object(ee.useMultiwallet)(),X=It(),te="main-menu-mobile",ne=h&&g,ce=Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:n.desktopMenu,children:[Object(p.jsx)(vn,{onClick:K,hoisted:m,status:j,account:d,wallet:x}),Object(p.jsx)(ee.WalletPickerModal,{open:D,options:J})]}),Object(p.jsx)("div",{className:n.mobileMenu,children:Object(p.jsx)(ye.a,{"aria-label":"show more","aria-controls":te,"aria-haspopup":"true",onClick:I,color:"inherit",children:Object(p.jsx)(zc.a,{})})})]}),ae=Object(p.jsxs)(Dc.a,{anchor:"right",id:te,keepMounted:!0,open:N,onClose:E,PaperProps:{className:n.drawerPaper},children:[Object(p.jsx)("div",{className:n.drawerHeader,children:Object(p.jsx)(ye.a,{"aria-label":"close",className:n.drawerClose,onClick:E,children:Object(p.jsx)(tt.a,{})})}),Object(p.jsx)(we.a,{}),Object(p.jsx)(Lc.a,{divider:!0,className:n.drawerListItem,button:!0,onClick:K,children:Object(p.jsx)(vn,{className:n.mobileMenuButton,mobile:!0,status:j,account:d,wallet:x})}),Object(p.jsx)(Lc.a,{divider:!0,className:n.drawerListItem,button:!0,onClick:B,children:Object(p.jsxs)(Qe.a,{className:n.mobileMenuButton,component:"div",children:[Object(p.jsx)(Ie.j,{className:n.mobileTxHistory,indicator:ne}),Object(p.jsx)("span",{children:"View Transactions"})]})}),Object(p.jsx)(Lc.a,{className:O()(n.drawerListItem,n.drawerFooterListItem),children:Object(p.jsx)(Ha.a,{mobile:!0})})]}),se=Object(p.jsx)(Ga.b,{to:"/welcome",children:Object(p.jsx)(zt.a,{display:"inline-block",p:3,children:Object(p.jsx)(Ae.i,{width:"auto",height:"auto"})})}),le=Object(p.jsx)(Fc.a,{id:"wallet-menu",getContentAnchorEl:null,anchorEl:_,keepMounted:!0,open:Boolean(_),onClose:V,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:Object(p.jsx)(Ut.a,{onClick:q,children:Object(p.jsx)(ke.a,{color:"error",children:"Disconnect wallet"})})});return Object(p.jsxs)(Ua.a,{ToolbarMenu:ce,DrawerMenu:ae,WalletMenu:le,Logo:se,children:[t,Object(p.jsx)(Ea,{}),Object(p.jsx)(We,{it:{isAuthenticated:l,debugNetworkName:X,debugWallet:Q,debugMultiwallet:Y,env:U.b}})]})},Ka=function(e){var t=e.children;return Object(p.jsx)(ee.MultiwalletProvider,{children:Object(p.jsx)(Va,{children:t})})};t.default=function(e){var t=e.history,n=e.location;localStorage.getItem(I.c.TERMS_AGREED)||t.replace(M.a.WELCOME),"/"===n.pathname&&t.replace(M.a.WELCOME);var c=Object(r.c)(Et.a).paperShaking;return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(Ka,{children:Object(p.jsx)(R.a,{children:Object(p.jsx)(m,{children:Object(p.jsxs)(x,{shaking:c,children:[Object(p.jsx)(i.a,{path:M.a.MINT,component:qn}),Object(p.jsx)(i.a,{path:M.a.RELEASE,component:Pc})]})})})})})}}}]);
//# sourceMappingURL=8.812dbfd3.chunk.js.map