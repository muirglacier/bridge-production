/*! For license information please see 5.35215fb5.chunk.js.LICENSE.txt */
(this["webpackJsonpdefichain-bridge"]=this["webpackJsonpdefichain-bridge"]||[]).push([[5],{1125:function(t,e,n){"use strict";n.r(e);var r=n(237);n.d(e,"default",(function(){return r.a}))},1126:function(t,e,n){"use strict";n.r(e);var r=n(190);n.d(e,"default",(function(){return r.a}))},1184:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.oneOf=e.Null=e.BufferN=e.Function=e.UInt32=e.UInt8=e.tuple=e.maybe=e.Hex=e.Buffer=e.String=e.Boolean=e.Array=e.Number=e.Hash256bit=e.Hash160bit=e.Buffer256bit=e.Network=e.ECPoint=e.Satoshi=e.Signer=e.BIP32Path=e.UInt31=e.isPoint=e.typeforce=void 0;var r=n(4);e.typeforce=n(1576);var i=r.Buffer.alloc(32,0),o=r.Buffer.from("fffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f","hex");e.isPoint=function(t){if(!r.Buffer.isBuffer(t))return!1;if(t.length<33)return!1;var e=t[0],n=t.slice(1,33);if(0===n.compare(i))return!1;if(n.compare(o)>=0)return!1;if((2===e||3===e)&&33===t.length)return!0;var a=t.slice(33);return 0!==a.compare(i)&&(!(a.compare(o)>=0)&&(4===e&&65===t.length))};var a=Math.pow(2,31)-1;function s(t){return e.typeforce.String(t)&&!!t.match(/^(m\/)?(\d+'?\/)*\d+'?$/)}e.UInt31=function(t){return e.typeforce.UInt32(t)&&t<=a},e.BIP32Path=s,s.toJSON=function(){return"BIP32 derivation path"},e.Signer=function(t){return(e.typeforce.Buffer(t.publicKey)||"function"===typeof t.getPublicKey)&&"function"===typeof t.sign};e.Satoshi=function(t){return e.typeforce.UInt53(t)&&t<=21e14},e.ECPoint=e.typeforce.quacksLike("Point"),e.Network=e.typeforce.compile({messagePrefix:e.typeforce.oneOf(e.typeforce.Buffer,e.typeforce.String),bip32:{public:e.typeforce.UInt32,private:e.typeforce.UInt32},pubKeyHash:e.typeforce.UInt8,scriptHash:e.typeforce.UInt8,wif:e.typeforce.UInt8}),e.Buffer256bit=e.typeforce.BufferN(32),e.Hash160bit=e.typeforce.BufferN(20),e.Hash256bit=e.typeforce.BufferN(32),e.Number=e.typeforce.Number,e.Array=e.typeforce.Array,e.Boolean=e.typeforce.Boolean,e.String=e.typeforce.String,e.Buffer=e.typeforce.Buffer,e.Hex=e.typeforce.Hex,e.maybe=e.typeforce.maybe,e.tuple=e.typeforce.tuple,e.UInt8=e.typeforce.UInt8,e.UInt32=e.typeforce.UInt32,e.Function=e.typeforce.Function,e.BufferN=e.typeforce.BufferN,e.Null=e.typeforce.Null,e.oneOf=e.typeforce.oneOf},1191:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.signature=e.number=e.isCanonicalScriptSignature=e.isDefinedHashType=e.isCanonicalPubKey=e.toStack=e.fromASM=e.toASM=e.decompile=e.compile=e.isPushOnly=e.OPS=void 0;var r=n(1404),i=n(1323);Object.defineProperty(e,"OPS",{enumerable:!0,get:function(){return i.OPS}});var o=n(1573),a=n(1574),s=n(1575),u=n(1184),c=u.typeforce,f=i.OPS.OP_RESERVED;function l(t){return u.Buffer(t)||function(t){return u.Number(t)&&(t===i.OPS.OP_0||t>=i.OPS.OP_1&&t<=i.OPS.OP_16||t===i.OPS.OP_1NEGATE)}(t)}function h(t){return u.Array(t)&&t.every(l)}function d(t){return 0===t.length?i.OPS.OP_0:1===t.length?t[0]>=1&&t[0]<=16?f+t[0]:129===t[0]?i.OPS.OP_1NEGATE:void 0:void 0}function p(e){return t.isBuffer(e)}function v(e){return t.isBuffer(e)}function y(e){if(p(e))return e;c(u.Array,e);var n=e.reduce((function(t,e){return v(e)?1===e.length&&void 0!==d(e)?t+1:t+o.encodingLength(e.length)+e.length:t+1}),0),r=t.allocUnsafe(n),i=0;if(e.forEach((function(t){if(v(t)){var e=d(t);if(void 0!==e)return r.writeUInt8(e,i),void(i+=1);i+=o.encode(r,t.length,i),t.copy(r,i),i+=t.length}else r.writeUInt8(t,i),i+=1})),i!==r.length)throw new Error("Could not decode chunks");return r}function g(t){if(e=t,u.Array(e))return t;var e;c(u.Buffer,t);for(var n=[],r=0;r<t.length;){var a=t[r];if(a>i.OPS.OP_0&&a<=i.OPS.OP_PUSHDATA4){var s=o.decode(t,r);if(null===s)return null;if((r+=s.size)+s.number>t.length)return null;var f=t.slice(r,r+s.number);r+=s.number;var l=d(f);void 0!==l?n.push(l):n.push(f)}else n.push(a),r+=1}return n}function m(t){var e=-129&t;return e>0&&e<4}e.isPushOnly=h,e.compile=y,e.decompile=g,e.toASM=function(t){return p(t)&&(t=g(t)),t.map((function(t){if(v(t)){var e=d(t);if(void 0===e)return t.toString("hex");t=e}return i.REVERSE_OPS[t]})).join(" ")},e.fromASM=function(e){return c(u.String,e),y(e.split(" ").map((function(e){return void 0!==i.OPS[e]?i.OPS[e]:(c(u.Hex,e),t.from(e,"hex"))})))},e.toStack=function(e){return e=g(e),c(h,e),e.map((function(e){return v(e)?e:e===i.OPS.OP_0?t.allocUnsafe(0):a.encode(e-f)}))},e.isCanonicalPubKey=function(t){return u.isPoint(t)},e.isDefinedHashType=m,e.isCanonicalScriptSignature=function(e){return!!t.isBuffer(e)&&(!!m(e[e.length-1])&&r.check(e.slice(0,-1)))},e.number=a,e.signature=s}).call(this,n(4).Buffer)},1192:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.UNSIGNED_TX=0]="UNSIGNED_TX",t[t.GLOBAL_XPUB=1]="GLOBAL_XPUB"}(e.GlobalTypes||(e.GlobalTypes={})),e.GLOBAL_TYPE_NAMES=["unsignedTx","globalXpub"],function(t){t[t.NON_WITNESS_UTXO=0]="NON_WITNESS_UTXO",t[t.WITNESS_UTXO=1]="WITNESS_UTXO",t[t.PARTIAL_SIG=2]="PARTIAL_SIG",t[t.SIGHASH_TYPE=3]="SIGHASH_TYPE",t[t.REDEEM_SCRIPT=4]="REDEEM_SCRIPT",t[t.WITNESS_SCRIPT=5]="WITNESS_SCRIPT",t[t.BIP32_DERIVATION=6]="BIP32_DERIVATION",t[t.FINAL_SCRIPTSIG=7]="FINAL_SCRIPTSIG",t[t.FINAL_SCRIPTWITNESS=8]="FINAL_SCRIPTWITNESS",t[t.POR_COMMITMENT=9]="POR_COMMITMENT"}(e.InputTypes||(e.InputTypes={})),e.INPUT_TYPE_NAMES=["nonWitnessUtxo","witnessUtxo","partialSig","sighashType","redeemScript","witnessScript","bip32Derivation","finalScriptSig","finalScriptWitness","porCommitment"],function(t){t[t.REDEEM_SCRIPT=0]="REDEEM_SCRIPT",t[t.WITNESS_SCRIPT=1]="WITNESS_SCRIPT",t[t.BIP32_DERIVATION=2]="BIP32_DERIVATION"}(e.OutputTypes||(e.OutputTypes={})),e.OUTPUT_TYPE_NAMES=["redeemScript","witnessScript","bip32Derivation"]},1193:function(t,e,n){"use strict";n.d(e,"a",(function(){return I})),n.d(e,"b",(function(){return O})),n.d(e,"c",(function(){return w})),n.d(e,"d",(function(){return N})),n.d(e,"e",(function(){return S})),n.d(e,"f",(function(){return T})),n.d(e,"g",(function(){return x})),n.d(e,"h",(function(){return A})),n.d(e,"i",(function(){return j})),n.d(e,"j",(function(){return c})),n.d(e,"k",(function(){return u})),n.d(e,"l",(function(){return b})),n.d(e,"m",(function(){return k})),n.d(e,"n",(function(){return d})),n.d(e,"o",(function(){return P})),n.d(e,"p",(function(){return g})),n.d(e,"q",(function(){return p})),n.d(e,"r",(function(){return v})),n.d(e,"s",(function(){return y})),n.d(e,"t",(function(){return _})),n.d(e,"u",(function(){return E})),n.d(e,"v",(function(){return f})),n.d(e,"w",(function(){return l})),n.d(e,"x",(function(){return h}));var r=n(1200),i=n(1254),o=n(1204),a=n(1219),s=n(1285),u=Object(o.C)({type:s.f});function c(t,e){return e&&e[t]||void 0}function f(t,e){var n;if(Object(o.k)(t)||"number"===typeof t){var i=c(t,e);n=Object(o.g)(i)?{type:t,exec:i}:i||{type:t,exec:void 0}}else if(Object(o.g)(t))n={type:t.name||t.toString(),exec:t};else{i=c(t.type,e);if(Object(o.g)(i))n=Object(r.a)(Object(r.a)({},t),{exec:i});else if(i){var a=i.type||t.type;n=Object(r.a)(Object(r.a)(Object(r.a)({},i),t),{type:a})}else n=t}return Object.defineProperty(n,"toString",{value:function(){return n.type},enumerable:!1,configurable:!0}),n}var l=function(t,e){return t?(Object(o.e)(t)?t:[t]).map((function(t){return f(t,e)})):[]};function h(t){var e=f(t);return Object(r.a)(Object(r.a)({id:Object(o.k)(t)?t:e.id},e),{type:e.type})}function d(t){return Object(o.k)(t)?{type:s.k,event:t}:p(t,{to:a.b.Internal})}function p(t,e){return{to:e?e.to:void 0,type:s.l,event:Object(o.g)(t)?t:Object(o.y)(t),delay:e?e.delay:void 0,id:e&&void 0!==e.id?e.id:Object(o.g)(t)?t.name:Object(o.c)(t)}}function v(t,e){return p(t,Object(r.a)(Object(r.a)({},e),{to:a.b.Parent}))}function y(){return v(s.o)}function g(t,e){return p(t,Object(r.a)(Object(r.a)({},e),{to:function(t,e,n){return n._event.origin}}))}var m=function(t,e){return{context:t,event:e}};function b(t,e){return void 0===t&&(t=m),{type:s.h,label:e,expr:t}}var w=function(t){return{type:s.b,sendId:t}};function _(t){var e=h(t);return{type:a.a.Start,activity:e,exec:void 0}}function E(t){var e=Object(o.g)(t)?t:h(t);return{type:a.a.Stop,activity:e,exec:void 0}}var O=function(t){return{type:s.a,assignment:t}};function I(t,e){var n=e?"#"+e:"";return a.a.After+"("+t+")"+n}function S(t,e){var n=a.a.DoneState+"."+t,r={type:n,data:e,toString:function(){return n}};return r}function T(t,e){var n=a.a.DoneInvoke+"."+t,r={type:n,data:e,toString:function(){return n}};return r}function x(t,e){var n=a.a.ErrorPlatform+"."+t,r={type:n,data:e,toString:function(){return n}};return r}function k(t){return{type:a.a.Pure,get:t}}function j(t,e){return p((function(t,e){return e}),Object(r.a)(Object(r.a)({},e),{to:t}))}function A(t,e){return v((function(e,n,r){return{type:s.d,data:Object(o.g)(t)?t(e,n,r):t}}),Object(r.a)(Object(r.a)({},e),{to:a.b.Parent}))}function N(t){return{type:a.a.Choose,conds:t}}function P(t,e,n,u,c){var h=Object(r.b)(Object(o.s)(c,(function(t){return t.type===s.a})),2),d=h[0],p=h[1],v=d.length?Object(o.I)(n,u,d,e):n;return[Object(o.b)(p.map((function(n){var c,h;switch(n.type){case s.k:return h=n,{type:s.k,_event:Object(o.C)(h.event)};case s.l:var d=function(t,e,n,i){var a,s={_event:n},u=Object(o.C)(Object(o.g)(t.event)?t.event(e,n.data,s):t.event);if(Object(o.k)(t.delay)){var c=i&&i[t.delay];a=Object(o.g)(c)?c(e,n.data,s):c}else a=Object(o.g)(t.delay)?t.delay(e,n.data,s):t.delay;var f=Object(o.g)(t.to)?t.to(e,n.data,s):t.to;return Object(r.a)(Object(r.a)({},t),{to:f,_event:u,event:u.data,delay:a})}(n,v,u,t.options.delays);return i.a||Object(o.K)(!Object(o.k)(n.delay)||"number"===typeof d.delay,"No delay reference for delay expression '"+n.delay+"' was found on machine '"+t.id+"'"),d;case s.h:return function(t,e,n){return Object(r.a)(Object(r.a)({},t),{value:Object(o.k)(t.expr)?t.expr:t.expr(e,n.data,{_event:n})})}(n,v,u);case s.c:if(!(y=null===(c=n.conds.find((function(n){var r=Object(o.z)(n.cond,t.options.guards);return!r||Object(o.a)(t,r,v,u,e)})))||void 0===c?void 0:c.actions))return[];var p=P(t,e,v,u,l(Object(o.x)(y),t.options.actions));return v=p[1],p[0];case s.j:var y;if(!(y=n.get(v,u.data)))return[];p=P(t,e,v,u,l(Object(o.x)(y),t.options.actions));return v=p[1],p[0];case s.n:return function(t,e,n){var r=Object(o.g)(t.activity)?t.activity(e,n.data):t.activity,i="string"===typeof r?{id:r}:r;return{type:a.a.Stop,activity:i}}(n,v,u);default:return f(n,t.options.actions)}}))),v]}},1199:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.testnet=e.regtest=e.bitcoin=void 0,e.bitcoin={messagePrefix:"\x18Bitcoin Signed Message:\n",bech32:"bc",bip32:{public:76067358,private:76066276},pubKeyHash:0,scriptHash:5,wif:128},e.regtest={messagePrefix:"\x18Bitcoin Signed Message:\n",bech32:"bcrt",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239},e.testnet={messagePrefix:"\x18Bitcoin Signed Message:\n",bech32:"tb",bip32:{public:70617039,private:70615956},pubKeyHash:111,scriptHash:196,wif:239}},1200:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"d",(function(){return s})),n.d(e,"e",(function(){return o}));var r=function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function i(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function o(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function a(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function s(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(a(arguments[e]));return t}},1204:function(t,e,n){"use strict";n.d(e,"a",(function(){return H})),n.d(e,"b",(function(){return g})),n.d(e,"c",(function(){return u})),n.d(e,"d",(function(){return D})),n.d(e,"e",(function(){return k})),n.d(e,"f",(function(){return _})),n.d(e,"g",(function(){return j})),n.d(e,"h",(function(){return R})),n.d(e,"i",(function(){return P})),n.d(e,"j",(function(){return E})),n.d(e,"k",(function(){return A})),n.d(e,"l",(function(){return a})),n.d(e,"m",(function(){return w})),n.d(e,"n",(function(){return d})),n.d(e,"o",(function(){return h})),n.d(e,"p",(function(){return s})),n.d(e,"q",(function(){return v})),n.d(e,"r",(function(){return F})),n.d(e,"s",(function(){return O})),n.d(e,"t",(function(){return p})),n.d(e,"u",(function(){return l})),n.d(e,"v",(function(){return V})),n.d(e,"w",(function(){return C})),n.d(e,"x",(function(){return b})),n.d(e,"y",(function(){return M})),n.d(e,"z",(function(){return N})),n.d(e,"A",(function(){return q})),n.d(e,"B",(function(){return G})),n.d(e,"C",(function(){return U})),n.d(e,"D",(function(){return c})),n.d(e,"E",(function(){return y})),n.d(e,"F",(function(){return f})),n.d(e,"G",(function(){return B})),n.d(e,"H",(function(){return L})),n.d(e,"I",(function(){return T})),n.d(e,"J",(function(){return S})),n.d(e,"K",(function(){return x}));var r=n(1200),i=n(1332),o=n(1254);function a(t){return Object.keys(t)}function s(t,e,n){void 0===n&&(n=i.c);var r=f(t,n),o=f(e,n);return A(o)?!!A(r)&&o===r:A(r)?r in o:a(r).every((function(t){return t in o&&s(r[t],o[t])}))}function u(t){try{return A(t)||"number"===typeof t?""+t:t.type}catch(e){throw new Error("Events must be strings or objects with a string event.type property.")}}function c(t,e){try{return k(t)?t:t.toString().split(e)}catch(n){throw new Error("'"+t+"' is not a valid state path.")}}function f(t,e){return"object"===typeof(n=t)&&"value"in n&&"context"in n&&"event"in n&&"_event"in n?t.value:k(t)?l(t):"string"!==typeof t?t:l(c(t,e));var n}function l(t){if(1===t.length)return t[0];for(var e={},n=e,r=0;r<t.length-1;r++)r===t.length-2?n[t[r]]=t[r+1]:(n[t[r]]={},n=n[t[r]]);return e}function h(t,e){for(var n={},r=a(t),i=0;i<r.length;i++){var o=r[i];n[o]=e(t[o],o,t,i)}return n}function d(t,e,n){var i,o,s={};try{for(var u=Object(r.e)(a(t)),c=u.next();!c.done;c=u.next()){var f=c.value,l=t[f];n(l)&&(s[f]=e(l,f,t))}}catch(h){i={error:h}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}return s}var p=function(t){return function(e){var n,i,o=e;try{for(var a=Object(r.e)(t),s=a.next();!s.done;s=a.next()){o=o[s.value]}}catch(u){n={error:u}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return o}};function v(t,e){return function(n){var i,o,a=n;try{for(var s=Object(r.e)(t),u=s.next();!u.done;u=s.next()){var c=u.value;a=a[e][c]}}catch(f){i={error:f}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}return a}}function y(t){return t?A(t)?[[t]]:g(a(t).map((function(e){var n=t[e];return"string"===typeof n||n&&Object.keys(n).length?y(t[e]).map((function(t){return[e].concat(t)})):[[e]]}))):[[]]}function g(t){var e;return(e=[]).concat.apply(e,Object(r.d)(t))}function m(t){return k(t)?t:[t]}function b(t){return void 0===t?[]:m(t)}function w(t,e,n){var i,o;if(j(t))return t(e,n.data);var a={};try{for(var s=Object(r.e)(Object.keys(t)),u=s.next();!u.done;u=s.next()){var c=u.value,f=t[c];j(f)?a[c]=f(e,n.data):a[c]=f}}catch(l){i={error:l}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}return a}function _(t){return/^(done|error)\./.test(t)}function E(t){return t instanceof Promise||!(null===t||!j(t)&&"object"!==typeof t||!j(t.then))}function O(t,e){var n,i,o=Object(r.b)([[],[]],2),a=o[0],s=o[1];try{for(var u=Object(r.e)(t),c=u.next();!c.done;c=u.next()){var f=c.value;e(f)?a.push(f):s.push(f)}}catch(l){n={error:l}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}return[a,s]}function I(t,e){return h(t.states,(function(t,n){if(t){var r=(A(e)?void 0:e[n])||(t?t.current:void 0);if(r)return{current:r,states:I(t,r)}}}))}function S(t,e){return{current:e,states:I(t,e)}}function T(t,e,n,i){return o.a||x(!!t,"Attempting to update undefined context"),t?n.reduce((function(t,n){var o,s,u=n.assignment,c={state:i,action:n,_event:e},f={};if(j(u))f=u(t,e.data,c);else try{for(var l=Object(r.e)(a(u)),h=l.next();!h.done;h=l.next()){var d=h.value,p=u[d];f[d]=j(p)?p(t,e.data,c):p}}catch(v){o={error:v}}finally{try{h&&!h.done&&(s=l.return)&&s.call(l)}finally{if(o)throw o.error}}return Object.assign({},t,f)}),t):t}var x=function(){};function k(t){return Array.isArray(t)}function j(t){return"function"===typeof t}function A(t){return"string"===typeof t}function N(t,e){if(t)return A(t)?{type:i.a,name:t,predicate:e?e[t]:void 0}:j(t)?{type:i.a,name:t.name,predicate:t}:t}function P(t){try{return"subscribe"in t&&j(t.subscribe)}catch(e){return!1}}o.a||(x=function(t,e){var n=t instanceof Error?t:void 0;if((n||!t)&&void 0!==console){var r=["Warning: "+e];n&&r.push(n),console.warn.apply(console,r)}});var C=function(){return"function"===typeof Symbol&&Symbol.observable||"@@observable"}();function R(t){try{return"__xstatenode"in t}catch(e){return!1}}function D(t){return!!t&&"function"===typeof t.send}var L=function(){var t=0;return function(){return(++t).toString(16)}}();function M(t,e){return A(t)||"number"===typeof t?Object(r.a)({type:t},e):t}function U(t,e){if(!A(t)&&"$$type"in t&&"scxml"===t.$$type)return t;var n=M(t);return Object(r.a)({name:n.type,data:n,$$type:"scxml",type:"external"},e)}function B(t,e){return m(e).map((function(e){return"undefined"===typeof e||"string"===typeof e||R(e)?{target:e,event:t}:Object(r.a)(Object(r.a)({},e),{event:t})}))}function F(t){if(void 0!==t&&t!==i.d)return b(t)}function V(t,e,n){if(!o.a){var r=t.stack?" Stacktrace was '"+t.stack+"'":"";if(t===e)console.error("Missing onError handler for invocation '"+n+"', error was '"+t+"'."+r);else{var i=e.stack?" Stacktrace was '"+e.stack+"'":"";console.error("Missing onError handler and/or unhandled exception/promise rejection for invocation '"+n+"'. Original error: '"+t+"'. "+r+" Current error is '"+e+"'."+i)}}}function H(t,e,n,r,o){var a=t.options.guards,s={state:o,cond:e,_event:r};if(e.type===i.a)return e.predicate(n,r.data,s);var u=a[e.type];if(!u)throw new Error("Guard '"+e.type+"' is not implemented on machine '"+t.id+"'.");return u(n,r.data,s)}function q(t){return"string"===typeof t?{type:t}:t}function G(t,e,n){if("object"===typeof t)return t;var r=function(){};return{next:t,error:e||r,complete:n||r}}},1210:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.taggedHash=e.hash256=e.hash160=e.sha256=e.sha1=e.ripemd160=void 0;var r=n(126);function i(t){try{return r("rmd160").update(t).digest()}catch(e){return r("ripemd160").update(t).digest()}}function o(t){return r("sha256").update(t).digest()}e.ripemd160=i,e.sha1=function(t){return r("sha1").update(t).digest()},e.sha256=o,e.hash160=function(t){return i(o(t))},e.hash256=function(t){return o(o(t))};var a=Object.fromEntries(["BIP0340/challenge","BIP0340/aux","BIP0340/nonce","TapLeaf","TapBranch","TapSighash","TapTweak","KeyAgg list","KeyAgg coefficient"].map((function(e){var n=o(t.from(e));return[e,t.concat([n,n])]})));e.taggedHash=function(e,n){return o(t.concat([a[e],n]))}}).call(this,n(4).Buffer)},1218:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.value=e.prop=void 0,e.prop=function(t,e,n){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){var t=n.call(this);return this[e]=t,t},set:function(t){Object.defineProperty(this,e,{configurable:!0,enumerable:!0,value:t,writable:!0})}})},e.value=function(t){var e;return function(){return void 0!==e?e:e=t()}}},1219:function(t,e,n){"use strict";var r,i;n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i})),function(t){t.Start="xstate.start",t.Stop="xstate.stop",t.Raise="xstate.raise",t.Send="xstate.send",t.Cancel="xstate.cancel",t.NullEvent="",t.Assign="xstate.assign",t.After="xstate.after",t.DoneState="done.state",t.DoneInvoke="done.invoke",t.Log="xstate.log",t.Init="xstate.init",t.Invoke="xstate.invoke",t.ErrorExecution="error.execution",t.ErrorCommunication="error.communication",t.ErrorPlatform="error.platform",t.ErrorCustom="xstate.error",t.Update="xstate.update",t.Pure="xstate.pure",t.Choose="xstate.choose"}(r||(r={})),function(t){t.Parent="#_parent",t.Internal="#_internal"}(i||(i={}))},1230:function(t,e,n){"use strict";var r,i,o=n(16),a=n(1282),s=n(1319),u=n(1320),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),f=new a.b("app","Firebase",c),l="@firebase/app",h="[DEFAULT]",d=((i={})[l]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),v=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(a.e)(t),this.container=new s.b(e.name),this._addComponent(new s.a("app",(function(){return u}),"PUBLIC"));try{for(var c=Object(o.__values)(this.firebase_.INTERNAL.components.values()),f=c.next();!f.done;f=c.next()){var l=f.value;this._addComponent(l)}}catch(h){r={error:h}}finally{try{f&&!f.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e=h),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=h),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw f.create("app-deleted",{appName:this.name_})},t}();v.prototype.name&&v.prototype.options||v.prototype.delete||console.log("dc");var y=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"===typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=h);var s=o.name;if("string"!==typeof s||!s)throw f.create("bad-app-name",{appName:String(s)});if(Object(a.c)(e,s))throw f.create("duplicate-app",{appName:s});var u=new t(n,o,r);return e[s]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return o&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&a&&u.push("and"),a&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(u.join(" "))}c(new s.a(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!==typeof t)throw f.create("invalid-log-argument",{appName:name});Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.2.5",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||h,!Object(a.c)(e,t))throw f.create("no-app",{appName:t});return e[t]}function c(s){var u,c,l=s.name;if(n.has(l))return p.debug("There were multiple attempts to register component "+l+"."),"PUBLIC"===s.type?r[l]:null;if(n.set(l,s),"PUBLIC"===s.type){var h=function(t){if(void 0===t&&(t=i()),"function"!==typeof t[l])throw f.create("invalid-app-argument",{appName:l});return t[l]()};void 0!==s.serviceProps&&Object(a.f)(h,s.serviceProps),r[l]=h,t.prototype[l]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,l).apply(this,s.multipleInstances?t:[])}}try{for(var d=Object(o.__values)(Object.keys(e)),v=d.next();!v.done;v=d.next()){var y=v.value;e[y]._addComponent(s)}}catch(g){u={error:g}}finally{try{v&&!v.done&&(c=d.return)&&c.call(d)}finally{if(u)throw u.error}}return"PUBLIC"===s.type?r[l]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(v);return e.INTERNAL=Object(o.__assign)(Object(o.__assign)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(a.f)(e,t)},createSubscribe:a.d,ErrorFactory:a.b,deepExtend:a.f}),e}(),g=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if(Object(a.h)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var m=self.firebase.SDK_VERSION;m&&m.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=y.initializeApp;y.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(a.m)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var w=y;!function(t,e){t.INTERNAL.registerComponent(new s.a("platform-logger",(function(t){return new g(t)}),"PRIVATE")),t.registerVersion(l,"0.6.14",e),t.registerVersion("fire-js","")}(w),e.a=w},1231:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(0),i=n(1330);function o(){return r.useContext(i.a)}},1232:function(t,e,n){"use strict";function r(t){var e=t.props,n=t.states,r=t.muiFormControl;return n.reduce((function(t,n){return t[n]=e[n],r&&"undefined"===typeof e[n]&&(t[n]=r[n]),t}),{})}n.d(e,"a",(function(){return r}))},1251:function(t,e,n){"use strict";n.r(e),n.d(e,"matchesState",(function(){return r.p})),n.d(e,"mapState",(function(){return o})),n.d(e,"ActionTypes",(function(){return a.a})),n.d(e,"SpecialTargets",(function(){return a.b})),n.d(e,"assign",(function(){return s.b})),n.d(e,"doneInvoke",(function(){return s.f})),n.d(e,"forwardTo",(function(){return s.i})),n.d(e,"send",(function(){return s.q})),n.d(e,"sendParent",(function(){return s.r})),n.d(e,"sendUpdate",(function(){return s.s})),n.d(e,"State",(function(){return u.a})),n.d(e,"StateNode",(function(){return b})),n.d(e,"Machine",(function(){return w})),n.d(e,"createMachine",(function(){return _})),n.d(e,"Interpreter",(function(){return E.a})),n.d(e,"InterpreterStatus",(function(){return E.b})),n.d(e,"interpret",(function(){return E.c})),n.d(e,"spawn",(function(){return E.d})),n.d(e,"matchState",(function(){return O})),n.d(e,"actions",(function(){return I}));var r=n(1204),i=n(1200);function o(t,e){var n,o,a;try{for(var s=Object(i.e)(Object(r.l)(t)),u=s.next();!u.done;u=s.next()){var c=u.value;Object(r.p)(c,e)&&(!a||e.length>a.length)&&(a=c)}}catch(f){n={error:f}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(n)throw n.error}}return t[a]}var a=n(1219),s=n(1193),u=n(1255),c=n(1332),f=n(1254),l=n(1333),h=n(1285),d=n(1415);function p(t){if("string"===typeof t){var e={type:t,toString:function(){return t}};return e}return t}function v(t){return Object(i.a)(Object(i.a)({type:h.g},t),{toJSON:function(){t.onDone,t.onError;var e=Object(i.c)(t,["onDone","onError"]);return Object(i.a)(Object(i.a)({},e),{type:h.g,src:p(t.src)})}})}var y="*",g={},m=function(t){return"#"===t[0]},b=function(){function t(e,n,o){var a=this;this.config=e,this.context=o,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.options=Object.assign({actions:{},guards:{},services:{},activities:{},delays:{}},n),this.parent=this.options._parent,this.key=this.config.key||this.options._key||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:c.c),this.id=this.config.id||Object(i.d)([this.machine.key],this.path).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&Object(r.l)(this.config.states).length?"compound":this.config.history?"history":"atomic"),f.a||Object(r.K)(!("parallel"in this.config),'The "parallel" property is deprecated and will be removed in version 4.1. '+(this.config.parallel?"Replace with `type: 'parallel'`":"Use `type: '"+this.type+"'`")+" in the config for state node '"+this.id+"' instead."),this.initial=this.config.initial,this.states=this.config.states?Object(r.o)(this.config.states,(function(e,n){var r,o=new t(e,{_parent:a,_key:n});return Object.assign(a.idMap,Object(i.a)(((r={})[o.id]=o,r),o.idMap)),o})):g;var u=0;!function t(e){var n,r;e.order=u++;try{for(var o=Object(i.e)(Object(l.b)(e)),a=o.next();!a.done;a=o.next()){t(a.value)}}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}(this),this.history=!0===this.config.history?"shallow":this.config.history||!1,this._transient=!!this.config.always||!!this.config.on&&(Array.isArray(this.config.on)?this.config.on.some((function(t){return""===t.event})):""in this.config.on),this.strict=!!this.config.strict,this.onEntry=Object(r.x)(this.config.entry||this.config.onEntry).map((function(t){return Object(s.v)(t)})),this.onExit=Object(r.x)(this.config.exit||this.config.onExit).map((function(t){return Object(s.v)(t)})),this.meta=this.config.meta,this.doneData="final"===this.type?this.config.data:void 0,this.invoke=Object(r.x)(this.config.invoke).map((function(t,e){var n,o;if(Object(r.h)(t))return a.machine.options.services=Object(i.a)(((n={})[t.id]=t,n),a.machine.options.services),v({src:t.id,id:t.id});if(Object(r.k)(t.src))return v(Object(i.a)(Object(i.a)({},t),{id:t.id||t.src,src:t.src}));if(Object(r.h)(t.src)||Object(r.g)(t.src)){var s=a.id+":invocation["+e+"]";return a.machine.options.services=Object(i.a)(((o={})[s]=t.src,o),a.machine.options.services),v(Object(i.a)(Object(i.a)({id:s},t),{src:s}))}var u=t.src;return v(Object(i.a)(Object(i.a)({id:u.type},t),{src:u}))})),this.activities=Object(r.x)(this.config.activities).concat(this.invoke).map((function(t){return Object(s.x)(t)})),this.transition=this.transition.bind(this)}return t.prototype._init=function(){this.__cache.transitions||Object(l.a)(this).forEach((function(t){return t.on}))},t.prototype.withConfig=function(e,n){void 0===n&&(n=this.context);var r=this.options,o=r.actions,a=r.activities,s=r.guards,u=r.services,c=r.delays;return new t(this.config,{actions:Object(i.a)(Object(i.a)({},o),e.actions),activities:Object(i.a)(Object(i.a)({},a),e.activities),guards:Object(i.a)(Object(i.a)({},s),e.guards),services:Object(i.a)(Object(i.a)({},u),e.services),delays:Object(i.a)(Object(i.a)({},c),e.delays)},n)},t.prototype.withContext=function(e){return new t(this.config,this.options,e)},Object.defineProperty(t.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:Object(r.o)(this.states,(function(t){return t.definition})),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke}},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){return this.definition},Object.defineProperty(t.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var t=this.transitions;return this.__cache.on=t.reduce((function(t,e){return t[e.eventType]=t[e.eventType]||[],t[e.eventType].push(e),t}),{})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),t.prototype.getCandidates=function(t){if(this.__cache.candidates[t])return this.__cache.candidates[t];var e=""===t,n=this.transitions.filter((function(n){var r=n.eventType===t;return e?r:r||n.eventType===y}));return this.__cache.candidates[t]=n,n},t.prototype.getDelayedTransitions=function(){var t=this,e=this.config.after;if(!e)return[];var n=function(e,n){var i=Object(r.g)(e)?t.id+":delay["+n+"]":e,o=Object(s.a)(i,t.id);return t.onEntry.push(Object(s.q)(o,{delay:e})),t.onExit.push(Object(s.c)(o)),o};return(Object(r.e)(e)?e.map((function(t,e){var r=n(t.delay,e);return Object(i.a)(Object(i.a)({},t),{event:r})})):Object(r.b)(Object(r.l)(e).map((function(t,o){var a=e[t],s=Object(r.k)(a)?{target:a}:a,u=isNaN(+t)?t:+t,c=n(u,o);return Object(r.x)(s).map((function(t){return Object(i.a)(Object(i.a)({},t),{event:c,delay:u})}))})))).map((function(e){var n=e.delay;return Object(i.a)(Object(i.a)({},t.formatTransition(e)),{delay:n})}))},t.prototype.getStateNodes=function(t){var e,n=this;if(!t)return[];var i=t instanceof u.a?t.value:Object(r.F)(t,this.delimiter);if(Object(r.k)(i)){var o=this.getStateNode(i).initial;return void 0!==o?this.getStateNodes(((e={})[i]=o,e)):[this.states[i]]}var a=Object(r.l)(i);return a.map((function(t){return n.getStateNode(t)})).concat(a.reduce((function(t,e){var r=n.getStateNode(e).getStateNodes(i[e]);return t.concat(r)}),[]))},t.prototype.handles=function(t){var e=Object(r.c)(t);return this.events.includes(e)},t.prototype.resolveState=function(t){var e=Array.from(Object(l.c)([],this.getStateNodes(t.value)));return new u.a(Object(i.a)(Object(i.a)({},t),{value:this.resolve(t.value),configuration:e,done:Object(l.f)(e,this)}))},t.prototype.transitionLeafNode=function(t,e,n){var r=this.getStateNode(t).next(e,n);return r&&r.transitions.length?r:this.next(e,n)},t.prototype.transitionCompoundNode=function(t,e,n){var i=Object(r.l)(t),o=this.getStateNode(i[0])._transition(t[i[0]],e,n);return o&&o.transitions.length?o:this.next(e,n)},t.prototype.transitionParallelNode=function(t,e,n){var o,a,s={};try{for(var u=Object(i.e)(Object(r.l)(t)),c=u.next();!c.done;c=u.next()){var f=c.value,l=t[f];if(l){var h=this.getStateNode(f)._transition(l,e,n);h&&(s[f]=h)}}}catch(g){o={error:g}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(o)throw o.error}}var d=Object(r.l)(s).map((function(t){return s[t]})),p=Object(r.b)(d.map((function(t){return t.transitions})));if(!d.some((function(t){return t.transitions.length>0})))return this.next(e,n);var v=Object(r.b)(d.map((function(t){return t.entrySet}))),y=Object(r.b)(Object(r.l)(s).map((function(t){return s[t].configuration})));return{transitions:p,entrySet:v,exitSet:Object(r.b)(d.map((function(t){return t.exitSet}))),configuration:y,source:e,actions:Object(r.b)(Object(r.l)(s).map((function(t){return s[t].actions})))}},t.prototype._transition=function(t,e,n){return Object(r.k)(t)?this.transitionLeafNode(t,e,n):1===Object(r.l)(t).length?this.transitionCompoundNode(t,e,n):this.transitionParallelNode(t,e,n)},t.prototype.next=function(t,e){var n,o,a,s=this,u=e.name,c=[],f=[];try{for(var l=Object(i.e)(this.getCandidates(u)),h=l.next();!h.done;h=l.next()){var d=h.value,p=d.cond,v=d.in,y=t.context,g=!v||(Object(r.k)(v)&&m(v)?t.matches(Object(r.F)(this.getStateNodeById(v).path,this.delimiter)):Object(r.p)(Object(r.F)(v,this.delimiter),Object(r.t)(this.path.slice(0,-2))(t.value))),b=!1;try{b=!p||Object(r.a)(this.machine,p,y,e,t)}catch(E){throw new Error("Unable to evaluate guard '"+(p.name||p.type)+"' in transition for event '"+u+"' in state node '"+this.id+"':\n"+E.message)}if(b&&g){void 0!==d.target&&(f=d.target),c.push.apply(c,Object(i.d)(d.actions)),a=d;break}}}catch(O){n={error:O}}finally{try{h&&!h.done&&(o=l.return)&&o.call(l)}finally{if(n)throw n.error}}if(a){if(!f.length)return{transitions:[a],entrySet:[],exitSet:[],configuration:t.value?[this]:[],source:t,actions:c};var w=Object(r.b)(f.map((function(e){return s.getRelativeStateNodes(e,t.historyValue)}))),_=!!a.internal;return{transitions:[a],entrySet:_?[]:Object(r.b)(w.map((function(t){return s.nodesFromChild(t)}))),exitSet:_?[]:[this],configuration:w,source:t,actions:c}}},t.prototype.nodesFromChild=function(t){if(t.escapes(this))return[];for(var e=[],n=t;n&&n!==this;)e.push(n),n=n.parent;return e.push(this),e},t.prototype.escapes=function(t){if(this===t)return!1;for(var e=this.parent;e;){if(e===t)return!1;e=e.parent}return!0},t.prototype.getActions=function(t,e,n,o){var a,u,c,f,h=Object(l.c)([],o?this.getStateNodes(o.value):[this]),d=t.configuration.length?Object(l.c)(h,t.configuration):h;try{for(var p=Object(i.e)(d),v=p.next();!v.done;v=p.next()){var y=v.value;Object(l.e)(h,y)||t.entrySet.push(y)}}catch(S){a={error:S}}finally{try{v&&!v.done&&(u=p.return)&&u.call(p)}finally{if(a)throw a.error}}try{for(var g=Object(i.e)(h),m=g.next();!m.done;m=g.next()){y=m.value;Object(l.e)(d,y)&&!Object(l.e)(t.exitSet,y.parent)||t.exitSet.push(y)}}catch(T){c={error:T}}finally{try{m&&!m.done&&(f=g.return)&&f.call(g)}finally{if(c)throw c.error}}t.source||(t.exitSet=[],t.entrySet.push(this));var b=Object(r.b)(t.entrySet.map((function(i){var o=[];if("final"!==i.type)return o;var a=i.parent;if(!a.parent)return o;o.push(Object(s.e)(i.id,i.doneData),Object(s.e)(a.id,i.doneData?Object(r.m)(i.doneData,e,n):void 0));var u=a.parent;return"parallel"===u.type&&Object(l.b)(u).every((function(e){return Object(l.f)(t.configuration,e)}))&&o.push(Object(s.e)(u.id)),o})));t.exitSet.sort((function(t,e){return e.order-t.order})),t.entrySet.sort((function(t,e){return t.order-e.order}));var w=new Set(t.entrySet),_=new Set(t.exitSet),E=Object(i.b)([Object(r.b)(Array.from(w).map((function(t){return Object(i.d)(t.activities.map((function(t){return Object(s.t)(t)})),t.onEntry)}))).concat(b.map(s.n)),Object(r.b)(Array.from(_).map((function(t){return Object(i.d)(t.onExit,t.activities.map((function(t){return Object(s.u)(t)})))})))],2),O=E[0],I=E[1];return Object(s.w)(I.concat(t.actions).concat(O),this.machine.options.actions)},t.prototype.transition=function(t,e,n){void 0===t&&(t=this.initialState);var o,a=Object(r.C)(e);if(t instanceof u.a)o=void 0===n?t:this.resolveState(u.a.from(t,n));else{var s=Object(r.k)(t)?this.resolve(Object(r.u)(this.getResolvedPath(t))):this.resolve(t),c=n||this.machine.context;o=this.resolveState(u.a.from(s,c))}if(!f.a&&a.name===y)throw new Error("An event cannot have the wildcard type ('*')");if(this.strict&&!this.events.includes(a.name)&&!Object(r.f)(a.name))throw new Error("Machine '"+this.id+"' does not accept event '"+a.name+"'");var h=this._transition(o.value,o,a)||{transitions:[],configuration:[],entrySet:[],exitSet:[],source:o,actions:[]},d=Object(l.c)([],this.getStateNodes(o.value)),p=h.configuration.length?Object(l.c)(d,h.configuration):d;return h.configuration=Object(i.d)(p),this.resolveTransition(h,o,a)},t.prototype.resolveRaisedTransition=function(t,e,n){var r,o=t.actions;return(t=this.transition(t,e))._event=n,t.event=n.data,(r=t.actions).unshift.apply(r,Object(i.d)(o)),t},t.prototype.resolveTransition=function(t,e,n,o){var c,f,p=this;void 0===n&&(n=s.k),void 0===o&&(o=this.machine.context);var v=t.configuration,y=!e||t.transitions.length>0?Object(l.d)(this.machine,v):void 0,g=e?e.historyValue?e.historyValue:t.source?this.machine.historyValue(e.value):void 0:void 0,m=e?e.context:o,b=this.getActions(t,m,n,e),w=e?Object(i.a)({},e.activities):{};try{for(var _=Object(i.e)(b),E=_.next();!E.done;E=_.next()){var O=E.value;O.type===h.m?w[O.activity.id||O.activity.type]=O:O.type===h.n&&(w[O.activity.id||O.activity.type]=!1)}}catch(F){c={error:F}}finally{try{E&&!E.done&&(f=_.return)&&f.call(_)}finally{if(c)throw c.error}}var I=Object(i.b)(Object(s.o)(this,e,m,n,b),2),S=I[0],T=I[1],x=Object(i.b)(Object(r.s)(S,(function(t){return t.type===h.k||t.type===h.l&&t.to===a.b.Internal})),2),k=x[0],j=x[1],A=S.filter((function(t){var e;return t.type===h.m&&(null===(e=t.activity)||void 0===e?void 0:e.type)===h.g})).reduce((function(t,e){return t[e.activity.id]=Object(d.b)(e.activity,p.machine,T,n),t}),e?Object(i.a)({},e.children):{}),N=y?t.configuration:e?e.configuration:[],P=N.reduce((function(t,e){return void 0!==e.meta&&(t[e.id]=e.meta),t}),{}),C=Object(l.f)(N,this),R=new u.a({value:y||e.value,context:T,_event:n,_sessionid:e?e._sessionid:null,historyValue:y?g?Object(r.J)(g,y):void 0:e?e.historyValue:void 0,history:!y||t.source?e:void 0,actions:y?j:[],activities:y?w:e?e.activities:{},meta:y?P:e?e.meta:void 0,events:[],configuration:N,transitions:t.transitions,children:A,done:C}),D=m!==T;R.changed=n.name===h.o||D;var L=R.history;if(L&&delete L.history,!y)return R;var M=R;if(!C)for((this._transient||v.some((function(t){return t._transient})))&&(M=this.resolveRaisedTransition(M,{type:h.i},n));k.length;){var U=k.shift();M=this.resolveRaisedTransition(M,U._event,n)}var B=M.changed||(L?!!M.actions.length||D||typeof L.value!==typeof M.value||!Object(u.d)(M.value,L.value):void 0);return M.changed=B,M.history=L,M},t.prototype.getStateNode=function(t){if(m(t))return this.machine.getStateNodeById(t);if(!this.states)throw new Error("Unable to retrieve child state '"+t+"' from '"+this.id+"'; no child states exist.");var e=this.states[t];if(!e)throw new Error("Child state '"+t+"' does not exist on '"+this.id+"'");return e},t.prototype.getStateNodeById=function(t){var e=m(t)?t.slice("#".length):t;if(e===this.id)return this;var n=this.machine.idMap[e];if(!n)throw new Error("Child state node '#"+e+"' does not exist on machine '"+this.id+"'");return n},t.prototype.getStateNodeByPath=function(t){if("string"===typeof t&&m(t))try{return this.getStateNodeById(t.slice(1))}catch(o){}for(var e=Object(r.D)(t,this.delimiter).slice(),n=this;e.length;){var i=e.shift();if(!i.length)break;n=n.getStateNode(i)}return n},t.prototype.resolve=function(t){var e,n=this;if(!t)return this.initialStateValue||g;switch(this.type){case"parallel":return Object(r.o)(this.initialStateValue,(function(e,r){return e?n.getStateNode(r).resolve(t[r]||e):g}));case"compound":if(Object(r.k)(t)){var i=this.getStateNode(t);return"parallel"===i.type||"compound"===i.type?((e={})[t]=i.initialStateValue,e):t}return Object(r.l)(t).length?Object(r.o)(t,(function(t,e){return t?n.getStateNode(e).resolve(t):g})):this.initialStateValue||{};default:return t||g}},t.prototype.getResolvedPath=function(t){if(m(t)){var e=this.machine.idMap[t.slice("#".length)];if(!e)throw new Error("Unable to find state node '"+t+"'");return e.path}return Object(r.D)(t,this.delimiter)},Object.defineProperty(t.prototype,"initialStateValue",{get:function(){var t,e;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;if("parallel"===this.type)e=Object(r.n)(this.states,(function(t){return t.initialStateValue||g}),(function(t){return!("history"===t.type)}));else if(void 0!==this.initial){if(!this.states[this.initial])throw new Error("Initial state '"+this.initial+"' not found on '"+this.key+"'");e=Object(l.g)(this.states[this.initial])?this.initial:((t={})[this.initial]=this.states[this.initial].initialStateValue,t)}return this.__cache.initialStateValue=e,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),t.prototype.getInitialState=function(t,e){var n=this.getStateNodes(t);return this.resolveTransition({configuration:n,entrySet:n,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,void 0,e)},Object.defineProperty(t.prototype,"initialState",{get:function(){this._init();var t=this.initialStateValue;if(!t)throw new Error("Cannot retrieve initial state from simple state '"+this.id+"'.");return this.getInitialState(t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"target",{get:function(){var t;if("history"===this.type){var e=this.config;t=Object(r.k)(e.target)&&m(e.target)?Object(r.u)(this.machine.getStateNodeById(e.target).path.slice(this.path.length-1)):e.target}return t},enumerable:!1,configurable:!0}),t.prototype.getRelativeStateNodes=function(t,e,n){return void 0===n&&(n=!0),n?"history"===t.type?t.resolveHistory(e):t.initialStateNodes:[t]},Object.defineProperty(t.prototype,"initialStateNodes",{get:function(){var t=this;if(Object(l.g)(this))return[this];if("compound"===this.type&&!this.initial)return f.a||Object(r.K)(!1,"Compound state node '"+this.id+"' has no initial state."),[this];var e=Object(r.E)(this.initialStateValue);return Object(r.b)(e.map((function(e){return t.getFromRelativePath(e)})))},enumerable:!1,configurable:!0}),t.prototype.getFromRelativePath=function(t){if(!t.length)return[this];var e=Object(i.b)(t),n=e[0],r=e.slice(1);if(!this.states)throw new Error("Cannot retrieve subPath '"+n+"' from node with no states");var o=this.getStateNode(n);if("history"===o.type)return o.resolveHistory();if(!this.states[n])throw new Error("Child state '"+n+"' does not exist on '"+this.id+"'");return this.states[n].getFromRelativePath(r)},t.prototype.historyValue=function(t){if(Object(r.l)(this.states).length)return{current:t||this.initialStateValue,states:Object(r.n)(this.states,(function(e,n){if(!t)return e.historyValue();var i=Object(r.k)(t)?void 0:t[n];return e.historyValue(i||e.initialStateValue)}),(function(t){return!t.history}))}},t.prototype.resolveHistory=function(t){var e=this;if("history"!==this.type)return[this];var n=this.parent;if(!t){var i=this.target;return i?Object(r.b)(Object(r.E)(i).map((function(t){return n.getFromRelativePath(t)}))):n.initialStateNodes}var o=Object(r.q)(n.path,"states")(t).current;return Object(r.k)(o)?[n.getStateNode(o)]:Object(r.b)(Object(r.E)(o).map((function(t){return"deep"===e.history?n.getFromRelativePath(t):[n.states[t[0]]]})))},Object.defineProperty(t.prototype,"stateIds",{get:function(){var t=this,e=Object(r.b)(Object(r.l)(this.states).map((function(e){return t.states[e].stateIds})));return[this.id].concat(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"events",{get:function(){var t,e,n,o;if(this.__cache.events)return this.__cache.events;var a=this.states,s=new Set(this.ownEvents);if(a)try{for(var u=Object(i.e)(Object(r.l)(a)),c=u.next();!c.done;c=u.next()){var f=a[c.value];if(f.states)try{for(var l=(n=void 0,Object(i.e)(f.events)),h=l.next();!h.done;h=l.next()){var d=h.value;s.add(""+d)}}catch(p){n={error:p}}finally{try{h&&!h.done&&(o=l.return)&&o.call(l)}finally{if(n)throw n.error}}}}catch(v){t={error:v}}finally{try{c&&!c.done&&(e=u.return)&&e.call(u)}finally{if(t)throw t.error}}return this.__cache.events=Array.from(s)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ownEvents",{get:function(){var t=new Set(this.transitions.filter((function(t){return!(!t.target&&!t.actions.length&&t.internal)})).map((function(t){return t.eventType})));return Array.from(t)},enumerable:!1,configurable:!0}),t.prototype.resolveTarget=function(t){var e=this;if(void 0!==t)return t.map((function(t){if(!Object(r.k)(t))return t;var n=t[0]===e.delimiter;if(n&&!e.parent)return e.getStateNodeByPath(t.slice(1));var i=n?e.key+t:t;if(!e.parent)return e.getStateNodeByPath(i);try{return e.parent.getStateNodeByPath(i)}catch(o){throw new Error("Invalid transition definition for state node '"+e.id+"':\n"+o.message)}}))},t.prototype.formatTransition=function(t){var e=this,n=Object(r.r)(t.target),o="internal"in t?t.internal:!n||n.some((function(t){return Object(r.k)(t)&&t[0]===e.delimiter})),a=this.machine.options.guards,u=this.resolveTarget(n),c=Object(i.a)(Object(i.a)({},t),{actions:Object(s.w)(Object(r.x)(t.actions)),cond:Object(r.z)(t.cond,a),target:u,source:this,internal:o,eventType:t.event,toJSON:function(){return Object(i.a)(Object(i.a)({},c),{target:c.target?c.target.map((function(t){return"#"+t.id})):void 0,source:"#"+e.id})}});return c},t.prototype.formatTransitions=function(){var t,e,n,o=this;if(this.config.on)if(Array.isArray(this.config.on))n=this.config.on;else{var a=this.config.on,u=y,c=a[u],l=void 0===c?[]:c,h=Object(i.c)(a,["*"]);n=Object(r.b)(Object(r.l)(h).map((function(t){f.a||""!==t||Object(r.K)(!1,"Empty string transition configs (e.g., `{ on: { '': ... }}`) for transient transitions are deprecated. Specify the transition in the `{ always: ... }` property instead. Please check the `on` configuration for \"#"+o.id+'".');var e=Object(r.G)(t,h[t]);return f.a||function(t,e,n){var i=n.slice(0,-1).some((function(t){return!("cond"in t)&&!("in"in t)&&(Object(r.k)(t.target)||Object(r.h)(t.target))})),o=""===e?"the transient event":"event '"+e+"'";Object(r.K)(!i,"One or more transitions for "+o+" on state '"+t.id+"' are unreachable. Make sure that the default transition is the last one defined.")}(o,t,e),e})).concat(Object(r.G)(y,l)))}else n=[];var d=this.config.always?Object(r.G)("",this.config.always):[],p=this.config.onDone?Object(r.G)(String(Object(s.e)(this.id)),this.config.onDone):[];f.a||Object(r.K)(!(this.config.onDone&&!this.parent),'Root nodes cannot have an ".onDone" transition. Please check the config of "'+this.id+'".');var v=Object(r.b)(this.invoke.map((function(t){var e=[];return t.onDone&&e.push.apply(e,Object(i.d)(Object(r.G)(String(Object(s.f)(t.id)),t.onDone))),t.onError&&e.push.apply(e,Object(i.d)(Object(r.G)(String(Object(s.g)(t.id)),t.onError))),e}))),g=this.after,m=Object(r.b)(Object(i.d)(p,v,n,d).map((function(t){return Object(r.x)(t).map((function(t){return o.formatTransition(t)}))})));try{for(var b=Object(i.e)(g),w=b.next();!w.done;w=b.next()){var _=w.value;m.push(_)}}catch(E){t={error:E}}finally{try{w&&!w.done&&(e=b.return)&&e.call(b)}finally{if(t)throw t.error}}return m},t}();function w(t,e,n){void 0===n&&(n=t.context);var r="function"===typeof n?n():n;return new b(t,e,r)}function _(t,e){var n="function"===typeof t.context?t.context():t.context;return new b(t,e,n)}var E=n(1256);function O(t,e,n){var r,o,a=u.a.from(t,t instanceof u.a?t.context:void 0);try{for(var s=Object(i.e)(e),c=s.next();!c.done;c=s.next()){var f=Object(i.b)(c.value,2),l=f[0],h=f[1];if(a.matches(l))return h(a)}}catch(d){r={error:d}}finally{try{c&&!c.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}return n(a)}var I={raise:s.n,send:s.q,sendParent:s.r,sendUpdate:s.s,log:s.l,cancel:s.c,start:s.t,stop:s.u,assign:s.b,after:s.a,done:s.e,respond:s.p,forwardTo:s.i,escalate:s.h,choose:s.d,pure:s.m}},1252:function(t,e,n){"use strict";t.exports=n(1566)},1254:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=!0},1255:function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return f})),n.d(e,"c",(function(){return c})),n.d(e,"d",(function(){return u}));var r=n(1200),i=n(1332),o=n(1204),a=n(1333),s=n(1193);function u(t,e){if(t===e)return!0;if(void 0===t||void 0===e)return!1;if(Object(o.k)(t)||Object(o.k)(e))return t===e;var n=Object(o.l)(t),r=Object(o.l)(e);return n.length===r.length&&n.every((function(n){return u(t[n],e[n])}))}function c(t){return!Object(o.k)(t)&&("value"in t&&"history"in t)}function f(t,e){var n=t.exec;return Object(r.a)(Object(r.a)({},t),{exec:void 0!==n?function(){return n(e.context,e.event,{action:t,state:e,_event:e._event})}:void 0})}var l=function(){function t(t){var e=this;this.actions=[],this.activities=i.b,this.meta={},this.events=[],this.value=t.value,this.context=t.context,this._event=t._event,this._sessionid=t._sessionid,this.event=this._event.data,this.historyValue=t.historyValue,this.history=t.history,this.actions=t.actions||[],this.activities=t.activities||i.b,this.meta=t.meta||{},this.events=t.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=t.configuration,this.transitions=t.transitions,this.children=t.children,this.done=!!t.done,Object.defineProperty(this,"nextEvents",{get:function(){return Object(a.h)(e.configuration)}})}return t.from=function(e,n){return e instanceof t?e.context!==n?new t({value:e.value,context:n,_event:e._event,_sessionid:null,historyValue:e.historyValue,history:e.history,actions:[],activities:e.activities,meta:{},events:[],configuration:[],transitions:[],children:{}}):e:new t({value:e,context:n,_event:s.k,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,meta:void 0,events:[],configuration:[],transitions:[],children:{}})},t.create=function(e){return new t(e)},t.inert=function(e,n){if(e instanceof t){if(!e.actions.length)return e;var r=s.k;return new t({value:e.value,context:n,_event:r,_sessionid:null,historyValue:e.historyValue,history:e.history,activities:e.activities,configuration:e.configuration,transitions:[],children:{}})}return t.from(e,n)},t.prototype.toStrings=function(t,e){var n=this;if(void 0===t&&(t=this.value),void 0===e&&(e="."),Object(o.k)(t))return[t];var i=Object(o.l)(t);return i.concat.apply(i,Object(r.d)(i.map((function(r){return n.toStrings(t[r],e).map((function(t){return r+e+t}))}))))},t.prototype.toJSON=function(){var t=this;t.configuration,t.transitions;return Object(r.c)(t,["configuration","transitions"])},t.prototype.matches=function(t){return Object(o.p)(t,this.value)},t}()},1256:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return m})),n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return w})),n.d(e,"d",(function(){return b}));var r,i=n(1200),o=n(1254),a=n(1204),s=n(1219),u=n(1333),c=n(1285),f=n(1193),l=n(1255),h=n(1416),d=n(1415),p=n(1617),v=n(1618),y=n(1619),g={sync:!1,autoForward:!1};!function(t){t[t.NotStarted=0]="NotStarted",t[t.Running=1]="Running",t[t.Stopped=2]="Stopped"}(r||(r={}));var m=function(){function e(t,n){var u=this;void 0===n&&(n=e.defaultOptions),this.machine=t,this.scheduler=new p.a,this.delayedEventsMap={},this.listeners=new Set,this.contextListeners=new Set,this.stopListeners=new Set,this.doneListeners=new Set,this.eventListeners=new Set,this.sendListeners=new Set,this.initialized=!1,this.status=r.NotStarted,this.children=new Map,this.forwardTo=new Set,this.init=this.start,this.send=function(t,e){if(Object(a.e)(t))return u.batch(t),u.state;var n=Object(a.C)(Object(a.y)(t,e));if(u.status===r.Stopped)return o.a||Object(a.K)(!1,'Event "'+n.name+'" was sent to stopped service "'+u.machine.id+'". This service has already reached its final state, and will not transition.\nEvent: '+JSON.stringify(n.data)),u.state;if(u.status!==r.Running&&!u.options.deferEvents)throw new Error('Event "'+n.name+'" was sent to uninitialized service "'+u.machine.id+'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.\nEvent: '+JSON.stringify(n.data));return u.scheduler.schedule((function(){u.forward(n);var t=u.nextState(n);u.update(t,n)})),u._state},this.sendTo=function(t,e){var n=u.parent&&(e===s.b.Parent||u.parent.id===e),r=n?u.parent:Object(a.k)(e)?u.children.get(e)||v.a.get(e):Object(a.d)(e)?e:void 0;if(r)"machine"in r?r.send(Object(i.a)(Object(i.a)({},t),{name:t.name===c.d?""+Object(f.g)(u.id):t.name,origin:u.sessionId})):r.send(t.data);else{if(!n)throw new Error("Unable to send event to child '"+e+"' from service '"+u.id+"'.");o.a||Object(a.K)(!1,"Service '"+u.id+"' has no parent: unable to send event "+t.type)}};var l=Object(i.a)(Object(i.a)({},e.defaultOptions),n),h=l.clock,d=l.logger,y=l.parent,g=l.id,m=void 0!==g?g:t.id;this.id=m,this.logger=d,this.clock=h,this.parent=y,this.options=l,this.scheduler=new p.a({deferEvents:this.options.deferEvents}),this.sessionId=v.a.bookId()}return Object.defineProperty(e.prototype,"initialState",{get:function(){var t=this;return this._initialState?this._initialState:Object(h.b)(this,(function(){return t._initialState=t.machine.initialState,t._initialState}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return o.a||Object(a.K)(this.status!==r.NotStarted,"Attempted to read state from uninitialized service '"+this.id+"'. Make sure the service is started first."),this._state},enumerable:!1,configurable:!0}),e.prototype.execute=function(t,e){var n,r;try{for(var o=Object(i.e)(t.actions),a=o.next();!a.done;a=o.next()){var s=a.value;this.exec(s,t,e)}}catch(u){n={error:u}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},e.prototype.update=function(t,e){var n,r,o,s,c,l,h,d,p=this;if(t._sessionid=this.sessionId,this._state=t,this.options.execute&&this.execute(this.state),this.children.forEach((function(t){p.state.children[t.id]=t})),this.devTools&&this.devTools.send(e.data,t),t.event)try{for(var v=Object(i.e)(this.eventListeners),y=v.next();!y.done;y=v.next()){(0,y.value)(t.event)}}catch(T){n={error:T}}finally{try{y&&!y.done&&(r=v.return)&&r.call(v)}finally{if(n)throw n.error}}try{for(var g=Object(i.e)(this.listeners),m=g.next();!m.done;m=g.next()){(0,m.value)(t,t.event)}}catch(x){o={error:x}}finally{try{m&&!m.done&&(s=g.return)&&s.call(g)}finally{if(o)throw o.error}}try{for(var b=Object(i.e)(this.contextListeners),w=b.next();!w.done;w=b.next()){(0,w.value)(this.state.context,this.state.history?this.state.history.context:void 0)}}catch(k){c={error:k}}finally{try{w&&!w.done&&(l=b.return)&&l.call(b)}finally{if(c)throw c.error}}var _=Object(u.f)(t.configuration||[],this.machine);if(this.state.configuration&&_){var E=t.configuration.find((function(t){return"final"===t.type&&t.parent===p.machine})),O=E&&E.doneData?Object(a.m)(E.doneData,t.context,e):void 0;try{for(var I=Object(i.e)(this.doneListeners),S=I.next();!S.done;S=I.next()){(0,S.value)(Object(f.f)(this.id,O))}}catch(j){h={error:j}}finally{try{S&&!S.done&&(d=I.return)&&d.call(I)}finally{if(h)throw h.error}}this.stop()}},e.prototype.onTransition=function(t){return this.listeners.add(t),this.status===r.Running&&t(this.state,this.state.event),this},e.prototype.subscribe=function(t,e,n){var i,o=this;if(!t)return{unsubscribe:function(){}};var a=n;return"function"===typeof t?i=t:(i=t.next.bind(t),a=t.complete.bind(t)),this.listeners.add(i),this.status===r.Running&&i(this.state),a&&this.onDone(a),{unsubscribe:function(){i&&o.listeners.delete(i),a&&o.doneListeners.delete(a)}}},e.prototype.onEvent=function(t){return this.eventListeners.add(t),this},e.prototype.onSend=function(t){return this.sendListeners.add(t),this},e.prototype.onChange=function(t){return this.contextListeners.add(t),this},e.prototype.onStop=function(t){return this.stopListeners.add(t),this},e.prototype.onDone=function(t){return this.doneListeners.add(t),this},e.prototype.off=function(t){return this.listeners.delete(t),this.eventListeners.delete(t),this.sendListeners.delete(t),this.stopListeners.delete(t),this.doneListeners.delete(t),this.contextListeners.delete(t),this},e.prototype.start=function(t){var e=this;if(this.status===r.Running)return this;v.a.register(this.sessionId,this),this.initialized=!0,this.status=r.Running;var n=void 0===t?this.initialState:Object(h.b)(this,(function(){return Object(l.c)(t)?e.machine.resolveState(t):e.machine.resolveState(l.a.from(t,e.machine.context))}));return this.options.devTools&&this.attachDev(),this.scheduler.initialize((function(){e.update(n,f.k)})),this},e.prototype.stop=function(){var t,e,n,o,s,u,c,f,l,h,d=this;try{for(var p=Object(i.e)(this.listeners),y=p.next();!y.done;y=p.next()){var g=y.value;this.listeners.delete(g)}}catch(x){t={error:x}}finally{try{y&&!y.done&&(e=p.return)&&e.call(p)}finally{if(t)throw t.error}}try{for(var m=Object(i.e)(this.stopListeners),b=m.next();!b.done;b=m.next()){(g=b.value)(),this.stopListeners.delete(g)}}catch(k){n={error:k}}finally{try{b&&!b.done&&(o=m.return)&&o.call(m)}finally{if(n)throw n.error}}try{for(var w=Object(i.e)(this.contextListeners),_=w.next();!_.done;_=w.next()){g=_.value;this.contextListeners.delete(g)}}catch(j){s={error:j}}finally{try{_&&!_.done&&(u=w.return)&&u.call(w)}finally{if(s)throw s.error}}try{for(var E=Object(i.e)(this.doneListeners),O=E.next();!O.done;O=E.next()){g=O.value;this.doneListeners.delete(g)}}catch(A){c={error:A}}finally{try{O&&!O.done&&(f=E.return)&&f.call(E)}finally{if(c)throw c.error}}if(!this.initialized)return this;this.state.configuration.forEach((function(t){var e,n;try{for(var r=Object(i.e)(t.definition.exit),o=r.next();!o.done;o=r.next()){var a=o.value;d.exec(a,d.state)}}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}})),this.children.forEach((function(t){Object(a.g)(t.stop)&&t.stop()}));try{for(var I=Object(i.e)(Object(a.l)(this.delayedEventsMap)),S=I.next();!S.done;S=I.next()){var T=S.value;this.clock.clearTimeout(this.delayedEventsMap[T])}}catch(N){l={error:N}}finally{try{S&&!S.done&&(h=I.return)&&h.call(I)}finally{if(l)throw l.error}}return this.scheduler.clear(),this.initialized=!1,this.status=r.Stopped,v.a.free(this.sessionId),this},e.prototype.batch=function(t){var e=this;if(this.status===r.NotStarted&&this.options.deferEvents)o.a||Object(a.K)(!1,t.length+' event(s) were sent to uninitialized service "'+this.machine.id+'" and are deferred. Make sure .start() is called for this service.\nEvent: '+JSON.stringify(event));else if(this.status!==r.Running)throw new Error(t.length+' event(s) were sent to uninitialized service "'+this.machine.id+'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.');this.scheduler.schedule((function(){var n,r,o=e.state,s=!1,u=[],c=function(t){var n=Object(a.C)(t);e.forward(n),o=Object(h.b)(e,(function(){return e.machine.transition(o,n)})),u.push.apply(u,Object(i.d)(o.actions.map((function(t){return Object(l.b)(t,o)})))),s=s||!!o.changed};try{for(var f=Object(i.e)(t),d=f.next();!d.done;d=f.next()){c(d.value)}}catch(p){n={error:p}}finally{try{d&&!d.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}o.changed=s,o.actions=u,e.update(o,Object(a.C)(t[t.length-1]))}))},e.prototype.sender=function(t){return this.send.bind(this,t)},e.prototype.nextState=function(t){var e=this,n=Object(a.C)(t);if(0===n.name.indexOf(c.e)&&!this.state.nextEvents.some((function(t){return 0===t.indexOf(c.e)})))throw n.data.data;return Object(h.b)(this,(function(){return e.machine.transition(e.state,n)}))},e.prototype.forward=function(t){var e,n;try{for(var r=Object(i.e)(this.forwardTo),o=r.next();!o.done;o=r.next()){var a=o.value,s=this.children.get(a);if(!s)throw new Error("Unable to forward event '"+t+"' from interpreter '"+this.id+"' to nonexistant child '"+a+"'.");s.send(t)}}catch(u){e={error:u}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},e.prototype.defer=function(t){var e=this;this.delayedEventsMap[t.id]=this.clock.setTimeout((function(){t.to?e.sendTo(t._event,t.to):e.send(t._event)}),t.delay)},e.prototype.cancel=function(t){this.clock.clearTimeout(this.delayedEventsMap[t]),delete this.delayedEventsMap[t]},e.prototype.exec=function(t,e,n){void 0===n&&(n=this.machine.options.actions);var r=e.context,i=e._event,u=t.exec||Object(f.j)(t.type,n),l=Object(a.g)(u)?u:u?u.exec:t.exec;if(l)try{return l(r,i.data,{action:t,state:this.state,_event:i})}catch(O){throw this.parent&&this.parent.send({type:"xstate.error",data:O}),O}switch(t.type){case c.l:var h=t;if("number"===typeof h.delay)return void this.defer(h);h.to?this.sendTo(h._event,h.to):this.send(h._event);break;case c.b:this.cancel(t.sendId);break;case c.m:var d=t.activity;if(!this.state.activities[d.id||d.type])break;if(d.type===s.a.Invoke){var p=Object(a.A)(d.src),v=this.machine.options.services?this.machine.options.services[p.type]:void 0,y=d.id,g=d.data;o.a||Object(a.K)(!("forward"in d),"`forward` property is deprecated (found in invocation of '"+d.src+"' in in machine '"+this.machine.id+"'). Please use `autoForward` instead.");var m="autoForward"in d?d.autoForward:!!d.forward;if(!v)return void(o.a||Object(a.K)(!1,"No service found for invocation '"+d.src+"' in machine '"+this.machine.id+"'."));var b=g?Object(a.m)(g,r,i):void 0,w=Object(a.g)(v)?v(r,i.data,{data:b,src:p}):v;Object(a.j)(w)?this.spawnPromise(Promise.resolve(w),y):Object(a.g)(w)?this.spawnCallback(w,y):Object(a.i)(w)?this.spawnObservable(w,y):Object(a.h)(w)&&this.spawnMachine(b?w.withContext(b):w,{id:y,autoForward:m})}else this.spawnActivity(d);break;case c.n:this.stopChild(t.activity.id);break;case c.h:var _=t.label,E=t.value;_?this.logger(_,E):this.logger(E);break;default:o.a||Object(a.K)(!1,"No implementation found for action type '"+t.type+"'")}},e.prototype.removeChild=function(t){this.children.delete(t),this.forwardTo.delete(t),delete this.state.children[t]},e.prototype.stopChild=function(t){var e=this.children.get(t);e&&(this.removeChild(t),Object(a.g)(e.stop)&&e.stop())},e.prototype.spawn=function(t,e,n){if(Object(a.j)(t))return this.spawnPromise(Promise.resolve(t),e);if(Object(a.g)(t))return this.spawnCallback(t,e);if(Object(d.c)(t))return this.spawnActor(t);if(Object(a.i)(t))return this.spawnObservable(t,e);if(Object(a.h)(t))return this.spawnMachine(t,Object(i.a)(Object(i.a)({},n),{id:e}));throw new Error('Unable to spawn entity "'+e+'" of type "'+typeof t+'".')},e.prototype.spawnMachine=function(t,n){var r=this;void 0===n&&(n={});var o=new e(t,Object(i.a)(Object(i.a)({},this.options),{parent:this,id:n.id||t.id})),s=Object(i.a)(Object(i.a)({},g),n);s.sync&&o.onTransition((function(t){r.send(c.o,{state:t,id:o.id})}));var u=o;return this.children.set(o.id,u),s.autoForward&&this.forwardTo.add(o.id),o.onDone((function(t){r.removeChild(o.id),r.send(Object(a.C)(t,{origin:o.id}))})).start(),u},e.prototype.spawnPromise=function(t,e){var n=this,r=!1;t.then((function(t){r||(n.removeChild(e),n.send(Object(a.C)(Object(f.f)(e,t),{origin:e})))}),(function(t){if(!r){n.removeChild(e);var i=Object(f.g)(e,t);try{n.send(Object(a.C)(i,{origin:e}))}catch(o){Object(a.v)(t,o,e),n.devTools&&n.devTools.send(i,n.state),n.machine.strict&&n.stop()}}}));var i={id:e,send:function(){},subscribe:function(e,n,r){var i=Object(a.B)(e,n,r),o=!1;return t.then((function(t){o||(i.next(t),o||i.complete())}),(function(t){o||i.error(t)})),{unsubscribe:function(){return o=!0}}},stop:function(){r=!0},toJSON:function(){return{id:e}}};return this.children.set(e,i),i},e.prototype.spawnCallback=function(t,e){var n,r=this,i=!1,o=new Set,s=new Set;try{n=t((function(t){s.forEach((function(e){return e(t)})),i||r.send(Object(a.C)(t,{origin:e}))}),(function(t){o.add(t)}))}catch(c){this.send(Object(f.g)(e,c))}if(Object(a.j)(n))return this.spawnPromise(n,e);var u={id:e,send:function(t){return o.forEach((function(e){return e(t)}))},subscribe:function(t){return s.add(t),{unsubscribe:function(){s.delete(t)}}},stop:function(){i=!0,Object(a.g)(n)&&n()},toJSON:function(){return{id:e}}};return this.children.set(e,u),u},e.prototype.spawnObservable=function(t,e){var n=this,r=t.subscribe((function(t){n.send(Object(a.C)(t,{origin:e}))}),(function(t){n.removeChild(e),n.send(Object(a.C)(Object(f.g)(e,t),{origin:e}))}),(function(){n.removeChild(e),n.send(Object(a.C)(Object(f.f)(e),{origin:e}))})),i={id:e,send:function(){},subscribe:function(e,n,r){return t.subscribe(e,n,r)},stop:function(){return r.unsubscribe()},toJSON:function(){return{id:e}}};return this.children.set(e,i),i},e.prototype.spawnActor=function(t){return this.children.set(t.id,t),t},e.prototype.spawnActivity=function(t){var e=this.machine.options&&this.machine.options.activities?this.machine.options.activities[t.type]:void 0;if(e){var n=e(this.state.context,t);this.spawnEffect(t.id,n)}else o.a||Object(a.K)(!1,"No implementation found for activity '"+t.type+"'")},e.prototype.spawnEffect=function(t,e){this.children.set(t,{id:t,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},stop:e||void 0,toJSON:function(){return{id:t}}})},e.prototype.attachDev=function(){var t=Object(y.a)();if(this.options.devTools&&t){if(t.__REDUX_DEVTOOLS_EXTENSION__){var e="object"===typeof this.options.devTools?this.options.devTools:void 0;this.devTools=t.__REDUX_DEVTOOLS_EXTENSION__.connect(Object(i.a)(Object(i.a)({name:this.id,autoPause:!0,stateSanitizer:function(t){return{value:t.value,context:t.context,actions:t.actions}}},e),{features:Object(i.a)({jump:!1,skip:!1},e?e.features:void 0)}),this.machine),this.devTools.init(this.state)}Object(y.b)(this)}},e.prototype.toJSON=function(){return{id:this.id}},e.prototype[a.w]=function(){return this},e.defaultOptions=function(t){return{execute:!0,deferEvents:!0,clock:{setTimeout:function(t){function e(e,n){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t,e){return setTimeout(t,e)})),clearTimeout:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return clearTimeout(t)}))},logger:t.console.log.bind(console),devTools:!1}}("undefined"!==typeof self?self:t),e.interpret=w,e}();function b(t,e){var n=function(t){return Object(a.k)(t)?Object(i.a)(Object(i.a)({},g),{name:t}):Object(i.a)(Object(i.a)(Object(i.a)({},g),{name:Object(a.H)()}),t)}(e);return Object(h.a)((function(e){if(!o.a){var r=Object(a.h)(t)||Object(a.g)(t);Object(a.K)(!!e||r,'Attempted to spawn an Actor (ID: "'+(Object(a.h)(t)?t.id:"undefined")+'") outside of a service. This will have no effect.')}return e?e.spawn(t,n.name,n):Object(d.a)(t,n.name)}))}function w(t,e){return new m(t,e)}}).call(this,n(34))},1281:function(t,e,n){"use strict";t.exports=n(1562)},1282:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return m})),n.d(e,"c",(function(){return _})),n.d(e,"d",(function(){return E})),n.d(e,"e",(function(){return o})),n.d(e,"f",(function(){return a})),n.d(e,"g",(function(){return u})),n.d(e,"h",(function(){return l})),n.d(e,"i",(function(){return h})),n.d(e,"j",(function(){return p})),n.d(e,"k",(function(){return v})),n.d(e,"l",(function(){return c})),n.d(e,"m",(function(){return f})),n.d(e,"n",(function(){return d})),n.d(e,"o",(function(){return y}));var r=n(16),i=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296===(64512&i)&&r+1<t.length&&56320===(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e};function o(t){return a(void 0,t)}function a(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=a(t[n],e[n]));return t}var s=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"===typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function u(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function c(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(u())}function f(){try{return"[object process]"===Object.prototype.toString.call(t.process)}catch(e){return!1}}function l(){return"object"===typeof self&&self.self===self}function h(){var t="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof t&&void 0!==t.id}function d(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function p(){return u().indexOf("Electron/")>=0}function v(){var t=u();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function y(){return u().indexOf("MSAppHost/")>=0}var g=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,m.prototype.create),o}return Object(r.__extends)(e,t),e}(Error),m=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?b(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new g(i,s,r);return u},t}();function b(t,e){return t.replace(w,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var w=/\{\$([^}]+)}/g;function _(t,e){return Object.prototype.hasOwnProperty.call(t,e)}!function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"===typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],f=this.chain_[3],l=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=f^u&(c^f),a=1518500249):(o=u^c^f,a=1859775393):r<60?(o=u&c|f&(u|c),a=2400959708):(o=u^c^f,a=3395469782);i=(s<<5|s>>>27)+o+l+a+n[r]&4294967295;l=f,f=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+f&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"===typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t}}();function E(t,e){var n=new O(t,e);return n.subscribe.bind(n)}var O=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!==typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"===typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=I),void 0===r.error&&(r.error=I),void 0===r.complete&&(r.complete=I);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function I(){}}).call(this,n(34))},1283:function(t,e,n){"use strict";n.r(e);var r=n(1553);n.d(e,"default",(function(){return r.a}));var i=n(1321);n.d(e,"ModalManager",(function(){return i.b}))},1284:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});function n(t){if(t<0||t>9007199254740991||t%1!==0)throw new RangeError("value out of range")}function r(t){return n(t),t<253?1:t<=65535?3:t<=4294967295?5:9}e.encode=function e(i,o,a){if(n(i),o||(o=t.allocUnsafe(r(i))),!t.isBuffer(o))throw new TypeError("buffer must be a Buffer instance");return a||(a=0),i<253?(o.writeUInt8(i,a),Object.assign(e,{bytes:1})):i<=65535?(o.writeUInt8(253,a),o.writeUInt16LE(i,a+1),Object.assign(e,{bytes:3})):i<=4294967295?(o.writeUInt8(254,a),o.writeUInt32LE(i,a+1),Object.assign(e,{bytes:5})):(o.writeUInt8(255,a),o.writeUInt32LE(i>>>0,a+1),o.writeUInt32LE(i/4294967296|0,a+5),Object.assign(e,{bytes:9})),o},e.decode=function e(r,i){if(!t.isBuffer(r))throw new TypeError("buffer must be a Buffer instance");i||(i=0);var o=r.readUInt8(i);if(o<253)return Object.assign(e,{bytes:1}),o;if(253===o)return Object.assign(e,{bytes:3}),r.readUInt16LE(i+1);if(254===o)return Object.assign(e,{bytes:5}),r.readUInt32LE(i+1);Object.assign(e,{bytes:9});var a=r.readUInt32LE(i+1),s=4294967296*r.readUInt32LE(i+5)+a;return n(s),s},e.encodingLength=r}).call(this,n(4).Buffer)},1285:function(t,e,n){"use strict";n.d(e,"a",(function(){return f})),n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return g})),n.d(e,"d",(function(){return v})),n.d(e,"e",(function(){return p})),n.d(e,"f",(function(){return h})),n.d(e,"g",(function(){return d})),n.d(e,"h",(function(){return l})),n.d(e,"i",(function(){return c})),n.d(e,"j",(function(){return m})),n.d(e,"k",(function(){return a})),n.d(e,"l",(function(){return s})),n.d(e,"m",(function(){return i})),n.d(e,"n",(function(){return o})),n.d(e,"o",(function(){return y}));var r=n(1219),i=r.a.Start,o=r.a.Stop,a=r.a.Raise,s=r.a.Send,u=r.a.Cancel,c=r.a.NullEvent,f=r.a.Assign,l=(r.a.After,r.a.DoneState,r.a.Log),h=r.a.Init,d=r.a.Invoke,p=(r.a.ErrorExecution,r.a.ErrorPlatform),v=r.a.ErrorCustom,y=r.a.Update,g=r.a.Choose,m=r.a.Pure},1286:function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},1287:function(t,e,n){var r=n(1621);function i(e,n,o){return"undefined"!==typeof Reflect&&Reflect.get?t.exports=i=Reflect.get:t.exports=i=function(t,e,n){var i=r(t,e);if(i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(n):o.value}},i(e,n,o||e)}t.exports=i},1319:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return u}));var r=n(16),i=n(1282),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),a="[DEFAULT]",s=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=a);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.__assign)({identifier:a,optional:!1},t),n=e.identifier,i=e.optional,o=this.normalizeInstanceIdentifier(n);try{var s=this.getOrInitializeService(o);if(!s){if(i)return null;throw Error("Service "+this.name+" is not available")}return s}catch(u){if(i)return null;throw u}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(a)}catch(h){}try{for(var i=Object(r.__values)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=Object(r.__read)(o.value,2),u=s[0],c=s[1],f=this.normalizeInstanceIdentifier(u);try{var l=this.getOrInitializeService(f);c.resolve(l)}catch(h){}}}catch(d){e={error:d}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=a),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.__awaiter)(this,void 0,void 0,(function(){var t;return Object(r.__generator)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.__spread)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})),t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()}))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===a?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:a:t},t}();var u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},1320:function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return h})),n.d(e,"d",(function(){return d}));var o,a=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(o||(o={}));var s={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),f=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),a=c[e];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[a].apply(console,r(["["+o+"]  "+t.name+":"],n))}},l=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=f,this._userLogHandler=null,a.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"===typeof t?s[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function h(t){a.forEach((function(e){e.setLogLevel(t)}))}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=s[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s=i.map((function(t){if(null==t)return null;if("string"===typeof t)return t;if("number"===typeof t||"boolean"===typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!==r&&void 0!==r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=a;r<i.length;r++){n(i[r])}}},1321:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return p}));var r=n(1400),i=n(326),o=n(187),a=n(1401),s=n(168),u=n(458);function c(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function f(t){return parseInt(window.getComputedStyle(t)["padding-right"],10)||0}function l(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4?arguments[4]:void 0,a=[e,n].concat(Object(o.a)(r)),s=["TEMPLATE","SCRIPT","STYLE"];[].forEach.call(t.children,(function(t){1===t.nodeType&&-1===a.indexOf(t)&&-1===s.indexOf(t.tagName)&&c(t,i)}))}function h(t,e){var n=-1;return t.some((function(t,r){return!!e(t)&&(n=r,!0)})),n}function d(t,e){var n,r=[],i=[],o=t.container;if(!e.disableScrollLock){if(function(t){var e=Object(s.a)(t);return e.body===t?Object(u.a)(e).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}(o)){var c=Object(a.a)();r.push({value:o.style.paddingRight,key:"padding-right",el:o}),o.style["padding-right"]="".concat(f(o)+c,"px"),n=Object(s.a)(o).querySelectorAll(".mui-fixed"),[].forEach.call(n,(function(t){i.push(t.style.paddingRight),t.style.paddingRight="".concat(f(t)+c,"px")}))}var l=o.parentElement,h="HTML"===l.nodeName&&"scroll"===window.getComputedStyle(l)["overflow-y"]?l:o;r.push({value:h.style.overflow,key:"overflow",el:h}),h.style.overflow="hidden"}return function(){n&&[].forEach.call(n,(function(t,e){i[e]?t.style.paddingRight=i[e]:t.style.removeProperty("padding-right")})),r.forEach((function(t){var e=t.value,n=t.el,r=t.key;e?n.style.setProperty(r,e):n.style.removeProperty(r)}))}}var p=function(){function t(){Object(r.a)(this,t),this.modals=[],this.containers=[]}return Object(i.a)(t,[{key:"add",value:function(t,e){var n=this.modals.indexOf(t);if(-1!==n)return n;n=this.modals.length,this.modals.push(t),t.modalRef&&c(t.modalRef,!1);var r=function(t){var e=[];return[].forEach.call(t.children,(function(t){t.getAttribute&&"true"===t.getAttribute("aria-hidden")&&e.push(t)})),e}(e);l(e,t.mountNode,t.modalRef,r,!0);var i=h(this.containers,(function(t){return t.container===e}));return-1!==i?(this.containers[i].modals.push(t),n):(this.containers.push({modals:[t],container:e,restore:null,hiddenSiblingNodes:r}),n)}},{key:"mount",value:function(t,e){var n=h(this.containers,(function(e){return-1!==e.modals.indexOf(t)})),r=this.containers[n];r.restore||(r.restore=d(r,e))}},{key:"remove",value:function(t){var e=this.modals.indexOf(t);if(-1===e)return e;var n=h(this.containers,(function(e){return-1!==e.modals.indexOf(t)})),r=this.containers[n];if(r.modals.splice(r.modals.indexOf(t),1),this.modals.splice(e,1),0===r.modals.length)r.restore&&r.restore(),t.modalRef&&c(t.modalRef,!0),l(r.container,t.mountNode,t.modalRef,r.hiddenSiblingNodes,!1),this.containers.splice(n,1);else{var i=r.modals[r.modals.length-1];i.modalRef&&c(i.modalRef,!1)}return e}},{key:"isTopModal",value:function(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}]),t}()},1322:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.p2wsh=e.p2wpkh=e.p2sh=e.p2pkh=e.p2pk=e.p2ms=e.embed=void 0;var r=n(1572);Object.defineProperty(e,"embed",{enumerable:!0,get:function(){return r.p2data}});var i=n(1578);Object.defineProperty(e,"p2ms",{enumerable:!0,get:function(){return i.p2ms}});var o=n(1579);Object.defineProperty(e,"p2pk",{enumerable:!0,get:function(){return o.p2pk}});var a=n(1580);Object.defineProperty(e,"p2pkh",{enumerable:!0,get:function(){return a.p2pkh}});var s=n(1581);Object.defineProperty(e,"p2sh",{enumerable:!0,get:function(){return s.p2sh}});var u=n(1582);Object.defineProperty(e,"p2wpkh",{enumerable:!0,get:function(){return u.p2wpkh}});var c=n(1583);Object.defineProperty(e,"p2wsh",{enumerable:!0,get:function(){return c.p2wsh}})},1323:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.REVERSE_OPS=e.OPS=void 0;var r={OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_LEFT:128,OP_RIGHT:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_NOP1:176,OP_NOP2:177,OP_CHECKLOCKTIMEVERIFY:177,OP_NOP3:178,OP_CHECKSEQUENCEVERIFY:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255};e.OPS=r;var i={};e.REVERSE_OPS=i;for(var o=0,a=Object.keys(r);o<a.length;o++){var s=a[o];i[r[s]]=s}},1324:function(t,e){var n={Array:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return null!==t&&void 0!==t&&t.constructor===Array})),Boolean:function(t){return"boolean"===typeof t},Function:function(t){return"function"===typeof t},Nil:function(t){return void 0===t||null===t},Number:function(t){return"number"===typeof t},Object:function(t){return"object"===typeof t},String:function(t){return"string"===typeof t},"":function(){return!0}};for(var r in n.Null=n.Nil,n)n[r].toJSON=function(t){return t}.bind(null,r);t.exports=n},1325:function(t,e,n){"use strict";(function(t){var r=n(444),i=n(445);Object.defineProperty(e,"__esModule",{value:!0}),e.BufferReader=e.BufferWriter=e.cloneBuffer=e.reverseBuffer=e.writeUInt64LE=e.readUInt64LE=e.varuint=void 0;var o=n(1184),a=o.typeforce,s=n(1585);function u(t,e){if("number"!==typeof t)throw new Error("cannot write a non-number as a number");if(t<0)throw new Error("specified a negative value for writing an unsigned value");if(t>e)throw new Error("RangeError: value out of range");if(Math.floor(t)!==t)throw new Error("value has a fractional component")}function c(t,e){var n=t.readUInt32LE(e),r=t.readUInt32LE(e+4);return u((r*=4294967296)+n,9007199254740991),r+n}function f(t,e,n){return u(e,9007199254740991),t.writeInt32LE(-1&e,n),t.writeUInt32LE(Math.floor(e/4294967296),n+4),n+8}e.varuint=s,e.readUInt64LE=c,e.writeUInt64LE=f,e.reverseBuffer=function(t){if(t.length<1)return t;for(var e=t.length-1,n=0,r=0;r<t.length/2;r++)n=t[r],t[r]=t[e],t[e]=n,e--;return t},e.cloneBuffer=function(e){var n=t.allocUnsafe(e.length);return e.copy(n),n};var l=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;r(this,e),this.buffer=t,this.offset=n,a(o.tuple(o.Buffer,o.UInt32),[t,n])}return i(e,[{key:"writeUInt8",value:function(t){this.offset=this.buffer.writeUInt8(t,this.offset)}},{key:"writeInt32",value:function(t){this.offset=this.buffer.writeInt32LE(t,this.offset)}},{key:"writeUInt32",value:function(t){this.offset=this.buffer.writeUInt32LE(t,this.offset)}},{key:"writeUInt64",value:function(t){this.offset=f(this.buffer,t,this.offset)}},{key:"writeVarInt",value:function(t){s.encode(t,this.buffer,this.offset),this.offset+=s.encode.bytes}},{key:"writeSlice",value:function(t){if(this.buffer.length<this.offset+t.length)throw new Error("Cannot write slice out of bounds");this.offset+=t.copy(this.buffer,this.offset)}},{key:"writeVarSlice",value:function(t){this.writeVarInt(t.length),this.writeSlice(t)}},{key:"writeVector",value:function(t){var e=this;this.writeVarInt(t.length),t.forEach((function(t){return e.writeVarSlice(t)}))}},{key:"end",value:function(){if(this.buffer.length===this.offset)return this.buffer;throw new Error("buffer size ".concat(this.buffer.length,", offset ").concat(this.offset))}}],[{key:"withCapacity",value:function(n){return new e(t.alloc(n))}}]),e}();e.BufferWriter=l;var h=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;r(this,t),this.buffer=e,this.offset=n,a(o.tuple(o.Buffer,o.UInt32),[e,n])}return i(t,[{key:"readUInt8",value:function(){var t=this.buffer.readUInt8(this.offset);return this.offset++,t}},{key:"readInt32",value:function(){var t=this.buffer.readInt32LE(this.offset);return this.offset+=4,t}},{key:"readUInt32",value:function(){var t=this.buffer.readUInt32LE(this.offset);return this.offset+=4,t}},{key:"readUInt64",value:function(){var t=c(this.buffer,this.offset);return this.offset+=8,t}},{key:"readVarInt",value:function(){var t=s.decode(this.buffer,this.offset);return this.offset+=s.decode.bytes,t}},{key:"readSlice",value:function(t){if(this.buffer.length<this.offset+t)throw new Error("Cannot read slice out of bounds");var e=this.buffer.slice(this.offset,this.offset+t);return this.offset+=t,e}},{key:"readVarSlice",value:function(){return this.readSlice(this.readVarInt())}},{key:"readVector",value:function(){for(var t=this.readVarInt(),e=[],n=0;n<t;n++)e.push(this.readVarSlice());return e}}]),t}();e.BufferReader=h}).call(this,n(4).Buffer)},1326:function(t,e,n){"use strict";(function(t){var r=n(444),i=n(445);Object.defineProperty(e,"__esModule",{value:!0}),e.Transaction=void 0;var o=n(1325),a=n(1210),s=n(1191),u=n(1191),c=n(1184),f=c.typeforce;function l(t){var e=t.length;return o.varuint.encodingLength(e)+e}function h(t){var e=t.length;return o.varuint.encodingLength(e)+t.reduce((function(t,e){return t+l(e)}),0)}var d=t.allocUnsafe(0),p=[],v=t.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),y=t.from("0000000000000000000000000000000000000000000000000000000000000001","hex"),g=t.from("ffffffffffffffff","hex"),m={script:d,valueBuffer:g};function b(t){return void 0!==t.value}var w=function(){function e(){r(this,e),this.version=1,this.locktime=0,this.ins=[],this.outs=[]}return i(e,[{key:"isCoinbase",value:function(){return 1===this.ins.length&&e.isCoinbaseHash(this.ins[0].hash)}},{key:"addInput",value:function(t,n,r,i){return f(c.tuple(c.Hash256bit,c.UInt32,c.maybe(c.UInt32),c.maybe(c.Buffer)),arguments),c.Null(r)&&(r=e.DEFAULT_SEQUENCE),this.ins.push({hash:t,index:n,script:i||d,sequence:r,witness:p})-1}},{key:"addOutput",value:function(t,e){return f(c.tuple(c.Buffer,c.Satoshi),arguments),this.outs.push({script:t,value:e})-1}},{key:"hasWitnesses",value:function(){return this.ins.some((function(t){return 0!==t.witness.length}))}},{key:"weight",value:function(){return 3*this.byteLength(!1)+this.byteLength(!0)}},{key:"virtualSize",value:function(){return Math.ceil(this.weight()/4)}},{key:"byteLength",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=t&&this.hasWitnesses();return(e?10:8)+o.varuint.encodingLength(this.ins.length)+o.varuint.encodingLength(this.outs.length)+this.ins.reduce((function(t,e){return t+40+l(e.script)}),0)+this.outs.reduce((function(t,e){return t+8+l(e.script)}),0)+(e?this.ins.reduce((function(t,e){return t+h(e.witness)}),0):0)}},{key:"clone",value:function(){var t=new e;return t.version=this.version,t.locktime=this.locktime,t.ins=this.ins.map((function(t){return{hash:t.hash,index:t.index,script:t.script,sequence:t.sequence,witness:t.witness}})),t.outs=this.outs.map((function(t){return{script:t.script,value:t.value}})),t}},{key:"hashForSignature",value:function(n,r,i){if(f(c.tuple(c.UInt32,c.Buffer,c.Number),arguments),n>=this.ins.length)return y;var o=s.compile(s.decompile(r).filter((function(t){return t!==u.OPS.OP_CODESEPARATOR}))),l=this.clone();if((31&i)===e.SIGHASH_NONE)l.outs=[],l.ins.forEach((function(t,e){e!==n&&(t.sequence=0)}));else if((31&i)===e.SIGHASH_SINGLE){if(n>=this.outs.length)return y;l.outs.length=n+1;for(var h=0;h<n;h++)l.outs[h]=m;l.ins.forEach((function(t,e){e!==n&&(t.sequence=0)}))}i&e.SIGHASH_ANYONECANPAY?(l.ins=[l.ins[n]],l.ins[0].script=o):(l.ins.forEach((function(t){t.script=d})),l.ins[n].script=o);var p=t.allocUnsafe(l.byteLength(!1)+4);return p.writeInt32LE(i,p.length-4),l.__toBuffer(p,0,!1),a.hash256(p)}},{key:"hashForWitnessV1",value:function(n,r,i,s,u,h){if(f(c.tuple(c.UInt32,f.arrayOf(c.Buffer),f.arrayOf(c.Satoshi),c.UInt32),arguments),i.length!==this.ins.length||r.length!==this.ins.length)throw new Error("Must supply prevout script and value for all inputs");var p=s===e.SIGHASH_DEFAULT?e.SIGHASH_ALL:s&e.SIGHASH_OUTPUT_MASK,v=s&e.SIGHASH_INPUT_MASK,y=v===e.SIGHASH_ANYONECANPAY,g=p===e.SIGHASH_NONE,m=p===e.SIGHASH_SINGLE,b=d,w=d,_=d,E=d,O=d;if(!y){var I=o.BufferWriter.withCapacity(36*this.ins.length);this.ins.forEach((function(t){I.writeSlice(t.hash),I.writeUInt32(t.index)})),b=a.sha256(I.end()),I=o.BufferWriter.withCapacity(8*this.ins.length),i.forEach((function(t){return I.writeUInt64(t)})),w=a.sha256(I.end()),I=o.BufferWriter.withCapacity(r.map(l).reduce((function(t,e){return t+e}))),r.forEach((function(t){return I.writeVarSlice(t)})),_=a.sha256(I.end()),I=o.BufferWriter.withCapacity(4*this.ins.length),this.ins.forEach((function(t){return I.writeUInt32(t.sequence)})),E=a.sha256(I.end())}if(g||m){if(m&&n<this.outs.length){var S=this.outs[n],T=o.BufferWriter.withCapacity(8+l(S.script));T.writeUInt64(S.value),T.writeVarSlice(S.script),O=a.sha256(T.end())}}else{var x=this.outs.map((function(t){return 8+l(t.script)})).reduce((function(t,e){return t+e})),k=o.BufferWriter.withCapacity(x);this.outs.forEach((function(t){k.writeUInt64(t.value),k.writeVarSlice(t.script)})),O=a.sha256(k.end())}var j=(u?2:0)+(h?1:0),A=174-(y?49:0)-(g?32:0)+(h?32:0)+(u?37:0),N=o.BufferWriter.withCapacity(A);if(N.writeUInt8(s),N.writeInt32(this.version),N.writeUInt32(this.locktime),N.writeSlice(b),N.writeSlice(w),N.writeSlice(_),N.writeSlice(E),g||m||N.writeSlice(O),N.writeUInt8(j),y){var P=this.ins[n];N.writeSlice(P.hash),N.writeUInt32(P.index),N.writeUInt64(i[n]),N.writeVarSlice(r[n]),N.writeUInt32(P.sequence)}else N.writeUInt32(n);if(h){var C=o.BufferWriter.withCapacity(l(h));C.writeVarSlice(h),N.writeSlice(a.sha256(C.end()))}return m&&N.writeSlice(O),u&&(N.writeSlice(u),N.writeUInt8(0),N.writeUInt32(4294967295)),a.taggedHash("TapSighash",t.concat([t.of(0),N.end()]))}},{key:"hashForWitnessV0",value:function(n,r,i,s){f(c.tuple(c.UInt32,c.Buffer,c.Satoshi,c.UInt32),arguments);var u,h=t.from([]),d=v,p=v,y=v;if(s&e.SIGHASH_ANYONECANPAY||(h=t.allocUnsafe(36*this.ins.length),u=new o.BufferWriter(h,0),this.ins.forEach((function(t){u.writeSlice(t.hash),u.writeUInt32(t.index)})),p=a.hash256(h)),s&e.SIGHASH_ANYONECANPAY||(31&s)===e.SIGHASH_SINGLE||(31&s)===e.SIGHASH_NONE||(h=t.allocUnsafe(4*this.ins.length),u=new o.BufferWriter(h,0),this.ins.forEach((function(t){u.writeUInt32(t.sequence)})),y=a.hash256(h)),(31&s)!==e.SIGHASH_SINGLE&&(31&s)!==e.SIGHASH_NONE){var g=this.outs.reduce((function(t,e){return t+8+l(e.script)}),0);h=t.allocUnsafe(g),u=new o.BufferWriter(h,0),this.outs.forEach((function(t){u.writeUInt64(t.value),u.writeVarSlice(t.script)})),d=a.hash256(h)}else if((31&s)===e.SIGHASH_SINGLE&&n<this.outs.length){var m=this.outs[n];h=t.allocUnsafe(8+l(m.script)),(u=new o.BufferWriter(h,0)).writeUInt64(m.value),u.writeVarSlice(m.script),d=a.hash256(h)}h=t.allocUnsafe(156+l(r)),u=new o.BufferWriter(h,0);var b=this.ins[n];return u.writeInt32(this.version),u.writeSlice(p),u.writeSlice(y),u.writeSlice(b.hash),u.writeUInt32(b.index),u.writeVarSlice(r),u.writeUInt64(i),u.writeUInt32(b.sequence),u.writeSlice(d),u.writeUInt32(this.locktime),u.writeUInt32(s),a.hash256(h)}},{key:"getHash",value:function(e){return e&&this.isCoinbase()?t.alloc(32,0):a.hash256(this.__toBuffer(void 0,void 0,e))}},{key:"getId",value:function(){return(0,o.reverseBuffer)(this.getHash(!1)).toString("hex")}},{key:"toBuffer",value:function(t,e){return this.__toBuffer(t,e,!0)}},{key:"toHex",value:function(){return this.toBuffer(void 0,void 0).toString("hex")}},{key:"setInputScript",value:function(t,e){f(c.tuple(c.Number,c.Buffer),arguments),this.ins[t].script=e}},{key:"setWitness",value:function(t,e){f(c.tuple(c.Number,[c.Buffer]),arguments),this.ins[t].witness=e}},{key:"__toBuffer",value:function(n,r){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];n||(n=t.allocUnsafe(this.byteLength(i)));var a=new o.BufferWriter(n,r||0);a.writeInt32(this.version);var s=i&&this.hasWitnesses();return s&&(a.writeUInt8(e.ADVANCED_TRANSACTION_MARKER),a.writeUInt8(e.ADVANCED_TRANSACTION_FLAG)),a.writeVarInt(this.ins.length),this.ins.forEach((function(t){a.writeSlice(t.hash),a.writeUInt32(t.index),a.writeVarSlice(t.script),a.writeUInt32(t.sequence)})),a.writeVarInt(this.outs.length),this.outs.forEach((function(t){b(t)?a.writeUInt64(t.value):a.writeSlice(t.valueBuffer),a.writeVarSlice(t.script)})),s&&this.ins.forEach((function(t){a.writeVector(t.witness)})),a.writeUInt32(this.locktime),void 0!==r?n.slice(r,a.offset):n}}],[{key:"fromBuffer",value:function(t,n){var r=new o.BufferReader(t),i=new e;i.version=r.readInt32();var a=r.readUInt8(),s=r.readUInt8(),u=!1;a===e.ADVANCED_TRANSACTION_MARKER&&s===e.ADVANCED_TRANSACTION_FLAG?u=!0:r.offset-=2;for(var c=r.readVarInt(),f=0;f<c;++f)i.ins.push({hash:r.readSlice(32),index:r.readUInt32(),script:r.readVarSlice(),sequence:r.readUInt32(),witness:p});for(var l=r.readVarInt(),h=0;h<l;++h)i.outs.push({value:r.readUInt64(),script:r.readVarSlice()});if(u){for(var d=0;d<c;++d)i.ins[d].witness=r.readVector();if(!i.hasWitnesses())throw new Error("Transaction has superfluous witness data")}if(i.locktime=r.readUInt32(),n)return i;if(r.offset!==t.length)throw new Error("Transaction has unexpected data");return i}},{key:"fromHex",value:function(n){return e.fromBuffer(t.from(n,"hex"),!1)}},{key:"isCoinbaseHash",value:function(t){f(c.Hash256bit,t);for(var e=0;e<32;++e)if(0!==t[e])return!1;return!0}}]),e}();e.Transaction=w,w.DEFAULT_SEQUENCE=4294967295,w.SIGHASH_DEFAULT=0,w.SIGHASH_ALL=1,w.SIGHASH_NONE=2,w.SIGHASH_SINGLE=3,w.SIGHASH_ANYONECANPAY=128,w.SIGHASH_OUTPUT_MASK=3,w.SIGHASH_INPUT_MASK=128,w.ADVANCED_TRANSACTION_MARKER=0,w.ADVANCED_TRANSACTION_FLAG=1}).call(this,n(4).Buffer)},1327:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1192),i=n(1591),o=n(1592),a=n(1593),s=n(1594),u=n(1595),c=n(1596),f=n(1597),l=n(1598),h=n(1599),d=n(1600),p=n(1601),v=n(1602),y=n(1603),g={unsignedTx:o,globalXpub:i,checkPubkey:p.makeChecker([])};e.globals=g;var m={nonWitnessUtxo:u,partialSig:c,sighashType:l,finalScriptSig:a,finalScriptWitness:s,porCommitment:f,witnessUtxo:h,bip32Derivation:d.makeConverter(r.InputTypes.BIP32_DERIVATION),redeemScript:v.makeConverter(r.InputTypes.REDEEM_SCRIPT),witnessScript:y.makeConverter(r.InputTypes.WITNESS_SCRIPT),checkPubkey:p.makeChecker([r.InputTypes.PARTIAL_SIG,r.InputTypes.BIP32_DERIVATION])};e.inputs=m;var b={bip32Derivation:d.makeConverter(r.OutputTypes.BIP32_DERIVATION),redeemScript:v.makeConverter(r.OutputTypes.REDEEM_SCRIPT),witnessScript:y.makeConverter(r.OutputTypes.WITNESS_SCRIPT),checkPubkey:p.makeChecker([r.OutputTypes.BIP32_DERIVATION])};e.outputs=b},1328:function(t,e,n){"use strict";(function(t){var r=n(645);Object.defineProperty(e,"__esModule",{value:!0});var i=n(1284);function o(e){var n=e.key.length,r=e.value.length,o=i.encodingLength(n),a=i.encodingLength(r),s=t.allocUnsafe(o+n+a+r);return i.encode(n,s,0),e.key.copy(s,o),i.encode(r,s,o+n),e.value.copy(s,o+n+a),s}function a(t,e){if("number"!==typeof t)throw new Error("cannot write a non-number as a number");if(t<0)throw new Error("specified a negative value for writing an unsigned value");if(t>e)throw new Error("RangeError: value out of range");if(Math.floor(t)!==t)throw new Error("value has a fractional component")}e.range=function(t){return r(Array(t).keys())},e.reverseBuffer=function(t){if(t.length<1)return t;for(var e=t.length-1,n=0,r=0;r<t.length/2;r++)n=t[r],t[r]=t[e],t[e]=n,e--;return t},e.keyValsToBuffer=function(e){var n=e.map(o);return n.push(t.from([0])),t.concat(n)},e.keyValToBuffer=o,e.readUInt64LE=function(t,e){var n=t.readUInt32LE(e),r=t.readUInt32LE(e+4);return a((r*=4294967296)+n,9007199254740991),r+n},e.writeUInt64LE=function(t,e,n){return a(e,9007199254740991),t.writeInt32LE(-1&e,n),t.writeUInt32LE(Math.floor(e/4294967296),n+4),n+8}}).call(this,n(4).Buffer)},1329:function(t,e,n){"use strict";function r(t){return null!=t&&!(Array.isArray(t)&&0===t.length)}function i(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t&&(r(t.value)&&""!==t.value||e&&r(t.defaultValue)&&""!==t.defaultValue)}function o(t){return t.startAdornment}n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return o}))},1330:function(t,e,n){"use strict";n.d(e,"b",(function(){return o}));var r=n(0),i=r.createContext();function o(){return r.useContext(i)}e.a=i},1331:function(t,e,n){"use strict";var r=n(0),i=r.createContext({});e.a=i},1332:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return r})),n.d(e,"d",(function(){return a}));var r=".",i={},o="xstate.guard",a=""},1333:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return u})),n.d(e,"d",(function(){return l})),n.d(e,"e",(function(){return h})),n.d(e,"f",(function(){return p})),n.d(e,"g",(function(){return o})),n.d(e,"h",(function(){return d}));var r=n(1200),i=n(1204),o=function(t){return"atomic"===t.type||"final"===t.type};function a(t){return Object(i.l)(t.states).map((function(e){return t.states[e]}))}function s(t){var e=[t];return o(t)?e:e.concat(Object(i.b)(a(t).map(s)))}function u(t,e){var n,i,o,s,u,c,l,h,d=f(new Set(t)),p=new Set(e);try{for(var v=Object(r.e)(p),y=v.next();!y.done;y=v.next())for(var g=(T=y.value).parent;g&&!p.has(g);)p.add(g),g=g.parent}catch(x){n={error:x}}finally{try{y&&!y.done&&(i=v.return)&&i.call(v)}finally{if(n)throw n.error}}var m=f(p);try{for(var b=Object(r.e)(p),w=b.next();!w.done;w=b.next()){if("compound"!==(T=w.value).type||m.get(T)&&m.get(T).length){if("parallel"===T.type)try{for(var _=(u=void 0,Object(r.e)(a(T))),E=_.next();!E.done;E=_.next()){var O=E.value;"history"!==O.type&&(p.has(O)||(p.add(O),d.get(O)?d.get(O).forEach((function(t){return p.add(t)})):O.initialStateNodes.forEach((function(t){return p.add(t)}))))}}catch(k){u={error:k}}finally{try{E&&!E.done&&(c=_.return)&&c.call(_)}finally{if(u)throw u.error}}}else d.get(T)?d.get(T).forEach((function(t){return p.add(t)})):T.initialStateNodes.forEach((function(t){return p.add(t)}))}}catch(j){o={error:j}}finally{try{w&&!w.done&&(s=b.return)&&s.call(b)}finally{if(o)throw o.error}}try{for(var I=Object(r.e)(p),S=I.next();!S.done;S=I.next()){var T;for(g=(T=S.value).parent;g&&!p.has(g);)p.add(g),g=g.parent}}catch(A){l={error:A}}finally{try{S&&!S.done&&(h=I.return)&&h.call(I)}finally{if(l)throw l.error}}return p}function c(t,e){var n=e.get(t);if(!n)return{};if("compound"===t.type){var r=n[0];if(!r)return{};if(o(r))return r.key}var i={};return n.forEach((function(t){i[t.key]=c(t,e)})),i}function f(t){var e,n,i=new Map;try{for(var o=Object(r.e)(t),a=o.next();!a.done;a=o.next()){var s=a.value;i.has(s)||i.set(s,[]),s.parent&&(i.has(s.parent)||i.set(s.parent,[]),i.get(s.parent).push(s))}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return i}function l(t,e){return c(t,f(u([t],e)))}function h(t,e){return Array.isArray(t)?t.some((function(t){return t===e})):t instanceof Set&&t.has(e)}function d(t){return Object(i.b)(Object(r.d)(new Set(t.map((function(t){return t.ownEvents})))))}function p(t,e){return"compound"===e.type?a(e).some((function(e){return"final"===e.type&&h(t,e)})):"parallel"===e.type&&a(e).every((function(e){return p(t,e)}))}},1334:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},i=this&&this.__read||function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(e,"__esModule",{value:!0}),e.resolveActions=e.choose=e.escalate=e.forwardTo=e.pure=e.error=e.doneInvoke=e.done=e.after=e.isActionObject=e.assign=e.resolveStop=e.stop=e.start=e.cancel=e.resolveLog=e.log=e.respond=e.sendUpdate=e.sendParent=e.resolveSend=e.send=e.resolveRaise=e.raise=e.toActivityDefinition=e.toActionObjects=e.toActionObject=e.getActionFunction=e.initEvent=e.actionTypes=void 0;var o=n(1419),a=n(1622);e.actionTypes=a;var s=n(1623),u=n(1420);function c(t,e){return e&&e[t]||void 0}function f(t,e){var n;if(s.isString(t)||"number"===typeof t){var i=c(t,e);n=s.isFunction(i)?{type:t,exec:i}:i||{type:t,exec:void 0}}else if(s.isFunction(t))n={type:t.name||t.toString(),exec:t};else{i=c(t.type,e);if(s.isFunction(i))n=r(r({},t),{exec:i});else if(i){var o=i.type||t.type;n=r(r(r({},i),t),{type:o})}else n=t}return Object.defineProperty(n,"toString",{value:function(){return n.type},enumerable:!1,configurable:!0}),n}e.initEvent=s.toSCXMLEvent({type:a.init}),e.getActionFunction=c,e.toActionObject=f;function l(t){var e=f(t);return r(r({id:s.isString(t)?t:e.id},e),{type:e.type})}function h(t){return{type:a.raise,_event:s.toSCXMLEvent(t.event)}}function d(t,e){return{to:e?e.to:void 0,type:a.send,event:s.isFunction(t)?t:s.toEventObject(t),delay:e?e.delay:void 0,id:e&&void 0!==e.id?e.id:s.isFunction(t)?t.name:s.getEventType(t)}}function p(t,e,n,i){var o,a={_event:n},u=s.toSCXMLEvent(s.isFunction(t.event)?t.event(e,n.data,a):t.event);if(s.isString(t.delay)){var c=i&&i[t.delay];o=s.isFunction(c)?c(e,n.data,a):c}else o=s.isFunction(t.delay)?t.delay(e,n.data,a):t.delay;var f=s.isFunction(t.to)?t.to(e,n.data,a):t.to;return r(r({},t),{to:f,_event:u,event:u.data,delay:o})}function v(t,e){return d(t,r(r({},e),{to:o.SpecialTargets.Parent}))}e.toActionObjects=function(t,e){return t?(s.isArray(t)?t:[t]).map((function(t){return f(t,e)})):[]},e.toActivityDefinition=l,e.raise=function(t){return s.isString(t)?{type:a.raise,event:t}:d(t,{to:o.SpecialTargets.Internal})},e.resolveRaise=h,e.send=d,e.resolveSend=p,e.sendParent=v,e.sendUpdate=function(){return v(a.update)},e.respond=function(t,e){return d(t,r(r({},e),{to:function(t,e,n){return n._event.origin}}))};var y=function(t,e){return{context:t,event:e}};e.log=function(t,e){return void 0===t&&(t=y),{type:a.log,label:e,expr:t}};e.resolveLog=function(t,e,n){return r(r({},t),{value:s.isString(t.expr)?t.expr:t.expr(e,n.data,{_event:n})})};function g(t,e,n){var r=s.isFunction(t.activity)?t.activity(e,n.data):t.activity,i="string"===typeof r?{id:r}:r;return{type:o.ActionTypes.Stop,activity:i}}e.cancel=function(t){return{type:a.cancel,sendId:t}},e.start=function(t){var e=l(t);return{type:o.ActionTypes.Start,activity:e,exec:void 0}},e.stop=function(t){var e=s.isFunction(t)?t:l(t);return{type:o.ActionTypes.Stop,activity:e,exec:void 0}},e.resolveStop=g;e.assign=function(t){return{type:a.assign,assignment:t}},e.isActionObject=function(t){return"object"===typeof t&&"type"in t},e.after=function(t,e){var n=e?"#"+e:"";return o.ActionTypes.After+"("+t+")"+n},e.done=function(t,e){var n=o.ActionTypes.DoneState+"."+t,r={type:n,data:e,toString:function(){return n}};return r},e.doneInvoke=function(t,e){var n=o.ActionTypes.DoneInvoke+"."+t,r={type:n,data:e,toString:function(){return n}};return r},e.error=function(t,e){var n=o.ActionTypes.ErrorPlatform+"."+t,r={type:n,data:e,toString:function(){return n}};return r},e.pure=function(t){return{type:o.ActionTypes.Pure,get:t}},e.forwardTo=function(t,e){return d((function(t,e){return e}),r(r({},e),{to:t}))},e.escalate=function(t,e){return v((function(e,n,r){return{type:a.error,data:s.isFunction(t)?t(e,n,r):t}}),r(r({},e),{to:o.SpecialTargets.Parent}))},e.choose=function(t){return{type:o.ActionTypes.Choose,conds:t}},e.resolveActions=function t(n,r,o,c,l){var d=i(s.partition(l,(function(t){return t.type===a.assign})),2),v=d[0],y=d[1],m=v.length?s.updateContext(o,c,v,r):o;return[s.flatten(y.map((function(i){var o;switch(i.type){case a.raise:return h(i);case a.send:var l=p(i,m,c,n.options.delays);return u.IS_PRODUCTION||s.warn(!s.isString(i.delay)||"number"===typeof l.delay,"No delay reference for delay expression '"+i.delay+"' was found on machine '"+n.id+"'"),l;case a.log:return e.resolveLog(i,m,c);case a.choose:if(!(v=null===(o=i.conds.find((function(t){var e=s.toGuard(t.cond,n.options.guards);return!e||s.evaluateGuard(n,e,m,c,r)})))||void 0===o?void 0:o.actions))return[];var d=t(n,r,m,c,e.toActionObjects(s.toArray(v),n.options.actions));return m=d[1],d[0];case a.pure:var v;if(!(v=i.get(m,c.data)))return[];d=t(n,r,m,c,e.toActionObjects(s.toArray(v),n.options.actions));return m=d[1],d[0];case a.stop:return g(i,m,c);default:return f(i,n.options.actions)}}))),m]}},1335:function(t,e,n){"use strict";t.exports="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"},1336:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return h}));var r=n(2),i=n.n(r),o=n(8),a=n(10),s=n(18),u=n(11),c=n(1402),f=function(t){return function(t){return void 0!==t.results}(t)?t.results:t},l=function(e){var n=e;if("string"===typeof e)try{n=parseInt(e)}catch(r){n=t.from(e.split("0x").pop()||"","hex")[0]}return{1:u.RenNetwork.Mainnet,42:u.RenNetwork.Testnet}[n]},h=function(){function t(e){var n=e.debug,r=void 0!==n&&n,i=e.networkIdMapper,o=void 0===i?l:i;Object(a.a)(this,t),this.supportsTestnet=!0,this.networkIdMapper=l,this.networkIdMapper=o,this.debug=r,this.emitter=new c.ConnectorEmitter(r)}return Object(s.a)(t,[{key:"getStatus",value:function(){var t=Object(o.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.debug&&console.debug("getting status"),t.next=3,this.getAccount();case 3:return t.t0=t.sent,t.next=6,this.getRenNetwork();case 6:return t.t1=t.sent,t.next=9,this.getProvider();case 9:return t.t2=t.sent,t.abrupt("return",{account:t.t0,renNetwork:t.t1,provider:t.t2});case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getAccount",value:function(){var t=Object(o.a)(i.a.mark((function t(){var e;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.debug&&console.debug("getting account"),t.t0=f,t.next=4,this.getProvider();case 4:return t.next=6,t.sent.request({method:"eth_requestAccounts"});case 6:if(t.t1=t.sent,e=(0,t.t0)(t.t1)[0]){t.next=10;break}throw new Error("Not activated");case 10:return t.abrupt("return",e);case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getRenNetwork",value:function(){var t=Object(o.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.debug&&console.debug("getting chain"),t.t0=this,t.t1=f,t.next=5,this.getProvider();case 5:return t.t2=t.sent,t.next=8,(0,t.t1)(t.t2).request({method:"eth_chainId"});case 8:return t.t3=t.sent,t.abrupt("return",t.t0.networkIdMapper.call(t.t0,t.t3));case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),t}()}).call(this,n(4).Buffer)},1398:function(t,e,n){"use strict";var r=n(1230);n.d(e,"a",(function(){return r.a}));r.a.registerVersion("firebase","8.2.6","app")},1399:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return ir})),n.d(e,"b",(function(){return ar})),n.d(e,"c",(function(){return or})),n.d(e,"d",(function(){return sr})),n.d(e,"e",(function(){return ur})),n.d(e,"f",(function(){return cr})),n.d(e,"g",(function(){return nr})),n.d(e,"h",(function(){return rr}));var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function i(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var o,a="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{},s=s||{},u=a||self;function c(){}function f(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function l(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var h="closure_uid_"+(1e9*Math.random()>>>0),d=0;function p(t,e,n){return t.call.apply(t.bind,arguments)}function v(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function y(t,e,n){return(y=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?p:v).apply(null,arguments)}function g(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function m(){return Date.now()}function b(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function w(){this.j=this.j,this.i=this.i}w.prototype.j=!1,w.prototype.ja=function(){if(!this.j&&(this.j=!0,this.G(),0))(function(t){Object.prototype.hasOwnProperty.call(t,h)&&t[h]||(t[h]=++d)})(this)},w.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var _=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},E=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"===typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function O(t){return Array.prototype.concat.apply([],arguments)}function I(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function S(t){return/^[\s\xa0]*$/.test(t)}var T,x=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function k(t,e){return-1!=t.indexOf(e)}function j(t,e){return t<e?-1:t>e?1:0}t:{var A=u.navigator;if(A){var N=A.userAgent;if(N){T=N;break t}}T=""}function P(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function C(t){var e={};for(var n in t)e[n]=t[n];return e}var R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<R.length;o++)n=R[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function L(t){return L[" "](t),t}L[" "]=c;var M,U=k(T,"Opera"),B=k(T,"Trident")||k(T,"MSIE"),F=k(T,"Edge"),V=F||B,H=k(T,"Gecko")&&!(k(T.toLowerCase(),"webkit")&&!k(T,"Edge"))&&!(k(T,"Trident")||k(T,"MSIE"))&&!k(T,"Edge"),q=k(T.toLowerCase(),"webkit")&&!k(T,"Edge");function G(){var t=u.document;return t?t.documentMode:void 0}t:{var W="",K=function(){var t=T;return H?/rv:([^\);]+)(\)|;)/.exec(t):F?/Edge\/([\d\.]+)/.exec(t):B?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):q?/WebKit\/(\S+)/.exec(t):U?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(K&&(W=K?K[1]:""),B){var z=G();if(null!=z&&z>parseFloat(W)){M=String(z);break t}}M=W}var X,Y={};function $(t){return function(t,e){var n=Y;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=x(String(M)).split("."),r=x(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=j(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||j(0==a[2].length,0==s[2].length)||j(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}if(u.document&&B){var J=G();X=J||(parseInt(M,10)||void 0)}else X=void 0;var Q=X,Z=!B||9<=Number(Q),tt=B&&!$("9"),et=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{u.addEventListener("test",c,e),u.removeEventListener("test",c,e)}catch(n){}return t}();function nt(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function rt(t,e){if(nt.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(H){t:{try{L(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:it[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}nt.prototype.b=function(){this.defaultPrevented=!0},b(rt,nt);var it={2:"touch",3:"pen",4:"mouse"};rt.prototype.b=function(){rt.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,tt)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var ot="closure_listenable_"+(1e6*Math.random()|0),at=0;function st(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++at,this.Y=this.Z=!1}function ut(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function ct(t){this.src=t,this.a={},this.b=0}function ft(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=_(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(ut(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function lt(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}ct.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=lt(t,e,r,i);return-1<a?(e=t[a],n||(e.Z=!1)):((e=new st(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var ht="closure_lm_"+(1e6*Math.random()|0),dt={};function pt(t,e,n,r,i){if(r&&r.once)return yt(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)pt(t,e[o],n,r,i);return null}return n=It(n),t&&t[ot]?t.va(e,n,l(r)?!!r.capture:!!r,i):vt(t,e,n,!1,r,i)}function vt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=l(i)?!!i.capture:!!i;if(a&&!Z)return null;var s=Et(t);if(s||(t[ht]=s=new ct(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){var t=_t,e=Z?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)et||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(bt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function yt(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)yt(t,e[o],n,r,i);return null}return n=It(n),t&&t[ot]?t.wa(e,n,l(r)?!!r.capture:!!r,i):vt(t,e,n,!0,r,i)}function gt(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)gt(t,e[o],n,r,i);else r=l(r)?!!r.capture:!!r,n=It(n),t&&t[ot]?(t=t.c,(e=String(e).toString())in t.a&&(-1<(n=lt(o=t.a[e],n,r,i))&&(ut(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=Et(t))&&(e=t.a[e.toString()],t=-1,e&&(t=lt(e,n,r,i)),(n=-1<t?e[t]:null)&&mt(n))}function mt(t){if("number"!==typeof t&&t&&!t.Y){var e=t.src;if(e&&e[ot])ft(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(bt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Et(e))?(ft(n,t),0==n.b&&(n.src=null,e[ht]=null)):ut(t)}}}function bt(t){return t in dt?dt[t]:dt[t]="on"+t}function wt(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&mt(t),n.call(r,e)}function _t(t,e){if(t.Y)return!0;if(!Z){if(!e)t:{e=["window","event"];for(var n=u,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return wt(t,e=new rt(e,this))}return wt(t,new rt(e,this))}function Et(t){return(t=t[ht])instanceof ct?t:null}var Ot="__closure_events_fn_"+(1e9*Math.random()>>>0);function It(t){return"function"===typeof t?t:(t[Ot]||(t[Ot]=function(e){return t.handleEvent(e)}),t[Ot])}function St(){w.call(this),this.c=new ct(this),this.J=this,this.C=null}function Tt(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"===typeof e)e=new nt(e,t);else if(e instanceof nt)e.target=e.target||t;else{var i=e;D(e=new nt(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.a=n[o];i=xt(a,r,!0,e)&&i}if(i=xt(a=e.a=t,r,!0,e)&&i,i=xt(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=xt(a=e.a=n[o],r,!1,e)&&i}function xt(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.Y&&a.capture==n){var s=a.listener,u=a.ca||a.src;a.Z&&ft(t.c,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}b(St,w),St.prototype[ot]=!0,(o=St.prototype).addEventListener=function(t,e,n,r){pt(this,t,e,n,r)},o.removeEventListener=function(t,e,n,r){gt(this,t,e,n,r)},o.G=function(){if(St.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ut(n[r]);delete e.a[t],e.b--}}this.C=null},o.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},o.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var kt=u.JSON.stringify;function jt(){this.b=this.a=null}var At,Nt=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())((function(){return new Ct}),(function(t){t.reset()}));function Pt(){var t=Mt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Ct(){this.next=this.b=this.a=null}function Rt(t){u.setTimeout((function(){throw t}),0)}function Dt(t,e){At||function(){var t=u.Promise.resolve(void 0);At=function(){t.then(Ut)}}(),Lt||(At(),Lt=!0),Mt.add(t,e)}jt.prototype.add=function(t,e){var n=Nt.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Ct.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Ct.prototype.reset=function(){this.next=this.b=this.a=null};var Lt=!1,Mt=new jt;function Ut(){for(var t;t=Pt();){try{t.a.call(t.b)}catch(n){Rt(n)}var e=Nt;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}Lt=!1}function Bt(t,e){St.call(this),this.b=t||1,this.a=e||u,this.f=y(this.Za,this),this.g=m()}function Ft(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Vt(t,e,n){if("function"===typeof t)n&&(t=y(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=y(t.handleEvent,t)}return 2147483647<Number(e)?-1:u.setTimeout(t,e||0)}function Ht(t){t.a=Vt((function(){t.a=null,t.c&&(t.c=!1,Ht(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}b(Bt,St),(o=Bt.prototype).aa=!1,o.M=null,o.Za=function(){if(this.aa){var t=m()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Tt(this,"tick"),this.aa&&(Ft(this),this.start()))}},o.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=m())},o.G=function(){Bt.X.G.call(this),Ft(this),delete this.a};var qt=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Ht(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(u.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(w);function Gt(t){w.call(this),this.b=t,this.a={}}b(Gt,w);var Wt=[];function Kt(t,e,n,r){Array.isArray(n)||(n&&(Wt[0]=n.toString()),n=Wt);for(var i=0;i<n.length;i++){var o=pt(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function zt(t){P(t.a,(function(t,e){this.a.hasOwnProperty(e)&&mt(t)}),t),t.a={}}function Xt(){this.a=!0}function Yt(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return kt(n)}catch(s){return e}}(t,n)+(r?" "+r:"")}))}Gt.prototype.G=function(){Gt.X.G.call(this),zt(this)},Gt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Xt.prototype.info=function(){};var $t={},Jt=null;function Qt(){return Jt=Jt||new St}function Zt(t){nt.call(this,$t.Fa,t)}function te(t){var e=Qt();Tt(e,new Zt(e,t))}function ee(t,e){nt.call(this,$t.STAT_EVENT,t),this.stat=e}function ne(t){var e=Qt();Tt(e,new ee(e,t))}function re(t){nt.call(this,$t.Ga,t)}function ie(t,e){if("function"!==typeof t)throw Error("Fn must not be null and must be a function");return u.setTimeout((function(){t()}),e)}$t.Fa="serverreachability",b(Zt,nt),$t.STAT_EVENT="statevent",b(ee,nt),$t.Ga="timingevent",b(re,nt);var oe={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},ae={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function se(){}function ue(t){var e;return(e=t.a)||(e=t.a={}),e}function ce(){}se.prototype.a=null;var fe,le={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function he(){nt.call(this,"d")}function de(){nt.call(this,"c")}function pe(){}function ve(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Gt(this),this.P=ye,t=V?125:void 0,this.R=new Bt(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}b(he,nt),b(de,nt),b(pe,se),fe=new pe;var ye=45e3,ge={},me={};function be(t,e,n){t.H=1,t.i=Ve(De(e)),t.j=n,t.I=!0,we(t,null)}function we(t,e){t.u=m(),Oe(t),t.l=De(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),tn(n.b,"t",r),t.D=0,t.a=Yn(t.g,t.g.C?e:null),0<t.O&&(t.F=new qt(y(t.Ca,t,t.a),t.O)),Kt(t.J,t.a,"readystatechange",t.Xa),e=t.B?C(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),te(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var f=c[0];c=c[1];var l=f.split("_");a=2<=l.length&&"type"==l[1]?a+(f+"=")+c+"&":a+(f+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a}))}(t.c,t.m,t.l,t.f,t.S,t.j)}function _e(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Ee(t,n);if(i==me){4==e&&(t.h=4,ne(14),r=!1),Yt(t.c,t.f,null,"[Incomplete Response]");break}if(i==ge){t.h=4,ne(15),Yt(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Yt(t.c,t.f,i,null),ke(t,i)}4==e&&0==n.length&&(t.h=1,ne(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Vn(e),e.F=!0,ne(11))):(Yt(t.c,t.f,n,"[Invalid Chunked Response]"),xe(t),Te(t))}function Ee(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?me:(n=Number(e.substring(n,r)),isNaN(n)?ge:(r+=1)+n>e.length?me:(e=e.substr(r,n),t.D=r+n,e))}function Oe(t){t.T=m()+t.P,Ie(t,t.P)}function Ie(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=ie(y(t.Va,t),e)}function Se(t){t.o&&(u.clearTimeout(t.o),t.o=null)}function Te(t){0==t.g.v||t.A||Gn(t.g,t)}function xe(t){Se(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Ft(t.R),zt(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function ke(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||un(n.b,t)))if(n.I=t.N,!t.C&&un(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(g){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;qn(n),Pn(n)}Fn(n),ne(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=ie(y(n.Sa,n),6e3));if(1>=sn(n.b)&&n.ea){try{n.ea()}catch(g){}n.ea=void 0}}else Kn(n,11)}else if((t.C||n.a==t)&&qn(n),!S(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var a=i[4];null!=a&&(n.pa=a,n.c.info("SVER="+n.pa));var s=i[5];if(null!=s&&"number"===typeof s&&0<s){var u=1.5*s;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var f=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(f){var l=u.b;!l.a&&(k(f,"spdy")||k(f,"quic")||k(f,"h2"))&&(l.f=l.g,l.a=new Set,l.b&&(cn(l,l.b),l.b=null))}if(u.A){var h=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;h&&(u.na=h,Fe(u.B,u.A,h))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=m()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=Xn(u,u.C?u.ga:null,u.fa),d.C){fn(u.b,d);var p=d,v=u.D;v&&p.setTimeout(v),p.o&&(Se(p),Oe(p)),u.a=d}else Bn(u);0<n.g.length&&Dn(n)}else"stop"!=i[0]&&"close"!=i[0]||Kn(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Kn(n,7):Nn(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);te(4)}catch(g){}}function je(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(f(t)||"string"===typeof t)E(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(f(t)||"string"===typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"===typeof t)return t.split("");if(f(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Ae(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Ae)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Ne(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Pe(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Pe(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Pe(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(o=ve.prototype).setTimeout=function(t){this.P=t},o.Xa=function(t){t=t.target;var e=this.F;e&&3==xn(t)?e.f():this.Ca(t)},o.Ca=function(t){try{if(t==this.a)t:{var e=xn(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!V&&!this.a.$())){this.A||4!=e||7==n||te(8==n||0>=r?3:2),Se(this);var i=this.a.W();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,a){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a}))}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var a,s=this.a;if((a=s.a?s.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(a)){var u=a;break e}}u=null}if(!u){this.b=!1,this.h=3,ne(12),xe(this),Te(this);break t}Yt(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,ke(this,u)}this.I?(_e(this,e,o),V&&this.b&&3==e&&(Kt(this.J,this.R,"tick",this.Wa),this.R.start())):(Yt(this.c,this.f,o,null),ke(this,o)),4==e&&xe(this),this.b&&!this.A&&(4==e?Gn(this.g,this):(this.b=!1,Oe(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,ne(12)):(this.h=0,ne(13)),xe(this),Te(this)}}}catch(c){}},o.Wa=function(){if(this.a){var t=xn(this.a),e=this.a.$();this.D<e.length&&(Se(this),_e(this,t,e),this.b&&4!=t&&Oe(this))}},o.cancel=function(){this.A=!0,xe(this)},o.Va=function(){this.o=null;var t=m();0<=t-this.T?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(te(3),ne(17)),xe(this),this.h=2,Te(this)):Ie(this,this.T-t)},(o=Ae.prototype).K=function(){Ne(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},o.L=function(){return Ne(this),this.a.concat()},o.get=function(t,e){return Pe(this.b,t)?this.b[t]:e},o.set=function(t,e){Pe(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},o.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Ce=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Re(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Re){this.a=void 0!==e?e:t.a,Le(this,t.f),this.j=t.j,Me(this,t.c),Ue(this,t.h),this.g=t.g,e=t.b;var n=new $e;n.c=e.c,e.a&&(n.a=new Ae(e.a),n.b=e.b),Be(this,n),this.i=t.i}else t&&(n=String(t).match(Ce))?(this.a=!!e,Le(this,n[1]||"",!0),this.j=He(n[2]||""),Me(this,n[3]||"",!0),Ue(this,n[4]),this.g=He(n[5]||"",!0),Be(this,n[6]||"",!0),this.i=He(n[7]||"")):(this.a=!!e,this.b=new $e(null,this.a))}function De(t){return new Re(t)}function Le(t,e,n){t.f=n?He(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Me(t,e,n){t.c=n?He(e,!0):e}function Ue(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Be(t,e,n){e instanceof $e?(t.b=e,function(t,e){e&&!t.f&&(Je(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Qe(this,e),tn(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=qe(e,Xe)),t.b=new $e(e,t.a))}function Fe(t,e,n){t.b.set(e,n)}function Ve(t){return Fe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^m()).toString(36)),t}function He(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function qe(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,Ge),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ge(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Re.prototype.toString=function(){var t=[],e=this.f;e&&t.push(qe(e,We,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(qe(e,We,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(qe(n,"/"==n.charAt(0)?ze:Ke,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",qe(n,Ye)),t.join("")};var We=/[#\/\?@]/g,Ke=/[#\?:]/g,ze=/[#\?]/g,Xe=/[#\?@]/g,Ye=/#/g;function $e(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Je(t){t.a||(t.a=new Ae,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Qe(t,e){Je(t),e=en(t,e),Pe(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Pe((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Ne(t)))}function Ze(t,e){return Je(t),e=en(t,e),Pe(t.a.b,e)}function tn(t,e,n){Qe(t,e),0<n.length&&(t.c=null,t.a.set(en(t,e),I(n)),t.b+=n.length)}function en(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(o=$e.prototype).add=function(t,e){Je(this),this.c=null,t=en(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},o.forEach=function(t,e){Je(this),this.a.forEach((function(n,r){E(n,(function(n){t.call(e,n,r,this)}),this)}),this)},o.L=function(){Je(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},o.K=function(t){Je(this);var e=[];if("string"===typeof t)Ze(this,t)&&(e=O(e,this.a.get(en(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=O(e,t[n])}return e},o.set=function(t,e){return Je(this),this.c=null,Ze(this,t=en(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},o.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},o.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var nn=function(t,e){this.b=t,this.a=e};function rn(t){this.g=t||on,u.PerformanceNavigationTiming?t=0<(t=u.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(u.ia&&u.ia.ya&&u.ia.ya()&&u.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var on=10;function an(t){return!!t.b||!!t.a&&t.a.size>=t.f}function sn(t){return t.b?1:t.a?t.a.size:0}function un(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function cn(t,e){t.a?t.a.add(e):t.b=e}function fn(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function ln(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var o=i(t.a.values()),a=o.next();!a.done;a=o.next()){var s=a.value;r=r.concat(s.s)}}catch(u){e={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}return I(t.c)}function hn(){}function dn(){this.a=new hn}function pn(t,e,n){var r=n||"";try{je(t,(function(t,n){var i=t;l(t)&&(i=kt(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function vn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}rn.prototype.cancel=function(){var t,e;if(this.c=ln(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=i(this.a.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(o){t={error:o}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},hn.prototype.stringify=function(t){return u.JSON.stringify(t,void 0)},hn.prototype.parse=function(t){return u.JSON.parse(t,void 0)};var yn=u.JSON.parse;function gn(t){St.call(this),this.headers=new Ae,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=mn,this.D=this.F=!1}b(gn,St);var mn="",bn=/^https?$/i,wn=["POST","PUT"];function _n(t){return"content-type"==t.toLowerCase()}function En(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,On(t),Sn(t)}function On(t){t.u||(t.u=!0,Tt(t,"complete"),Tt(t,"error"))}function In(t){if(t.b&&"undefined"!=typeof s&&(!t.s[1]||4!=xn(t)||2!=t.W()))if(t.l&&4==xn(t))Vt(t.za,0,t);else if(Tt(t,"readystatechange"),4==xn(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(Ce)[1]||null;if(!o&&u.self&&u.self.location){var a=u.self.location.protocol;o=a.substr(0,a.length-1)}i=!bn.test(o?o.toLowerCase():"")}e=i}if(e)Tt(t,"complete"),Tt(t,"success");else{t.h=6;try{var c=2<xn(t)?t.a.statusText:""}catch(n){c=""}t.f=c+" ["+t.W()+"]",On(t)}}finally{Sn(t)}}}function Sn(t,e){if(t.a){Tn(t);var n=t.a,r=t.s[0]?c:null;t.a=null,t.s=null,e||Tt(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function Tn(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(u.clearTimeout(t.m),t.m=null)}function xn(t){return t.a?t.a.readyState:0}function kn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return P(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"===typeof t?null!=n&&encodeURIComponent(String(n)):Fe(t,e,n))}function jn(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function An(t){this.pa=0,this.g=[],this.c=new Xt,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=jn("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=jn("baseRetryDelayMs",5e3,t),this.Ra=jn("retryDelaySeedMs",1e4,t),this.Ma=jn("forwardChannelMaxRetries",2,t),this.ma=jn("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new rn(t&&t.concurrentRequestLimit),this.ka=new dn,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function Nn(t){if(Cn(t),3==t.v){var e=t.R++,n=De(t.B);Fe(n,"SID",t.J),Fe(n,"RID",e),Fe(n,"TYPE","terminate"),Mn(t,n),(e=new ve(t,t.c,e,void 0)).H=2,e.i=Ve(De(n)),n=!1,u.navigator&&u.navigator.sendBeacon&&(n=u.navigator.sendBeacon(e.i.toString(),"")),!n&&u.Image&&((new Image).src=e.i,n=!0),n||(e.a=Yn(e.g,null),e.a.ba(e.i)),e.u=m(),Oe(e)}zn(t)}function Pn(t){t.a&&(Vn(t),t.a.cancel(),t.a=null)}function Cn(t){Pn(t),t.j&&(u.clearTimeout(t.j),t.j=null),qn(t),t.b.cancel(),t.h&&("number"===typeof t.h&&u.clearTimeout(t.h),t.h=null)}function Rn(t,e){t.g.push(new nn(t.Oa++,e)),3==t.v&&Dn(t)}function Dn(t){an(t.b)||t.h||(t.h=!0,Dt(t.Ba,t),t.u=0)}function Ln(t,e){var n;n=e?e.f:t.R++;var r=De(t.B);Fe(r,"SID",t.J),Fe(r,"RID",n),Fe(r,"AID",t.P),Mn(t,r),t.i&&t.l&&kn(r,t.i,t.l),n=new ve(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Un(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),cn(t.b,n),be(n,r,e)}function Mn(t,e){t.f&&je({},(function(t,n){Fe(e,n,t)}))}function Un(t,e,n){n=Math.min(t.g.length,n);var r=t.f?y(t.f.Ja,t.f,t):null;t:for(var i=t.g,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].b,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].b,f=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),s=!1;else try{pn(f,a,"req"+c+"_")}catch(l){r&&r(f)}}if(s){r=a.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Bn(t){t.a||t.j||(t.T=1,Dt(t.Aa,t),t.o=0)}function Fn(t){return!(t.a||t.j||3<=t.o)&&(t.T++,t.j=ie(y(t.Aa,t),Wn(t,t.o)),t.o++,!0)}function Vn(t){null!=t.s&&(u.clearTimeout(t.s),t.s=null)}function Hn(t){t.a=new ve(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=De(t.la);Fe(e,"RID","rpc"),Fe(e,"SID",t.J),Fe(e,"CI",t.H?"0":"1"),Fe(e,"AID",t.P),Mn(t,e),Fe(e,"TYPE","xmlhttp"),t.i&&t.l&&kn(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Ve(De(e)),n.j=null,n.I=!0,we(n,t)}function qn(t){null!=t.m&&(u.clearTimeout(t.m),t.m=null)}function Gn(t,e){var n=null;if(t.a==e){qn(t),Vn(t),t.a=null;var r=2}else{if(!un(t.b,e))return;n=e.s,fn(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=m()-e.u;var i=t.u;Tt(r=Qt(),new re(r,n,e,i)),Dn(t)}else Bn(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(sn(t.b)>=t.b.f-(t.h?1:0))&&(t.h?(t.g=e.s.concat(t.g),!0):!(1==t.v||2==t.v||t.u>=(t.La?0:t.Ma))&&(t.h=ie(y(t.Ba,t,e),Wn(t,t.u)),t.u++,!0))}(t,e)||2==r&&Fn(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Kn(t,5);break;case 4:Kn(t,10);break;case 3:Kn(t,6);break;default:Kn(t,2)}}function Wn(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Kn(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=y(t.Ya,t);n||(n=new Re("//www.google.com/images/cleardot.gif"),u.location&&"http"==u.location.protocol||Le(n,"https"),Ve(n)),function(t,e){var n=new Xt;if(u.Image){var r=new Image;r.onload=g(vn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=g(vn,n,r,"TestLoadImage: error",!1,e),r.onabort=g(vn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=g(vn,n,r,"TestLoadImage: timeout",!1,e),u.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else ne(2);t.v=0,t.f&&t.f.ra(e),zn(t),Cn(t)}function zn(t){t.v=0,t.I=-1,t.f&&(0==ln(t.b).length&&0==t.g.length||(t.b.c.length=0,I(t.g),t.g.length=0),t.f.qa())}function Xn(t,e,n){var r=function(t){return t instanceof Re?De(t):new Re(t,void 0)}(n);if(""!=r.c)e&&Me(r,e+"."+r.c),Ue(r,r.h);else{var i=u.location;r=function(t,e,n,r){var i=new Re(null,void 0);return t&&Le(i,t),e&&Me(i,e),n&&Ue(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&P(t.V,(function(t,e){Fe(r,e,t)})),e=t.A,n=t.na,e&&n&&Fe(r,e,n),Fe(r,"VER",t.ha),Mn(t,r),r}function Yn(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new gn(t.Na)).F=t.C,e}function $n(){}function Jn(){if(B&&!(10<=Number(Q)))throw Error("Environmental error: no available transport.")}function Qn(t,e){St.call(this),this.a=new An(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!S(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!S(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&(e in(t=this.b)&&delete t[e])),this.f=new er(this)}function Zn(t){he.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function tr(){de.call(this),this.status=1}function er(t){this.a=t}(o=gn.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?ue(this.H):ue(fe),this.a.onreadystatechange=y(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(o){return void En(this,o)}t=n||"";var i=new Ae(this.headers);r&&je(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=_n,n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"===typeof t?t.charAt(e):t[e]}(i.L()),n=u.FormData&&t instanceof u.FormData,!(0<=_(wn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Tn(this),0<this.o&&((this.D=function(t){return B&&$(9)&&"number"===typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=y(this.xa,this)):this.m=Vt(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(o){En(this,o)}},o.xa=function(){"undefined"!=typeof s&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Tt(this,"timeout"),this.abort(8))},o.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Tt(this,"complete"),Tt(this,"abort"),Sn(this))},o.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Sn(this,!0)),gn.X.G.call(this)},o.za=function(){this.j||(this.A||this.l||this.g?In(this):this.Ua())},o.Ua=function(){In(this)},o.W=function(){try{return 2<xn(this)?this.a.status:-1}catch(t){return-1}},o.$=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},o.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),yn(e)}},o.ua=function(){return this.h},o.Qa=function(){return"string"===typeof this.f?this.f:String(this.f)},(o=An.prototype).ha=8,o.v=1,o.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new ve(this,this.c,t,void 0),r=this.l;if(this.O&&(r?D(r=C(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"===typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Un(this,n,e),Fe(i=De(this.B),"RID",t),Fe(i,"CVER",22),this.A&&Fe(i,"X-HTTP-Session-Id",this.A),Mn(this,i),this.i&&r&&kn(i,this.i,r),cn(this.b,n),this.Ia&&Fe(i,"TYPE","init"),this.da?(Fe(i,"$req",e),Fe(i,"SID","null"),n.U=!0,be(n,i,null)):be(n,i,e),this.v=2}}else 3==this.v&&(t?Ln(this,t):0==this.g.length||an(this.b)||Ln(this))},o.Aa=function(){if(this.j=null,Hn(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=ie(y(this.Ta,this),t)}},o.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,ne(10),Pn(this),Hn(this))},o.Sa=function(){null!=this.m&&(this.m=null,Pn(this),Fn(this),ne(19))},o.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),ne(2)):(this.c.info("Failed to ping google.com"),ne(1))},(o=$n.prototype).ta=function(){},o.sa=function(){},o.ra=function(){},o.qa=function(){},o.Ja=function(){},Jn.prototype.a=function(t,e){return new Qn(t,e)},b(Qn,St),Qn.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;ne(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=Xn(t,null,t.fa),Dn(t)},Qn.prototype.close=function(){Nn(this.a)},Qn.prototype.h=function(t){if("string"===typeof t){var e={};e.__data__=t,Rn(this.a,e)}else this.l?((e={}).__data__=kt(t),Rn(this.a,e)):Rn(this.a,t)},Qn.prototype.G=function(){this.a.f=null,delete this.f,Nn(this.a),delete this.a,Qn.X.G.call(this)},b(Zn,he),b(tr,de),b(er,$n),er.prototype.ta=function(){Tt(this.a,"a")},er.prototype.sa=function(t){Tt(this.a,new Zn(t))},er.prototype.ra=function(t){Tt(this.a,new tr(t))},er.prototype.qa=function(){Tt(this.a,"b")},Jn.prototype.createWebChannel=Jn.prototype.a,Qn.prototype.send=Qn.prototype.h,Qn.prototype.open=Qn.prototype.g,Qn.prototype.close=Qn.prototype.close,oe.NO_ERROR=0,oe.TIMEOUT=8,oe.HTTP_ERROR=6,ae.COMPLETE="complete",ce.EventType=le,le.OPEN="a",le.CLOSE="b",le.ERROR="c",le.MESSAGE="d",St.prototype.listen=St.prototype.va,gn.prototype.listenOnce=gn.prototype.wa,gn.prototype.getLastError=gn.prototype.Qa,gn.prototype.getLastErrorCode=gn.prototype.ua,gn.prototype.getStatus=gn.prototype.W,gn.prototype.getResponseJson=gn.prototype.Pa,gn.prototype.getResponseText=gn.prototype.$,gn.prototype.send=gn.prototype.ba;var nr=function(){return new Jn},rr=function(){return Qt()},ir=oe,or=ae,ar=$t,sr={gb:0,jb:1,kb:2,Db:3,Ib:4,Fb:5,Gb:6,Eb:7,Cb:8,Hb:9,PROXY:10,NOPROXY:11,Ab:12,wb:13,xb:14,vb:15,yb:16,zb:17,bb:18,ab:19,cb:20},ur=ce,cr=gn}).call(this,n(34))},1400:function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return r}))},1401:function(t,e,n){"use strict";function r(){var t=document.createElement("div");t.style.width="99px",t.style.height="99px",t.style.position="absolute",t.style.top="-9999px",t.style.overflow="scroll",document.body.appendChild(t);var e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),e}n.d(e,"a",(function(){return r}))},1402:function(t,e,n){"use strict";n.r(e),n.d(e,"ConnectorEvents",(function(){return r})),n.d(e,"ConnectorEmitter",(function(){return c}));var r,i=n(10),o=n(18),a=n(13),s=n(14),u=n(124);!function(t){t.UPDATE="CONNECTOR_UPDATE",t.ERROR="CONNECTOR_ERROR",t.DEACTIVATE="CONNECTOR_DEACTIVATE"}(r||(r={}));var c=function(t){Object(a.a)(n,t);var e=Object(s.a)(n);function n(t){var r;return Object(i.a)(this,n),(r=e.call(this)).debug=t,r}return Object(o.a)(n,[{key:"emitUpdate",value:function(t){this.debug&&console.debug("'".concat(r.UPDATE,"'"),t),this.emit(r.UPDATE,t)}},{key:"emitError",value:function(t){this.debug&&console.debug("'".concat(r.ERROR,"'"),t),this.emit(r.ERROR,t)}},{key:"emitDeactivate",value:function(t){this.debug&&console.debug("'".concat(r.DEACTIVATE,"'")),this.emit(r.DEACTIVATE,t)}}]),n}(u.EventEmitter)},1403:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.toOutputScript=e.fromOutputScript=e.toBech32=e.toBase58Check=e.fromBech32=e.fromBase58Check=void 0;var r=n(1199),i=n(1322),o=n(1191),a=n(1184),s=n(348),u=n(349),c=a.typeforce,f="WARNING: Sending to a future segwit version address can lead to loss of funds. End users MUST be warned carefully in the GUI and asked if they wish to proceed with caution. Wallets should verify the segwit version from the output of fromBech32, then decide when it is safe to use which version of segwit.";function l(t){var e=u.decode(t);if(e.length<21)throw new TypeError(t+" is too short");if(e.length>21)throw new TypeError(t+" is too long");return{version:e.readUInt8(0),hash:e.slice(1)}}function h(e){var n,r;try{n=s.bech32.decode(e)}catch(o){}if(n){if(0!==(r=n.words[0]))throw new TypeError(e+" uses wrong encoding")}else if(0===(r=(n=s.bech32m.decode(e)).words[0]))throw new TypeError(e+" uses wrong encoding");var i=s.bech32.fromWords(n.words.slice(1));return{version:r,prefix:n.prefix,data:t.from(i)}}function d(t,e,n){var r=s.bech32.toWords(t);return r.unshift(e),0===e?s.bech32.encode(n,r):s.bech32m.encode(n,r)}e.fromBase58Check=l,e.fromBech32=h,e.toBase58Check=function(e,n){c(a.tuple(a.Hash160bit,a.UInt8),arguments);var r=t.allocUnsafe(21);return r.writeUInt8(n,0),e.copy(r,1),u.encode(r)},e.toBech32=d,e.fromOutputScript=function(t,e){e=e||r.bitcoin;try{return i.p2pkh({output:t,network:e}).address}catch(n){}try{return i.p2sh({output:t,network:e}).address}catch(n){}try{return i.p2wpkh({output:t,network:e}).address}catch(n){}try{return i.p2wsh({output:t,network:e}).address}catch(n){}try{return function(t,e){var n=t.slice(2);if(n.length<2||n.length>40)throw new TypeError("Invalid program length for segwit address");var r=t[0]-80;if(r<1||r>16)throw new TypeError("Invalid version for segwit address");if(t[1]!==n.length)throw new TypeError("Invalid script for segwit address");return console.warn(f),d(n,r,e.bech32)}(t,e)}catch(n){}throw new Error(o.toASM(t)+" has no matching Address")},e.toOutputScript=function(t,e){var n,a;e=e||r.bitcoin;try{n=l(t)}catch(s){}if(n){if(n.version===e.pubKeyHash)return i.p2pkh({hash:n.hash}).output;if(n.version===e.scriptHash)return i.p2sh({hash:n.hash}).output}else{try{a=h(t)}catch(s){}if(a){if(a.prefix!==e.bech32)throw new Error(t+" has an invalid prefix");if(0===a.version){if(20===a.data.length)return i.p2wpkh({hash:a.data}).output;if(32===a.data.length)return i.p2wsh({hash:a.data}).output}else if(a.version>=1&&a.version<=16&&a.data.length>=2&&a.data.length<=40)return console.warn(f),o.compile([a.version+80,a.data])}}throw new Error(t+" has no matching Script")}}).call(this,n(4).Buffer)},1404:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.encode=e.decode=e.check=void 0,e.check=function(t){if(t.length<8)return!1;if(t.length>72)return!1;if(48!==t[0])return!1;if(t[1]!==t.length-2)return!1;if(2!==t[2])return!1;var e=t[3];if(0===e)return!1;if(5+e>=t.length)return!1;if(2!==t[4+e])return!1;var n=t[5+e];return 0!==n&&(6+e+n===t.length&&(!(128&t[4])&&(!(e>1&&0===t[4]&&!(128&t[5]))&&(!(128&t[e+6])&&!(n>1&&0===t[e+6]&&!(128&t[e+7]))))))},e.decode=function(t){if(t.length<8)throw new Error("DER sequence length is too short");if(t.length>72)throw new Error("DER sequence length is too long");if(48!==t[0])throw new Error("Expected DER sequence");if(t[1]!==t.length-2)throw new Error("DER sequence length is invalid");if(2!==t[2])throw new Error("Expected DER integer");var e=t[3];if(0===e)throw new Error("R length is zero");if(5+e>=t.length)throw new Error("R length is too long");if(2!==t[4+e])throw new Error("Expected DER integer (2)");var n=t[5+e];if(0===n)throw new Error("S length is zero");if(6+e+n!==t.length)throw new Error("S length is invalid");if(128&t[4])throw new Error("R value is negative");if(e>1&&0===t[4]&&!(128&t[5]))throw new Error("R value excessively padded");if(128&t[e+6])throw new Error("S value is negative");if(n>1&&0===t[e+6]&&!(128&t[e+7]))throw new Error("S value excessively padded");return{r:t.slice(4,4+e),s:t.slice(6+e)}},e.encode=function(e,n){var r=e.length,i=n.length;if(0===r)throw new Error("R length is zero");if(0===i)throw new Error("S length is zero");if(r>33)throw new Error("R length is too long");if(i>33)throw new Error("S length is too long");if(128&e[0])throw new Error("R value is negative");if(128&n[0])throw new Error("S value is negative");if(r>1&&0===e[0]&&!(128&e[1]))throw new Error("R value excessively padded");if(i>1&&0===n[0]&&!(128&n[1]))throw new Error("S value excessively padded");var o=t.allocUnsafe(6+r+i);return o[0]=48,o[1]=o.length-2,o[2]=2,o[3]=e.length,e.copy(o,4),o[4+r]=2,o[5+r]=n.length,n.copy(o,6+r),o}}).call(this,n(4).Buffer)},1405:function(t,e,n){var r=n(1324);function i(t){return t.name||t.toString().match(/function (.*?)\s*\(/)[1]}function o(t){return r.Nil(t)?"":i(t.constructor)}function a(t,e){Error.captureStackTrace&&Error.captureStackTrace(t,e)}function s(t){return r.Function(t)?t.toJSON?t.toJSON():i(t):r.Array(t)?"Array":t&&r.Object(t)?"Object":void 0!==t?t:""}function u(t,e,n){var i=function(t){return r.Function(t)?"":r.String(t)?JSON.stringify(t):t&&r.Object(t)?"":t}(e);return"Expected "+s(t)+", got"+(""!==n?" "+n:"")+(""!==i?" "+i:"")}function c(t,e,n){n=n||o(e),this.message=u(t,e,n),a(this,c),this.__type=t,this.__value=e,this.__valueTypeName=n}function f(t,e,n,r,i){t?(i=i||o(r),this.message=function(t,e,n,r,i){var o='" of type ';return"key"===e&&(o='" with key type '),u('property "'+s(n)+o+s(t),r,i)}(t,n,e,r,i)):this.message='Unexpected property "'+e+'"',a(this,c),this.__label=n,this.__property=e,this.__type=t,this.__value=r,this.__valueTypeName=i}c.prototype=Object.create(Error.prototype),c.prototype.constructor=c,f.prototype=Object.create(Error.prototype),f.prototype.constructor=c,t.exports={TfTypeError:c,TfPropertyTypeError:f,tfCustomError:function(t,e){return new c(t,{},e)},tfSubError:function(t,e,n){return t instanceof f?(e=e+"."+t.__property,t=new f(t.__type,e,t.__label,t.__value,t.__valueTypeName)):t instanceof c&&(t=new f(t.__type,e,n,t.__value,t.__valueTypeName)),a(t),t},tfJSON:s,getValueTypeName:o}},1406:function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n(1590)),r(n(1604))},1407:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n(1327);function i(t,e){var n=t[e];if(void 0===n)throw new Error("No input #".concat(e));return n}function o(t,e,n,r){throw new Error("Data for ".concat(t," key ").concat(e," is incorrect: Expected ")+"".concat(n," and got ").concat(JSON.stringify(r)))}function a(t){return function(e,n){for(var i=function(){var i=s[a],u=e[i],c=r[t+"s"][i]||{},f=c.canAdd,l=c.canAddToArray,h=c.check,d=c.expected;if(h)if(!!l){if(!Array.isArray(u)||n[i]&&!Array.isArray(n[i]))throw new Error("Key type ".concat(i," must be an array"));u.every(h)||o(t,i,d,u);var p=n[i]||[],v=new Set;if(!u.every((function(t){return l(p,t,v)})))throw new Error("Can not add duplicate data to array");n[i]=p.concat(u)}else{if(h(u)||o(t,i,d,u),!f(n,u))throw new Error("Can not add duplicate data to ".concat(t));n[i]=u}},a=0,s=Object.keys(e);a<s.length;a++)i()}}e.checkForInput=i,e.checkForOutput=function(t,e){var n=t[e];if(void 0===n)throw new Error("No output #".concat(e));return n},e.checkHasKey=function(t,e,n){if(t.key[0]<n)throw new Error("Use the method for your specific key instead of addUnknownKeyVal*");if(e&&0!==e.filter((function(e){return e.key.equals(t.key)})).length)throw new Error("Duplicate Key: ".concat(t.key.toString("hex")))},e.getEnumLength=function(t){var e=0;return Object.keys(t).forEach((function(t){Number(isNaN(Number(t)))&&e++})),e},e.inputCheckUncleanFinalized=function(t,e){var n=!1;if(e.nonWitnessUtxo||e.witnessUtxo){var r=!!e.redeemScript,i=!!e.witnessScript,o=!r||!!e.finalScriptSig,a=!i||!!e.finalScriptWitness,s=!!e.finalScriptSig||!!e.finalScriptWitness;n=o&&a&&s}if(!1===n)throw new Error("Input #".concat(t," has too much or too little data to clean"))},e.updateGlobal=a("global"),e.updateInput=a("input"),e.updateOutput=a("output"),e.addInputAttributes=function(t,n){var r=i(t,t.length-1);e.updateInput(n,r)},e.addOutputAttributes=function(t,n){var r=i(t,t.length-1);e.updateOutput(n,r)},e.defaultVersionSetter=function(e,n){if(!t.isBuffer(n)||n.length<4)throw new Error("Set Version: Invalid Transaction");return n.writeUInt32LE(e,0),n},e.defaultLocktimeSetter=function(e,n){if(!t.isBuffer(n)||n.length<4)throw new Error("Set Locktime: Invalid Transaction");return n.writeUInt32LE(e,n.length-4),n}}).call(this,n(4).Buffer)},1408:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(0);function i(t,e){void 0===e&&(e=0);var n=Object(r.useRef)(!1),i=Object(r.useRef)(),o=Object(r.useRef)(t),a=Object(r.useCallback)((function(){return n.current}),[]),s=Object(r.useCallback)((function(){n.current=!1,i.current&&clearTimeout(i.current),i.current=setTimeout((function(){n.current=!0,o.current()}),e)}),[e]),u=Object(r.useCallback)((function(){n.current=null,i.current&&clearTimeout(i.current)}),[]);return Object(r.useEffect)((function(){o.current=t}),[t]),Object(r.useEffect)((function(){return s(),u}),[e]),[a,u,s]}},1409:function(t,e){t.exports={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}},1410:function(t,e){t.exports={L:1,M:0,Q:3,H:2}},1411:function(t,e,n){var r=n(1412);function i(t,e){if(void 0==t.length)throw new Error(t.length+"/"+e);for(var n=0;n<t.length&&0==t[n];)n++;this.num=new Array(t.length-n+e);for(var r=0;r<t.length-n;r++)this.num[r]=t[r+n]}i.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),n=0;n<this.getLength();n++)for(var o=0;o<t.getLength();o++)e[n+o]^=r.gexp(r.glog(this.get(n))+r.glog(t.get(o)));return new i(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=r.glog(this.get(0))-r.glog(t.get(0)),n=new Array(this.getLength()),o=0;o<this.getLength();o++)n[o]=this.get(o);for(o=0;o<t.getLength();o++)n[o]^=r.gexp(r.glog(t.get(o))+e);return new i(n,0).mod(t)}},t.exports=i},1412:function(t,e){for(var n={glog:function(t){if(t<1)throw new Error("glog("+t+")");return n.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return n.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},r=0;r<8;r++)n.EXP_TABLE[r]=1<<r;for(r=8;r<256;r++)n.EXP_TABLE[r]=n.EXP_TABLE[r-4]^n.EXP_TABLE[r-5]^n.EXP_TABLE[r-6]^n.EXP_TABLE[r-8];for(r=0;r<255;r++)n.LOG_TABLE[n.EXP_TABLE[r]]=r;t.exports=n},1413:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.burnMachine=e.mintMachine=void 0;var o=n(1414),a=n(1417),s=n(1421),u=n(1422);i(n(1421),e),i(n(1422),e),i(n(1418),e),i(n(1417),e),i(n(1414),e),i(n(1625),e),e.mintMachine=u.mintMachine.withConfig(a.mintConfig),e.burnMachine=s.burnMachine.withConfig(o.burnConfig)},1414:function(t,e,n){"use strict";var r=n(347),i=n(2),o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.burnConfig=void 0;var s=n(1616),u=a(n(23)),c=n(1251),f=c.assign({burnListenerRef:function(t,e){var n="".concat(t.tx.id,"BurnListener");if(t.burnListenerRef)return console.warn("listener already exists"),t.burnListenerRef;var r=d(t);return c.spawn(r,n)}}),l=function(t,e,n,r){return o(void 0,void 0,void 0,i.mark((function a(){var u,c,f,l;return i.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return u=t.burn(),c=function n(a){return o(void 0,void 0,void 0,i.mark((function o(){var s;return i.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,t.confirmationTarget();case 2:s=i.sent,a>=s&&t.burnDetails?(u.removeListener("confirmation",n),e({type:"CONFIRMED",data:Object.assign(Object.assign({},r),{sourceTxConfs:a})})):e({type:"CONFIRMATION",data:Object.assign(Object.assign({},r),{sourceTxConfs:a,sourceTxConfTarget:s})});case 4:case"end":return i.stop()}}),o)})))},n.push((function(){u._cancel(),u.removeListener("confirmation",c)})),a.prev=3,a.next=6,u.on("transactionHash",(function(t){r.sourceTxHash=t,r.sourceTxConfs=0,e({type:"SUBMITTED",data:Object.assign({},r)})})).on("confirmation",c);case 6:if(f=a.sent,!r){a.next=16;break}if(a.t0=r.sourceTxConfTarget,a.t0){a.next=13;break}return a.next=12,t.confirmationTarget();case 12:a.t0=a.sent;case 13:l=a.t0,f.status==s.BurnAndReleaseStatus.Burned&&(r.sourceTxConfs=l),c(r.sourceTxConfs);case 16:a.next=21;break;case 18:throw a.prev=18,a.t1=a.catch(3),a.t1;case 21:case"end":return a.stop()}}),a,null,[[3,18]])})))},h=function(t,e,n,r){return o(void 0,void 0,void 0,i.mark((function o(){var a,s,u,c,f;return i.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return a=function(t){"confirming"===t?console.debug("confirming"):console.debug("status",t)},s=function(t){e({type:"ACCEPTED",data:Object.assign(Object.assign({},r),{renVMHash:t})})},u=function(t){e({type:"RELEASED",data:Object.assign(Object.assign({},r),{destTxHash:t.hash,rawDestTx:t})})},c=t.release(),n.push((function(){c._cancel(),c.removeListener("status",a),c.removeListener("transaction",u),c.removeListener("txHash",s)})),c.catch((function(t){console.error("release error",t),e({type:"RELEASE_ERROR",data:t.toString()})})),i.prev=6,i.next=9,c.on("status",a).on("transaction",u).on("txHash",s);case 9:f=i.sent,e({type:"RELEASED",data:Object.assign(Object.assign({},r),{renResponse:f})}),i.next=16;break;case 13:i.prev=13,i.t0=i.catch(6),e({type:"RELEASE_ERROR",data:i.t0.toString()});case 16:case"end":return i.stop()}}),o,null,[[6,13]])})))},d=function(t){return function(e,n){var a=[],s=!1;return function(t){return o(void 0,void 0,void 0,i.mark((function e(){var n;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object.keys(t.tx.transactions)[0],e.next=3,t.sdk.burnAndRelease(Object.assign({asset:t.tx.sourceAsset.toUpperCase(),to:t.toChainMap[t.tx.destChain](t),from:t.fromChainMap[t.tx.sourceChain](t)},n?{transaction:n}:{}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))}(t).then((function(r){return o(void 0,void 0,void 0,i.mark((function o(){var u;return i.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return e({type:"CREATED"}),(t.autoSubmit||Object.keys(t.tx.transactions).length>0)&&setTimeout((function(){return e("SUBMIT")}),500),u=Object.values(t.tx.transactions)[0]||{},i.next=5,r.confirmationTarget();case 5:u.sourceTxConfTarget=i.sent,u.sourceTxAmount=Number(t.tx.suggestedAmount),u.rawSourceTx={amount:String(t.tx.suggestedAmount),transaction:{}},n((function(t){if("SUBMIT"===t.type){if(s)return;s=!0,l(r,e,a,u).then().catch((function(t){console.error(t),e({type:"BURN_ERROR",data:t.toString()})}))}"RELEASE"===t.type&&h(r,e,a,u).then().catch((function(t){console.error(t),e({type:"BURN_ERROR",data:t.toString()})}))}));case 9:case"end":return i.stop()}}),o)})))})).catch((function(t){console.error(t),e({type:"BURN_ERROR",data:t.toString()})})),function(){var t,e=r(a);try{for(e.s();!(t=e.n()).done;){(0,t.value)()}}catch(n){e.e(n)}finally{e.f()}}}};e.burnConfig={actions:{burnSpawner:f},services:{burnCreator:function(t){return o(void 0,void 0,void 0,i.mark((function e(){var n,r,o,a,s,c,f,l,h,d,p;return i.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.tx,r=n.targetAmount,o=n.sourceAsset,a=n.sourceChain,s=n.destChain,c=t.toChainMap[s](t),f=t.fromChainMap[a](t),e.next=5,c.assetDecimals(o.toUpperCase());case 5:if(l=e.sent,h=new u.default(r).times(new u.default(10).exponentiatedBy(l)),!t.autoFees){e.next=12;break}return e.next=10,t.sdk.getFees({asset:o.toUpperCase(),from:f,to:c});case 10:d=e.sent,h=h.plus(d.release||0).plus(h.multipliedBy(.001*d.burn));case 12:return p=Object.assign(Object.assign({},t.tx),{suggestedAmount:h.decimalPlaces(0).toFixed()}),t.tx=p,e.abrupt("return",Object.assign(Object.assign({},p),{transactions:{}}));case 15:case"end":return e.stop()}}),e)})))},burnListener:d}}},1415:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return u}));var r=n(1204),i=n(1416);function o(t){return{id:t,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},toJSON:function(){return{id:t}}}}function a(t,e,n,i){var a,u=Object(r.A)(t.src),c=null===(a=null===e||void 0===e?void 0:e.options.services)||void 0===a?void 0:a[u.type],f=t.data?Object(r.m)(t.data,n,i):void 0,l=c?s(c,t.id,f):o(t.id);return l.meta=t,l}function s(t,e,n){var a=o(e);return a.deferred=!0,Object(r.h)(t)&&(a.state=Object(i.b)(void 0,(function(){return(n?t.withContext(n):t).initialState}))),a}function u(t){return function(t){try{return"function"===typeof t.send}catch(e){return!1}}(t)&&"id"in t}},1416:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return i}));var r=[],i=function(t,e){r.push(t);var n=e(t);return r.pop(),n},o=function(t){return t(r[r.length-1])}},1417:function(t,e,n){"use strict";(function(t){var r=n(2),i=n(453),o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))},a=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.mintConfig=e.renLockAndMint=void 0;var s=a(n(619)),u=n(1620),c=a(n(23)),f=n(1251),l=n(1418),h=function(e){if(e){for(var n=0,r=Object.entries(e);n<r.length;n++){var o=i(r[n],2),a=o[0],s=o[1];t.isBuffer(s)&&(e[a]=s.toString("hex"))}return e}};e.renLockAndMint=function(t){return o(void 0,void 0,void 0,r.mark((function e(){var n,i,o,a,s,u,c,f,l;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.tx,i=n.nonce,o=n.destChain,a=n.sourceChain,s=n.sourceAsset,u=t.sdk,c=t.fromChainMap,f=t.toChainMap,e.next=4,u.lockAndMint({asset:s.toUpperCase(),from:c[a](t),to:f[o](t),nonce:i});case 4:return l=e.sent,e.abrupt("return",l);case 6:case"end":return e.stop()}}),e)})))};var d=function(t,e,n){return o(void 0,void 0,void 0,r.mark((function i(){var o;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.confirmed().on("target",(function(e){n({type:"CONFIRMATION",data:{sourceTxHash:t,sourceTxConfs:0,sourceTxConfTarget:e}})})).on("confirmation",(function(e,r){n({type:"CONFIRMATION",data:{sourceTxHash:t,sourceTxConfs:e,sourceTxConfTarget:r}})}));case 3:o=r.sent,n({type:"CONFIRMED",data:{sourceTxConfTarget:o._state.targetConfirmations,sourceTxConfs:o._state.targetConfirmations,sourceTxHash:t}}),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),n({type:"ERROR",data:{sourceTxHash:t},error:r.t0});case 10:case"end":return r.stop()}}),i,null,[[0,7]])})))},p=function(t,e,n){return o(void 0,void 0,void 0,r.mark((function i(){var o,a;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,e.signed().on("status",(function(t){return console.debug(t)}));case 3:if((a=r.sent)._state.queryTxResult&&a._state.queryTxResult.out){r.next=7;break}return n({type:"SIGN_ERROR",data:{sourceTxHash:t},error:new Error("No signature!").toString()}),r.abrupt("return");case 7:if(!a._state.queryTxResult.out||void 0===a._state.queryTxResult.out.revert){r.next=12;break}return n({type:"SIGN_ERROR",data:{sourceTxHash:t},error:a._state.queryTxResult.out.revert.toString()}),r.abrupt("return");case 12:n({type:"SIGNED",data:{sourceTxHash:t,renResponse:h(a._state.queryTxResult.out),signature:null===(o=a._state.queryTxResult.out.signature)||void 0===o?void 0:o.toString("hex")}});case 13:r.next=18;break;case 15:r.prev=15,r.t0=r.catch(0),n({type:"SIGN_ERROR",data:{sourceTxHash:t},error:r.t0});case 18:case"end":return r.stop()}}),i,null,[[0,15]])})))},v=function(t,e,n,i){return o(void 0,void 0,void 0,r.mark((function o(){var a,s;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,a=e.mint(i),s=function e(r,i){var o={sourceTxHash:t};0==i.status?n({type:"SUBMIT_ERROR",data:{sourceTxHash:t},error:"Transaction was reverted"}):n({type:"ACKNOWLEDGE",data:o}),a.removeListener("confirmation",e)},r.next=5,a.on("transactionHash",(function(e){n({type:"SUBMITTED",data:{sourceTxHash:t,destTxHash:e}})}));case 5:return r.next=7,a.on("confirmation",s);case 7:return r.next=9,a;case 9:r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),n({type:"SUBMIT_ERROR",data:{sourceTxHash:t},error:r.t0});case 14:case"end":return r.stop()}}),o,null,[[0,11]])})))},y=function(t){return function(n,i){var a=function(){};return function(t,n){return o(void 0,void 0,void 0,r.mark((function i(){var o;return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,e.renLockAndMint(t);case 2:return(o=r.sent).gatewayAddress!=t.tx.gatewayAddress&&n({type:"ERROR_LISTENING",data:new Error("Incorrect gateway address ".concat(String(o.gatewayAddress)," != ").concat(t.tx.gatewayAddress))}),r.abrupt("return",o);case 5:case"end":return r.stop()}}),i)})))}(t,n).then((function(e){a=function(){return e.removeAllListeners()},function(t,e,n,i){var a=new Map,s=function(n){var r=n.params.from.transactionID(n.depositDetails.transaction);if(!a.get(r)){var i=t.tx.transactions[r],o=n.depositDetails,s=i||{sourceTxHash:r,renVMHash:n.txHash(),renResponse:h(n._state.queryTxResult||{}),sourceTxAmount:parseInt(o.amount),sourceTxConfs:parseInt(o.transaction.confirmations),rawSourceTx:o,destTxHash:null===n||void 0===n?void 0:n.mintTransaction,detectedAt:(new Date).getTime()};n.status===u.DepositStatus.Submitted&&(s.completedAt=Date.now()),i?(a.set(r,n),e({type:"RESTORED",data:s})):e({type:"DEPOSIT",data:Object.assign({},s)})}};i.on("deposit",s),n((function(t){var n=a.get(t.hash);n&&o(void 0,void 0,void 0,r.mark((function i(){return r.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:r.t0=t.type,r.next="SETTLE"===r.t0?3:"SIGN"===r.t0?6:"MINT"===r.t0?9:12;break;case 3:return r.next=5,d(t.hash,n,e);case 5:return r.abrupt("break",12);case 6:return r.next=8,p(t.hash,n,e);case 8:return r.abrupt("break",12);case 9:return r.next=11,v(t.hash,n,e,t.params);case 11:return r.abrupt("break",12);case 12:case"end":return r.stop()}}),i)}))).then().catch((function(n){return e({type:"ERROR",data:t.data,error:n})}))})),n((function(n){switch(n.type){case"RESTORE":i.processDeposit(n.data.rawSourceTx).then((function(t){s(t)})).catch((function(r){if(!t.tx.transactions[n.data.renVMHash])throw r;e({type:"ERROR",data:n.data,error:r})}))}}))}(t,n,i,e),n({type:"LISTENING"})})).catch((function(t){n({type:"ERROR_LISTENING",data:t})})),function(){a()}}},g=f.assign({depositListenerRef:function(t,e){var n="".concat(t.tx.id,"SessionListener");if(t.depositListenerRef)return console.warn("listener already exists"),t.depositListenerRef;var r=y(t);return f.spawn(r,n)}}),m=function(t,e){return f.spawn(l.depositMachine.withContext(t).withConfig({actions:{listenerAction:g}}),{sync:!0,name:e})};e.mintConfig={services:{txCreator:function(t){return o(void 0,void 0,void 0,r.mark((function n(){var i,o,a,u,f,l,h,d,p,v,y,g,m;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.tx.nonce||(t.tx.nonce=s.default.utils.randomNonce().toString("hex")),i=t.tx,o=i.targetAmount,a=i.sourceAsset,u=i.sourceChain,f=i.destChain,l=t.toChainMap[f](t),h=t.fromChainMap[u](t),n.next=6,h.assetDecimals(a.toUpperCase());case 6:if(d=n.sent,p=new c.default(o).times(new c.default(10).exponentiatedBy(d)),!t.autoFees){n.next=13;break}return n.next=11,t.sdk.getFees({asset:a.toUpperCase(),from:h,to:l});case 11:v=n.sent,p=p.plus(v.lock||0).plus(p.multipliedBy(.001*v.mint));case 13:return n.next=15,e.renLockAndMint(t);case 15:return y=n.sent,g=null===y||void 0===y?void 0:y.gatewayAddress,m=Object.assign(Object.assign({},t.tx),{suggestedAmount:p.decimalPlaces(0).toFixed(),gatewayAddress:g}),n.abrupt("return",m);case 19:case"end":return n.stop()}}),n)})))},depositListener:y},actions:{broadcast:f.actions.pure((function(t,e){return Object.values(t.depositMachines||{}).map((function(t){return f.send(e,{to:t.id})}))})),forwardEvent:f.send((function(t,e){return e}),{to:function(t){return"depositListener"}}),routeEvent:f.send((function(t,e){return e}),{to:function(t,e){var n;return(null===(n=(t.depositMachines||{})[e.data.sourceTxHash])||void 0===n?void 0:n.id)||"missing"}}),spawnDepositMachine:f.assign({depositMachines:function(t,e){var n,r=t.depositMachines||{};return r[null===(n=e.data)||void 0===n?void 0:n.sourceTxHash]||!e.data||(r[e.data.sourceTxHash]=m({deposit:e.data},String(e.data.sourceTxHash))),r}}),depositMachineSpawner:f.assign({depositMachines:function(t,e){for(var n={},r=0,i=Object.entries(t.tx.transactions||{});r<i.length;r++){var o=i[r],a={deposit:o[1]};n[o[0]]=m(a,a.deposit.sourceTxHash)}return Object.assign(Object.assign({},n),t.depositMachines)}}),listenerAction:g},guards:{isRequestCompleted:function(t,e){var n;return(t.mintRequests||[]).includes(null===(n=e.data)||void 0===n?void 0:n.sourceTxHash)&&e.data.destTxHash},isCompleted:function(t,e){var n,r=t.tx;return(null===(n=e.data)||void 0===n?void 0:n.sourceTxAmount)>=r.targetAmount},isExpired:function(t){return t.tx.expiryTime<(new Date).getTime()},isCreated:function(t){return!!t.tx.gatewayAddress}}}}).call(this,n(4).Buffer)},1418:function(t,e,n){"use strict";var r=n(2),i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.depositMachine=void 0;var o=n(1251),a=n(1334),s=n(3),u=function(t,e){return t?e?t>e?t:e:t||0:e||0};e.depositMachine=o.Machine({id:"RenVMDepositTransaction",initial:"checkingCompletion",states:{checkingCompletion:{entry:[o.send("CHECK")],on:{CHECK:[{target:"completed",cond:"isCompleted"},{target:"restoringDeposit"}]},meta:{test:function(t,e){s.assert(!e.context.deposit.error,"Error must not exist")}}},errorRestoring:{entry:[a.log((function(t,e){return t.deposit.error}),"ERROR")],meta:{test:function(t,e){s.assert(!!e.context.deposit.error,"Error must exist")}}},restoringDeposit:{entry:o.sendParent((function(t,e){return{type:"RESTORE",data:t.deposit}})),on:{RESTORED:{target:"restoredDeposit",actions:o.assign((function(t,e){return{deposit:e.data}}))},ERROR:{target:"errorRestoring",actions:o.assign((function(t,e){return{deposit:Object.assign(Object.assign({},t.deposit),{error:e.error})}}))}},meta:{test:function(t,e){s.assert(!e.context.deposit.error,"Error must not exist")}}},restoredDeposit:{entry:[o.send("RESTORED")],on:{RESTORED:[{target:"srcSettling",cond:"isSrcSettling"},{target:"srcConfirmed",cond:"isSrcSettled"},{target:"accepted",cond:"isAccepted"}].reverse()},meta:{test:function(){return i(void 0,void 0,void 0,r.mark((function t(){return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))}}},srcSettling:{entry:o.sendParent((function(t,e){return{type:"SETTLE",hash:t.deposit.sourceTxHash}})),on:{CONFIRMED:[{target:"srcConfirmed",actions:[o.assign({deposit:function(t,e){var n=t.deposit;return n.sourceTxConfTarget?Object.assign(Object.assign({},n),{sourceTxConfs:u(n.sourceTxConfs,e.data.sourceTxConfs),sourceTxConfTarget:u(n.sourceTxConfTarget,e.data.sourceTxConfTarget)}):n}}),o.sendParent((function(t,e){return{type:"DEPOSIT_UPDATE",data:t.deposit}}))]}],CONFIRMATION:[{actions:[o.sendParent((function(t,e){return{type:"DEPOSIT_UPDATE",data:Object.assign(Object.assign({},t.deposit),e.data)}})),o.assign({deposit:function(t,e){var n,r;return Object.assign(Object.assign({},t.deposit),{sourceTxConfs:(null===(n=e.data)||void 0===n?void 0:n.sourceTxConfs)||0,sourceTxConfTarget:null===(r=e.data)||void 0===r?void 0:r.sourceTxConfTarget})}})]}],ERROR:[{actions:[o.assign({deposit:function(t,e){return Object.assign(Object.assign({},t.deposit),{error:e.error})}}),a.log((function(t,e){return t.deposit.error}),"ERROR")]}]},meta:{test:function(){return i(void 0,void 0,void 0,r.mark((function t(){return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))}}},srcConfirmed:{entry:o.sendParent((function(t,e){return{type:"SIGN",hash:t.deposit.sourceTxHash}})),on:{SIGN_ERROR:{target:"errorAccepting",actions:o.assign({deposit:function(t,e){return Object.assign(Object.assign({},t.deposit),{error:e.data})}})},SIGNED:{target:"accepted",actions:o.assign({deposit:function(t,e){return Object.assign(Object.assign({},t.deposit),e.data)}})}},meta:{test:function(){return i(void 0,void 0,void 0,r.mark((function t(){return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))}}},errorAccepting:{entry:[a.log((function(t,e){return t.deposit.error}),"ERROR")],meta:{test:function(t,e){s.assert(!!e.context.deposit.error,"error must exist")}}},accepted:{entry:o.sendParent((function(t,e){return{type:"CLAIMABLE",data:t.deposit}})),on:{CLAIM:{target:"claiming",actions:o.assign({deposit:function(t,e){return Object.assign(Object.assign({},t.deposit),{contractParams:e.data})}})},REJECT:"rejected"},meta:{test:function(){return i(void 0,void 0,void 0,r.mark((function t(){return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))}}},errorSubmitting:{entry:[a.log((function(t,e){return t.deposit.error}),"ERROR"),o.sendParent((function(t,e){return{type:"CLAIMABLE",data:t.deposit}}))],on:{CLAIM:{target:"claiming",actions:o.assign({deposit:function(t,e){return Object.assign(Object.assign({},t.deposit),{contractParams:e.data})}})},REJECT:"rejected"},meta:{test:function(t,e){s.assert(!!e.context.deposit.error,"error must exist")}}},claiming:{entry:o.sendParent((function(t){return{type:"MINT",hash:t.deposit.sourceTxHash,data:t.deposit.contractParams}})),on:{SUBMIT_ERROR:[{target:"errorSubmitting",actions:[o.assign({deposit:function(t,e){return Object.assign(Object.assign({},t.deposit),{error:e.data})}}),o.sendParent((function(t,e){return{type:"DEPOSIT_UPDATE",data:t.deposit}}))]}],SUBMITTED:[{target:"destInitiated",actions:[o.assign({deposit:function(t,e){return Object.assign(Object.assign({},t.deposit),e.data)}}),o.sendParent((function(t,e){return{type:"DEPOSIT_UPDATE",data:t.deposit}}))]}]},meta:{test:function(){return i(void 0,void 0,void 0,r.mark((function t(){return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))}}},destInitiated:{on:{ACKNOWLEDGE:{target:"completed",actions:[o.assign({deposit:function(t,e){return Object.assign(Object.assign({},t.deposit),{completedAt:(new Date).getTime()})}})]}},meta:{test:function(){return i(void 0,void 0,void 0,r.mark((function t(){return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))}}},rejected:{meta:{test:function(){return i(void 0,void 0,void 0,r.mark((function t(){return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))}}},completed:{entry:[o.sendParent((function(t,e){return{type:"DEPOSIT_COMPLETED",data:t.deposit}})),o.sendParent((function(t,e){return{type:"DEPOSIT_UPDATE",data:t.deposit}}))],meta:{test:function(t,e){s.assert(!!e.context.deposit.completedAt,"Must have completedAt timestamp")}}}}},{guards:{isSrcSettling:function(t){var e=t.deposit;return(e.sourceTxConfs||0)<(e.sourceTxConfTarget||Number.POSITIVE_INFINITY)},isSrcConfirmed:function(){return!1},isSrcSettled:function(t){var e=t.deposit;return(e.sourceTxConfs||0)>=(e.sourceTxConfTarget||Number.POSITIVE_INFINITY)},isAccepted:function(t){return!!t.deposit.renSignature},isDestInitiated:function(t){return!!t.deposit.destTxHash},isCompleted:function(t){return!!t.deposit.completedAt}}})},1419:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SpecialTargets=e.ActionTypes=void 0,function(t){t.Start="xstate.start",t.Stop="xstate.stop",t.Raise="xstate.raise",t.Send="xstate.send",t.Cancel="xstate.cancel",t.NullEvent="",t.Assign="xstate.assign",t.After="xstate.after",t.DoneState="done.state",t.DoneInvoke="done.invoke",t.Log="xstate.log",t.Init="xstate.init",t.Invoke="xstate.invoke",t.ErrorExecution="error.execution",t.ErrorCommunication="error.communication",t.ErrorPlatform="error.platform",t.ErrorCustom="xstate.error",t.Update="xstate.update",t.Pure="xstate.pure",t.Choose="xstate.choose"}(e.ActionTypes||(e.ActionTypes={})),function(t){t.Parent="#_parent",t.Internal="#_internal"}(e.SpecialTargets||(e.SpecialTargets={}))},1420:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IS_PRODUCTION=void 0,e.IS_PRODUCTION=!0},1421:function(t,e,n){"use strict";var r=n(1286),i=n(2),o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.burnMachine=void 0;var a=n(1251),s=n(3),u=n(1334),c=function(t){return Object.values(t.transactions)[0]};e.burnMachine=a.Machine({id:"RenVMBurnMachine",initial:"restoring",states:{restoring:{entry:a.send("RESTORE"),on:{RESTORE:[{target:"destInitiated",cond:"isDestInitiated"},{target:"srcSettling",cond:"isSrcSettling"},{target:"creating"}]},meta:{test:function(){return o(void 0,void 0,void 0,i.mark((function t(){return i.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))}}},creating:{invoke:{src:"burnCreator",onDone:{actions:[a.assign({tx:function(t,e){return Object.assign(Object.assign({},t.tx),e.data)}}),"burnSpawner"]},onError:{target:"createError",actions:a.assign({tx:function(t,e){return Object.assign(Object.assign({},t.tx),{error:e.data})}})}},on:{CREATED:"created"},meta:{test:function(t,e){s.assert(!Object.keys(e.context.tx.transactions).length,"Should not have a transaction")}}},created:{on:{BURN_ERROR:{target:"errorBurning",actions:a.assign({tx:function(t,e){return e.data?Object.assign(Object.assign({},t.tx),{error:e.data}):t.tx}})},SUBMIT:{actions:a.send("SUBMIT",{to:function(t){var e;return(null===(e=t.burnListenerRef)||void 0===e?void 0:e.id)||""}})},SUBMITTED:{target:"srcSettling",actions:[a.assign({tx:function(t,e){return Object.assign(Object.assign({},t.tx),{transactions:r({},e.data.sourceTxHash,e.data)})}})]}},meta:{test:function(t,e){s.assert(!Object.keys(e.context.tx.transactions).length,"Should not have a transaction")}}},createError:{on:{RETRY:"created"},meta:{test:function(t,e){s.assert(!!e.context.tx.error,"Error must exist")}}},errorBurning:{entry:u.log((function(t,e){return t.tx.error}),"ERROR"),meta:{test:function(t,e){s.assert(!!e.context.tx.error,"Error must exist")}}},srcSettling:{entry:"burnSpawner",on:{BURN_ERROR:{target:"errorBurning",actions:a.assign({tx:function(t,e){return e.data?Object.assign(Object.assign({},t.tx),{error:e.data}):t.tx}})},SUBMIT:{actions:a.send("SUBMIT",{to:function(t){var e;return(null===(e=t.burnListenerRef)||void 0===e?void 0:e.id)||""}})},CONFIRMATION:{actions:a.assign({tx:function(t,e){return e.data?Object.assign(Object.assign({},t.tx),{transactions:r({},e.data.sourceTxHash,e.data)}):t.tx}})},CONFIRMED:{actions:[a.assign({tx:function(t,e){return Object.assign(Object.assign({},t.tx),{transactions:r({},e.data.sourceTxHash,e.data)})}})],target:"srcConfirmed"}},meta:{test:function(t,e){s.assert(!!Object.keys(e.context.tx.transactions).length,"Should have a transaction")}}},errorReleasing:{meta:{test:function(t,e){s.assert(!!e.context.tx.error,"Error must exist")}}},srcConfirmed:{entry:a.send("RELEASE",{to:function(t){var e;return(null===(e=t.burnListenerRef)||void 0===e?void 0:e.id)||""}}),on:{RELEASE_ERROR:{target:"errorReleasing",actions:a.assign({tx:function(t,e){return e.data?Object.assign(Object.assign({},t.tx),{error:e.data}):t.tx}})},ACCEPTED:{actions:[a.assign({tx:function(t,e){return Object.assign(Object.assign({},t.tx),{transactions:r({},e.data.sourceTxHash,e.data)})}})],target:"accepted"}},meta:{test:function(t,e){s.assert(c(e.context.tx).sourceTxConfs>=(c(e.context.tx).sourceTxConfTarget||0),"Should have a confirmed transaction")}}},accepted:{on:{RELEASE_ERROR:{target:"errorReleasing",actions:a.assign({tx:function(t,e){return e.data?Object.assign(Object.assign({},t.tx),{error:e.data}):t.tx}})},RELEASED:"destInitiated"},meta:{test:function(){return o(void 0,void 0,void 0,i.mark((function t(){return i.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))}}},destInitiated:{meta:{test:function(){return o(void 0,void 0,void 0,i.mark((function t(){return i.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))}}}}},{guards:{isSrcSettling:function(t,e){var n;return!!(null===(n=c(t.tx))||void 0===n?void 0:n.sourceTxHash)},isSrcConfirmed:function(t,e){var n,r;return(null===(n=c(t.tx))||void 0===n?void 0:n.sourceTxConfs)>=((null===(r=c(t.tx))||void 0===r?void 0:r.sourceTxConfTarget)||Number.POSITIVE_INFINITY)},isDestInitiated:function(t,e){var n;return!!(null===(n=c(t.tx))||void 0===n?void 0:n.renVMHash)}}})},1422:function(t,e,n){"use strict";var r=n(645),i=n(2),o=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))};Object.defineProperty(e,"__esModule",{value:!0}),e.mintMachine=void 0;var a=n(1251),s=n(3),u=n(1334);e.mintMachine=a.Machine({id:"RenVMGatewaySession",initial:"restoring",states:{restoring:{entry:[a.send("RESTORE"),a.assign({mintRequests:function(t,e){return[]},depositMachines:function(t,e){return{}}})],meta:{test:function(){return o(void 0,void 0,void 0,i.mark((function t(){return i.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))}},on:{RESTORE:[{target:"completed",cond:"isExpired"},{target:"listening",cond:"isCreated"},{target:"creating"}]}},creating:{meta:{test:function(t,e){s.assert(!e.context.tx.gatewayAddress,"Gateway address should not be initialized")}},invoke:{src:"txCreator",onDone:{target:"listening",actions:a.assign({tx:function(t,e){return Object.assign({},e.data)}})},onError:{target:"srcInitializeError",actions:[a.assign({tx:function(t,e){return Object.assign(Object.assign({},t.tx),{error:e.data||!0})}}),u.log((function(t,e){return e.data}),"ERROR")]}}},srcInitializeError:{meta:{test:function(t,e){s.assert(!!e.context.tx.error,"Error must exist")}}},listening:{meta:{test:function(t,e){s.assert(!!e.context.tx.gatewayAddress,"GatewayAddress must exist")}},invoke:{src:"depositListener"},on:{EXPIRED:"completed",LISTENING:{actions:"depositMachineSpawner"},ERROR_LISTENING:{target:"srcInitializeError",actions:[a.assign({tx:function(t,e){return Object.assign(Object.assign({},t.tx),{error:e.data||!0})}}),u.log((function(t,e){return e.data}),"ERROR")]},RESTORE:{actions:"forwardEvent"},SETTLE:{actions:"forwardEvent"},SIGN:{actions:"forwardEvent"},MINT:{actions:"forwardEvent"},RESTORED:{actions:"routeEvent"},CLAIM:{actions:"routeEvent"},CONFIRMATION:{actions:"routeEvent"},CONFIRMED:{actions:"routeEvent"},ERROR:{actions:"routeEvent"},SIGN_ERROR:{actions:"routeEvent"},SUBMIT_ERROR:{actions:"routeEvent"},SIGNED:{actions:"routeEvent"},SUBMITTED:{actions:"routeEvent"},ACKNOWLEDGE:{actions:"routeEvent"},CLAIMABLE:{actions:a.assign({mintRequests:function(t,e){var n,i=t.mintRequests||[],o=null===(n=e.data)||void 0===n?void 0:n.sourceTxHash;return o?i.includes(o)?i:[].concat(r(i),[o]):i},tx:function(t,e){return e.data.sourceTxHash&&(t.tx.transactions[e.data.sourceTxHash]=e.data),t.tx}})},DEPOSIT_UPDATE:[{actions:a.assign({mintRequests:function(t,e){var n;return e.data.destTxHash?(null===(n=t.mintRequests)||void 0===n?void 0:n.filter((function(t){return t!==e.data.sourceTxHash})))||[]:t.mintRequests},tx:function(t,e){var n;return(null===(n=e.data)||void 0===n?void 0:n.sourceTxHash)&&(t.tx.transactions[e.data.sourceTxHash]=e.data),t.tx}})}],DEPOSIT:{actions:[a.assign({tx:function(t,e){var n;return(null===(n=e.data)||void 0===n?void 0:n.sourceTxHash)&&(t.tx.transactions[e.data.sourceTxHash]=e.data),t.tx}}),"spawnDepositMachine"]}}},completed:{meta:{test:function(t,e){if(e.context.depositListenerRef)throw Error("Deposit listener has not been cleaned up")}}}}})},1423:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(2),i=n.n(r),o=n(8),a=n(10),s=n(13),u=n(14),c=n(1336),f=function(t){return function(t){return void 0!==t.results}(t)?t.results:t},l=function(t){Object(s.a)(n,t);var e=Object(u.a)(n);function n(t){var r;return Object(a.a)(this,n),(r=e.call(this,t)).supportsTestnet=!0,r.handleUpdate=function(){r.getStatus().then((function(){var t;(t=r.emitter).emitUpdate.apply(t,arguments)})).catch(Object(o.a)(i.a.mark((function t(){var e,n=arguments;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(e=r).deactivate.apply(e,n));case 1:case"end":return t.stop()}}),t)}))))},r.activate=Object(o.a)(i.a.mark((function t(){var e,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.getProvider();case 2:if(e=t.sent){t.next=5;break}throw Error("Missing Provider");case 5:return t.next=7,r.cleanup();case 7:return e.isMetamask&&(e.autoRefreshOnNetworkChange=!1),t.prev=8,t.t0=f,t.next=12,e.request({method:"eth_requestAccounts"});case 12:t.t1=t.sent,n=(0,t.t0)(t.t1)[0],t.next=20;break;case 16:t.prev=16,t.t2=t.catch(8),4001===t.t2.code&&r.emitter.emitError(new Error("User rejected request")),console.error(t.t2);case 20:if(n){t.next=26;break}return t.t3=f,t.next=24,e.enable();case 24:t.t4=t.sent,n=(0,t.t3)(t.t4)[0];case 26:return e.on("close",r.deactivate),e.on("networkChanged",r.handleUpdate),e.on("accountsChanged",r.handleUpdate),e.on("chainChanged",r.handleUpdate),t.abrupt("return",r.getStatus());case 31:case"end":return t.stop()}}),t,null,[[8,16]])}))),r.getProvider=function(){return window.ethereum},r.cleanup=Object(o.a)(i.a.mark((function t(){var e;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.getProvider();case 2:(e=t.sent).removeListener&&(e.removeListener("close",r.deactivate),e.removeListener("networkChanged",r.handleUpdate),e.removeListener("accountsChanged",r.handleUpdate),e.removeListener("chainChanged",r.handleUpdate));case 4:case"end":return t.stop()}}),t)}))),r.deactivate=function(){var t=Object(o.a)(i.a.mark((function t(e){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.cleanup();case 2:r.emitter.emitDeactivate(e);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),r}return n}(c.a)},1553:function(t,e,n){"use strict";var r=n(15),i=n(6),o=n(0),a=n(60),s=(n(22),n(640)),u=n(1150),c=n(168),f=n(1152),l=n(244),h=n(46),d=n(133),p=n(473),v=n(1321);var y=function(t){var e=t.children,n=t.disableAutoFocus,r=void 0!==n&&n,i=t.disableEnforceFocus,s=void 0!==i&&i,u=t.disableRestoreFocus,f=void 0!==u&&u,l=t.getDoc,d=t.isEnabled,p=t.open,v=o.useRef(),y=o.useRef(null),g=o.useRef(null),m=o.useRef(),b=o.useRef(null),w=o.useCallback((function(t){b.current=a.findDOMNode(t)}),[]),_=Object(h.a)(e.ref,w),E=o.useRef();return o.useEffect((function(){E.current=p}),[p]),!E.current&&p&&"undefined"!==typeof window&&(m.current=l().activeElement),o.useEffect((function(){if(p){var t=Object(c.a)(b.current);r||!b.current||b.current.contains(t.activeElement)||(b.current.hasAttribute("tabIndex")||b.current.setAttribute("tabIndex",-1),b.current.focus());var e=function(){null!==b.current&&(t.hasFocus()&&!s&&d()&&!v.current?b.current&&!b.current.contains(t.activeElement)&&b.current.focus():v.current=!1)},n=function(e){!s&&d()&&9===e.keyCode&&t.activeElement===b.current&&(v.current=!0,e.shiftKey?g.current.focus():y.current.focus())};t.addEventListener("focus",e,!0),t.addEventListener("keydown",n,!0);var i=setInterval((function(){e()}),50);return function(){clearInterval(i),t.removeEventListener("focus",e,!0),t.removeEventListener("keydown",n,!0),f||(m.current&&m.current.focus&&m.current.focus(),m.current=null)}}}),[r,s,f,d,p]),o.createElement(o.Fragment,null,o.createElement("div",{tabIndex:0,ref:y,"data-test":"sentinelStart"}),o.cloneElement(e,{ref:_}),o.createElement("div",{tabIndex:0,ref:g,"data-test":"sentinelEnd"}))},g={root:{zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},m=o.forwardRef((function(t,e){var n=t.invisible,a=void 0!==n&&n,s=t.open,u=Object(r.a)(t,["invisible","open"]);return s?o.createElement("div",Object(i.a)({"aria-hidden":!0,ref:e},u,{style:Object(i.a)({},g.root,a?g.invisible:{},u.style)})):null}));var b=new v.b,w=o.forwardRef((function(t,e){var n=Object(s.a)(),g=Object(u.a)({name:"MuiModal",props:Object(i.a)({},t),theme:n}),w=g.BackdropComponent,_=void 0===w?m:w,E=g.BackdropProps,O=g.children,I=g.closeAfterTransition,S=void 0!==I&&I,T=g.container,x=g.disableAutoFocus,k=void 0!==x&&x,j=g.disableBackdropClick,A=void 0!==j&&j,N=g.disableEnforceFocus,P=void 0!==N&&N,C=g.disableEscapeKeyDown,R=void 0!==C&&C,D=g.disablePortal,L=void 0!==D&&D,M=g.disableRestoreFocus,U=void 0!==M&&M,B=g.disableScrollLock,F=void 0!==B&&B,V=g.hideBackdrop,H=void 0!==V&&V,q=g.keepMounted,G=void 0!==q&&q,W=g.manager,K=void 0===W?b:W,z=g.onBackdropClick,X=g.onClose,Y=g.onEscapeKeyDown,$=g.onRendered,J=g.open,Q=Object(r.a)(g,["BackdropComponent","BackdropProps","children","closeAfterTransition","container","disableAutoFocus","disableBackdropClick","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onEscapeKeyDown","onRendered","open"]),Z=o.useState(!0),tt=Z[0],et=Z[1],nt=o.useRef({}),rt=o.useRef(null),it=o.useRef(null),ot=Object(h.a)(it,e),at=function(t){return!!t.children&&t.children.props.hasOwnProperty("in")}(g),st=function(){return Object(c.a)(rt.current)},ut=function(){return nt.current.modalRef=it.current,nt.current.mountNode=rt.current,nt.current},ct=function(){K.mount(ut(),{disableScrollLock:F}),it.current.scrollTop=0},ft=Object(d.a)((function(){var t=function(t){return t="function"===typeof t?t():t,a.findDOMNode(t)}(T)||st().body;K.add(ut(),t),it.current&&ct()})),lt=o.useCallback((function(){return K.isTopModal(ut())}),[K]),ht=Object(d.a)((function(t){rt.current=t,t&&($&&$(),J&&lt()?ct():Object(v.a)(it.current,!0))})),dt=o.useCallback((function(){K.remove(ut())}),[K]);if(o.useEffect((function(){return function(){dt()}}),[dt]),o.useEffect((function(){J?ft():at&&S||dt()}),[J,dt,at,S,ft]),!G&&!J&&(!at||tt))return null;var pt=function(t){return{root:{position:"fixed",zIndex:t.zIndex.modal,right:0,bottom:0,top:0,left:0},hidden:{visibility:"hidden"}}}(n||{zIndex:p.a}),vt={};return void 0===O.props.tabIndex&&(vt.tabIndex=O.props.tabIndex||"-1"),at&&(vt.onEnter=Object(l.a)((function(){et(!1)}),O.props.onEnter),vt.onExited=Object(l.a)((function(){et(!0),S&&dt()}),O.props.onExited)),o.createElement(f.a,{ref:ht,container:T,disablePortal:L},o.createElement("div",Object(i.a)({ref:ot,onKeyDown:function(t){"Escape"===t.key&&lt()&&(Y&&Y(t),R||(t.stopPropagation(),X&&X(t,"escapeKeyDown")))},role:"presentation"},Q,{style:Object(i.a)({},pt.root,!J&&tt?pt.hidden:{},Q.style)}),H?null:o.createElement(_,Object(i.a)({open:J,onClick:function(t){t.target===t.currentTarget&&(z&&z(t),!A&&X&&X(t,"backdropClick"))}},E)),o.createElement(y,{disableEnforceFocus:P,disableAutoFocus:k,disableRestoreFocus:U,getDoc:st,isEnabled:lt,open:J},o.cloneElement(O,vt))))}));e.a=w},1554:function(t,e,n){"use strict";n.r(e);var r,i=n(1230),o=(n(1320),n(1282),n(1399),n(1565)),a=n(1319),s={Firestore:o.e,GeoPoint:o.j,Timestamp:o.d,Blob:o.a,Transaction:o.o,WriteBatch:o.b,DocumentReference:o.c,DocumentSnapshot:o.k,Query:o.m,QueryDocumentSnapshot:o.r,QuerySnapshot:o.q,CollectionReference:o.n,FieldPath:o.p,FieldValue:o.l,setLogLevel:o.g,CACHE_SIZE_UNLIMITED:o.i};(function(t,e){t.INTERNAL.registerComponent(new a.a("firestore",(function(t){return function(t,e){return new o.e(t,new o.h(t,e),new o.f)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},s)))})(r=i.a),r.registerVersion("@firebase/firestore","2.1.5")},1562:function(t,e,n){"use strict";var r=60103,i=60106,o=60107,a=60108,s=60114,u=60109,c=60110,f=60112,l=60113,h=60120,d=60115,p=60116,v=60121,y=60122,g=60117,m=60129,b=60131;if("function"===typeof Symbol&&Symbol.for){var w=Symbol.for;r=w("react.element"),i=w("react.portal"),o=w("react.fragment"),a=w("react.strict_mode"),s=w("react.profiler"),u=w("react.provider"),c=w("react.context"),f=w("react.forward_ref"),l=w("react.suspense"),h=w("react.suspense_list"),d=w("react.memo"),p=w("react.lazy"),v=w("react.block"),y=w("react.server.block"),g=w("react.fundamental"),m=w("react.debug_trace_mode"),b=w("react.legacy_hidden")}function _(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case r:switch(t=t.type){case o:case s:case a:case l:case h:return t;default:switch(t=t&&t.$$typeof){case c:case f:case p:case d:case u:return t;default:return e}}case i:return e}}}var E=u,O=r,I=f,S=o,T=p,x=d,k=i,j=s,A=a,N=l;e.ContextConsumer=c,e.ContextProvider=E,e.Element=O,e.ForwardRef=I,e.Fragment=S,e.Lazy=T,e.Memo=x,e.Portal=k,e.Profiler=j,e.StrictMode=A,e.Suspense=N,e.isAsyncMode=function(){return!1},e.isConcurrentMode=function(){return!1},e.isContextConsumer=function(t){return _(t)===c},e.isContextProvider=function(t){return _(t)===u},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===r},e.isForwardRef=function(t){return _(t)===f},e.isFragment=function(t){return _(t)===o},e.isLazy=function(t){return _(t)===p},e.isMemo=function(t){return _(t)===d},e.isPortal=function(t){return _(t)===i},e.isProfiler=function(t){return _(t)===s},e.isStrictMode=function(t){return _(t)===a},e.isSuspense=function(t){return _(t)===l},e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===o||t===s||t===m||t===a||t===l||t===h||t===b||"object"===typeof t&&null!==t&&(t.$$typeof===p||t.$$typeof===d||t.$$typeof===u||t.$$typeof===c||t.$$typeof===f||t.$$typeof===g||t.$$typeof===v||t[0]===y)},e.typeOf=_},1563:function(t,e,n){"use strict";n.r(e);n(1564)},1564:function(t,e,n){"use strict";(function(t){var e=n(1230);(function(){var n,r="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};var i=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof t&&t,e];for(var n=0;n<e.length;++n){var r=e[n];if(r&&r.Math==Math)return r}return globalThis}(this);function o(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function a(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:o(t)}}!function(t,e){if(e){var n=i;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];a in n||(n[a]={}),n=n[a]}(e=e(o=n[t=t[t.length-1]]))!=o&&null!=e&&r(n,t,{configurable:!0,writable:!0,value:e})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function n(){this.a=null}function r(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var o=i.setTimeout;n.prototype.c=function(t){o(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},n.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new n;return e.prototype.s=function(t){var e=this.f();t.Qa(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,a=new e((function(t,e){i=t,o=e}));return this.Qa(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Qa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=r,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var i=a(t),o=i.next();!o.done;o=i.next())r(o.value).Qa(e,n)}))},e.all=function(t){var n=a(t),i=n.next();return i.done?r([]):new e((function(t,e){function o(e){return function(n){a[e]=n,0==--s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,r(i.value).Qa(o(a.length-1),e),i=n.next()}while(!i.done)}))},e}));var s=s||{},u=this||self,c=/^[\w+/_-]+[=]{0,2}$/,f=null;function l(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&c.test(t)?t:""}function h(){}function d(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function p(t){var e=d(t);return"array"==e||"object"==e&&"number"==typeof t.length}function v(t){return"function"==d(t)}function y(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function g(t){return Object.prototype.hasOwnProperty.call(t,m)&&t[m]||(t[m]=++b)}var m="closure_uid_"+(1e9*Math.random()>>>0),b=0;function w(t,e,n){return t.call.apply(t.bind,arguments)}function _(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function E(t,e,n){return(E=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?w:_).apply(null,arguments)}function O(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var I=Date.now;function S(t,e){function n(){}n.prototype=e.prototype,t.ab=e.prototype,t.prototype=new n,t.prototype.constructor=t}function T(t){return t}function x(t,e,n){this.code=A+t,this.message=e||N[t]||"",this.a=n||null}function k(t){var e=t&&t.code;return e?new x(e.substring(A.length),t.message,t.serverResponse):null}S(x,Error),x.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},x.prototype.toJSON=function(){return this.w()};var j,A="auth/",N={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},P={ld:{Ta:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ta:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://securetoken.googleapis.com/v1/token",Wa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ta:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Za:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ta:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Za:"https://test-securetoken.sandbox.googleapis.com/v1/token",Wa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function C(t){for(var e in P)if(P[e].id===t)return{firebaseEndpoint:(t=P[e]).Ta,secureTokenEndpoint:t.Za,identityPlatformEndpoint:t.Wa};return null}function R(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function D(t){if(Error.captureStackTrace)Error.captureStackTrace(this,D);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function L(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");D.call(this,n+t[r])}function M(t,e){throw new L("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function U(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function B(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function F(){this.b=this.a=null}j=C("__EID__")?"__EID__":void 0,S(D,Error),D.prototype.name="CustomError",S(L,D),L.prototype.name="AssertionError",U.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var V=new U((function(){return new q}),(function(t){t.reset()}));function H(){var t=we,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function q(){this.next=this.b=this.a=null}F.prototype.add=function(t,e){var n=V.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},q.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},q.prototype.reset=function(){this.next=this.b=this.a=null};var G=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},W=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"===typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};var K=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"===typeof t?t.split(""):t,a=0;a<n;a++)if(a in o){var s=o[a];e.call(void 0,s,a,t)&&(r[i++]=s)}return r},z=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"===typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},X=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function Y(t,e){return 0<=G(t,e)}function $(t,e){var n;return(n=0<=(e=G(t,e)))&&Array.prototype.splice.call(t,e,1),n}function J(t,e){!function(t,e){for(var n="string"===typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0}))}function Q(t){return Array.prototype.concat.apply([],arguments)}function Z(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var tt,et=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},nt=/&/g,rt=/</g,it=/>/g,ot=/"/g,at=/'/g,st=/\x00/g,ut=/[\x00&<>"']/;function ct(t,e){return-1!=t.indexOf(e)}function ft(t,e){return t<e?-1:t>e?1:0}t:{var lt=u.navigator;if(lt){var ht=lt.userAgent;if(ht){tt=ht;break t}}tt=""}function dt(t){return ct(tt,t)}function pt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function vt(t){for(var e in t)return!1;return!0}function yt(t){var e,n={};for(e in t)n[e]=t[e];return n}var gt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function mt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<gt.length;o++)n=gt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function bt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||u).Element&&r.Location){var i=r;break t}}catch(a){}i=null}if(i&&"undefined"!=typeof i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(y(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(a){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;M("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function wt(t,e){this.a=t===It&&e||"",this.b=Ot}function _t(t){return t instanceof wt&&t.constructor===wt&&t.b===Ot?t.a:(M("expected object of type Const, got '"+t+"'"),"type_error:Const")}wt.prototype.sa=!0,wt.prototype.ra=function(){return this.a},wt.prototype.toString=function(){return"Const{"+this.a+"}"};var Et,Ot={},It={};function St(){if(void 0===Et){var t=null,e=u.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:T,createScript:T,createScriptURL:T})}catch(n){u.console&&u.console.error(n.message)}Et=t}else Et=t}return Et}function Tt(t,e){this.a=e===Nt?t:""}function xt(t){return t instanceof Tt&&t.constructor===Tt?t.a:(M("expected object of type TrustedResourceUrl, got '"+t+"' of type "+d(t)),"type_error:TrustedResourceUrl")}function kt(t,e){var n=_t(t);if(!At.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=St();return new Tt(t=e?e.createScriptURL(t):t,Nt)}(t=n.replace(jt,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof wt?_t(t):encodeURIComponent(String(t))})))}Tt.prototype.sa=!0,Tt.prototype.ra=function(){return this.a.toString()},Tt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var jt=/%{(\w+)}/g,At=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Nt={};function Pt(t,e){this.a=e===Bt?t:""}function Ct(t){return t instanceof Pt&&t.constructor===Pt?t.a:(M("expected object of type SafeUrl, got '"+t+"' of type "+d(t)),"type_error:SafeUrl")}Pt.prototype.sa=!0,Pt.prototype.ra=function(){return this.a.toString()},Pt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Rt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Dt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Lt=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Mt(t){if(t instanceof Pt)return t;if(t="object"==typeof t&&t.sa?t.ra():String(t),Lt.test(t))t=new Pt(t,Bt);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Dt);t=e&&Rt.test(e[1])?new Pt(t,Bt):null}return t}function Ut(t){return t instanceof Pt?t:(t="object"==typeof t&&t.sa?t.ra():String(t),Lt.test(t)||(t="about:invalid#zClosurez"),new Pt(t,Bt))}var Bt={},Ft=new Pt("about:invalid#zClosurez",Bt);function Vt(t,e,n){this.a=n===Ht?t:""}Vt.prototype.sa=!0,Vt.prototype.ra=function(){return this.a.toString()},Vt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Ht={};function qt(t,e,n,r){return t=t instanceof Pt?t:Ut(t),e=e||u,n=n instanceof wt?_t(n):n||"",e.open(Ct(t),n,r,void 0)}function Gt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Wt(t){return ut.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(nt,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(rt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(it,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(ot,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(at,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(st,"&#0;"))),t}function Kt(t){return Kt[" "](t),t}Kt[" "]=h;var zt,Xt=dt("Opera"),Yt=dt("Trident")||dt("MSIE"),$t=dt("Edge"),Jt=$t||Yt,Qt=dt("Gecko")&&!(ct(tt.toLowerCase(),"webkit")&&!dt("Edge"))&&!(dt("Trident")||dt("MSIE"))&&!dt("Edge"),Zt=ct(tt.toLowerCase(),"webkit")&&!dt("Edge");function te(){var t=u.document;return t?t.documentMode:void 0}t:{var ee="",ne=function(){var t=tt;return Qt?/rv:([^\);]+)(\)|;)/.exec(t):$t?/Edge\/([\d\.]+)/.exec(t):Yt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Zt?/WebKit\/(\S+)/.exec(t):Xt?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(ne&&(ee=ne?ne[1]:""),Yt){var re=te();if(null!=re&&re>parseFloat(ee)){zt=String(re);break t}}zt=ee}var ie,oe={};function ae(t){return function(t,e){var n=oe;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=et(String(zt)).split("."),r=et(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=ft(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||ft(0==a[2].length,0==s[2].length)||ft(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}if(u.document&&Yt){var se=te();ie=se||(parseInt(zt,10)||void 0)}else ie=void 0;var ue=ie;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(ha){}var ce=!Yt||9<=Number(ue);function fe(t){var e=document;return"string"===typeof t?e.getElementById(t):t}function le(t,e){pt(e,(function(e,n){e&&"object"==typeof e&&e.sa&&(e=e.ra()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:pe.hasOwnProperty(n)?t.setAttribute(pe[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var he,de,pe={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ve(t,e,n){function r(n){n&&e.appendChild("string"===typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!p(o)||y(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(y(o)){var a="function"==typeof o.item||"string"==typeof o.item;break t}if(v(o)){a="function"==typeof o.item;break t}}a=!1}W(a?Z(o):o,r)}}}function ye(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function ge(t){u.setTimeout((function(){throw t}),0)}function me(t,e){de||function(){if(u.Promise&&u.Promise.resolve){var t=u.Promise.resolve(void 0);de=function(){t.then(_e)}}else de=function(){var t=_e;!v(u.setImmediate)||u.Window&&u.Window.prototype&&!dt("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(he||(he=function(){var t=u.MessageChannel;if("undefined"===typeof t&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!dt("Presto")&&(t=function(){var t=ye(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=E((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),"undefined"!==typeof t&&!dt("Trident")&&!dt("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Gb;n.Gb=null,t()}},function(t){r.next={Gb:t},r=r.next,e.port2.postMessage(0)}}return function(t){u.setTimeout(t,0)}}()),he(t)):u.setImmediate(t)}}(),be||(de(),be=!0),we.add(t,e)}var be=!1,we=new F;function _e(){for(var t;t=H();){try{t.a.call(t.b)}catch(e){ge(e)}B(V,t)}be=!1}function Ee(t,e){if(this.a=Oe,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=h)try{var n=this;t.call(e,(function(t){Le(n,Ie,t)}),(function(t){if(!(t instanceof qe))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}Le(n,Se,t)}))}catch(r){Le(this,Se,r)}}var Oe=0,Ie=2,Se=3;function Te(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Te.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var xe=new U((function(){return new Te}),(function(t){t.reset()}));function ke(t,e,n){var r=xe.get();return r.g=t,r.b=e,r.f=n,r}function je(t){if(t instanceof Ee)return t;var e=new Ee(h);return Le(e,Ie,t),e}function Ae(t){return new Ee((function(e,n){n(t)}))}function Ne(t,e,n){Me(t,e,n,null)||me(O(e,t))}function Pe(t){return new Ee((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Pb:!0,value:o}:{Pb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Ne(t[o],O(i,o,!0),O(i,o,!1));else e(r)}))}function Ce(t,e){if(t.a==Oe)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==t&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==Oe&&1==r?Ce(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Be(n),Fe(n,i,Se,e)))}t.c=null}else Le(t,Se,e)}function Re(t,e){t.b||t.a!=Ie&&t.a!=Se||Ue(t),t.f?t.f.next=e:t.b=e,t.f=e}function De(t,e,n,r){var i=ke(null,null,null);return i.a=new Ee((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(a){o(a)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof qe?o(e):t(i)}catch(a){o(a)}}:o})),i.a.c=t,Re(t,i),i.a}function Le(t,e,n){t.a==Oe&&(t===n&&(e=Se,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Me(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,Ue(t),e!=Se||n instanceof qe||function(t,e){t.g=!0,me((function(){t.g&&He.call(null,e)}))}(t,n)))}function Me(t,e,n,r){if(t instanceof Ee)return Re(t,ke(e||h,n||null,r)),!0;if(R(t))return t.then(e,n,r),!0;if(y(t))try{var i=t.then;if(v(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}function a(t){s||(s=!0,n.call(i,t))}var s=!1;try{e.call(t,a,o)}catch(u){o(u)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Ue(t){t.h||(t.h=!0,me(t.gc,t))}function Be(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Fe(t,e,n,r){if(n==Se&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Ve(e,n,r);else try{e.c?e.g.call(e.f):Ve(e,n,r)}catch(i){He.call(null,i)}B(xe,e)}function Ve(t,e,n){e==Ie?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}Ee.prototype.then=function(t,e,n){return De(this,v(t)?t:null,v(e)?e:null,n)},Ee.prototype.$goog_Thenable=!0,(n=Ee.prototype).oa=function(t,e){return(t=ke(t,t,e)).c=!0,Re(this,t),this},n.o=function(t,e){return De(this,null,t,e)},n.cancel=function(t){if(this.a==Oe){var e=new qe(t);me((function(){Ce(this,e)}),this)}},n.$c=function(t){this.a=Oe,Le(this,Ie,t)},n.ad=function(t){this.a=Oe,Le(this,Se,t)},n.gc=function(){for(var t;t=Be(this);)Fe(this,t,this.a,this.i);this.h=!1};var He=ge;function qe(t){D.call(this,t)}function Ge(){0!=We&&(Ke[g(this)]=this),this.xa=this.xa,this.pa=this.pa}S(qe,D),qe.prototype.name="cancel";var We=0,Ke={};function ze(t){if(!t.xa&&(t.xa=!0,t.Da(),0!=We)){var e=g(t);if(0!=We&&t.pa&&0<t.pa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Ke[e]}}Ge.prototype.xa=!1,Ge.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Xe=Object.freeze||function(t){return t},Ye=!Yt||9<=Number(ue),$e=Yt&&!ae("9"),Je=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{u.addEventListener("test",h,e),u.removeEventListener("test",h,e)}catch(n){}return t}();function Qe(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Ze(t,e){if(Qe.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Qt){t:{try{Kt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:tn[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}Qe.prototype.preventDefault=function(){this.defaultPrevented=!0},S(Ze,Qe);var tn=Xe({2:"touch",3:"pen",4:"mouse"});Ze.prototype.preventDefault=function(){Ze.ab.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,$e)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Ze.prototype.g=function(){return this.a};var en="closure_listenable_"+(1e6*Math.random()|0),nn=0;function rn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Va=i,this.key=++nn,this.va=this.Pa=!1}function on(t){t.va=!0,t.listener=null,t.proxy=null,t.src=null,t.Va=null}function an(t){this.src=t,this.a={},this.b=0}function sn(t,e){var n=e.type;n in t.a&&$(t.a[n],e)&&(on(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function un(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.va&&o.listener==e&&o.capture==!!n&&o.Va==r)return i}return-1}an.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=un(t,e,r,i);return-1<a?(e=t[a],n||(e.Pa=!1)):((e=new rn(e,this.src,o,!!r,i)).Pa=n,t.push(e)),e};var cn="closure_lm_"+(1e6*Math.random()|0),fn={};function ln(t,e,n,r,i){if(r&&r.once)dn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)ln(t,e[o],n,r,i);else n=En(n),t&&t[en]?In(t,e,n,y(r)?!!r.capture:!!r,i):hn(t,e,n,!1,r,i)}function hn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=y(i)?!!i.capture:!!i,s=wn(t);if(s||(t[cn]=s=new an(t)),!(n=s.add(e,n,r,a,o)).proxy){if(r=function(){var t=bn,e=Ye?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Je||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(yn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}0}}function dn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)dn(t,e[o],n,r,i);else n=En(n),t&&t[en]?Sn(t,e,n,y(r)?!!r.capture:!!r,i):hn(t,e,n,!0,r,i)}function pn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)pn(t,e[o],n,r,i);else r=y(r)?!!r.capture:!!r,n=En(n),t&&t[en]?(t=t.v,(e=String(e).toString())in t.a&&(-1<(n=un(o=t.a[e],n,r,i))&&(on(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=wn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=un(e,n,r,i)),(n=-1<t?e[t]:null)&&vn(n))}function vn(t){if("number"!==typeof t&&t&&!t.va){var e=t.src;if(e&&e[en])sn(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(yn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=wn(e))?(sn(n,t),0==n.b&&(n.src=null,e[cn]=null)):on(t)}}}function yn(t){return t in fn?fn[t]:fn[t]="on"+t}function gn(t,e,n,r){var i=!0;if((t=wn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.va&&(o=mn(o,r),i=i&&!1!==o)}return i}function mn(t,e){var n=t.listener,r=t.Va||t.src;return t.Pa&&vn(t),n.call(r,e)}function bn(t,e){if(t.va)return!0;if(!Ye){if(!e)t:{e=["window","event"];for(var n=u,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Ze(r=e,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(a){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=gn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=gn(r[i],t,!1,e),n=n&&o}return n}return mn(t,new Ze(e,this))}function wn(t){return(t=t[cn])instanceof an?t:null}var _n="__closure_events_fn_"+(1e9*Math.random()>>>0);function En(t){return v(t)?t:(t[_n]||(t[_n]=function(e){return t.handleEvent(e)}),t[_n])}function On(){Ge.call(this),this.v=new an(this),this.ac=this,this.gb=null}function In(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function Sn(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function Tn(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.va&&a.capture==n){var s=a.listener,u=a.Va||a.src;a.Pa&&sn(t.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function xn(t,e,n){if(v(t))n&&(t=E(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=E(t.handleEvent,t)}return 2147483647<Number(e)?-1:u.setTimeout(t,e||0)}function kn(t){var e=null;return new Ee((function(n,r){-1==(e=xn((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw u.clearTimeout(e),t}))}function jn(t){if(t.W&&"function"==typeof t.W)return t.W();if("string"===typeof t)return t.split("");if(p(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function An(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.W||"function"!=typeof t.W){if(p(t)||"string"===typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function Nn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Nn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Pn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Cn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Cn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Cn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}S(On,Ge),On.prototype[en]=!0,On.prototype.addEventListener=function(t,e,n,r){ln(this,t,e,n,r)},On.prototype.removeEventListener=function(t,e,n,r){pn(this,t,e,n,r)},On.prototype.dispatchEvent=function(t){var e,n=this.gb;if(n)for(e=[];n;n=n.gb)e.push(n);n=this.ac;var r=t.type||t;if("string"===typeof t)t=new Qe(t,n);else if(t instanceof Qe)t.target=t.target||n;else{var i=t;mt(t=new Qe(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.b=e[o];i=Tn(a,r,!0,t)&&i}if(i=Tn(a=t.b=n,r,!0,t)&&i,i=Tn(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Tn(a=t.b=e[o],r,!1,t)&&i;return i},On.prototype.Da=function(){if(On.ab.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)on(n[r]);delete e.a[t],e.b--}}this.gb=null},(n=Nn.prototype).W=function(){Pn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},n.Y=function(){return Pn(this),this.a.concat()},n.clear=function(){this.b={},this.c=this.a.length=0},n.get=function(t,e){return Cn(this.b,t)?this.b[t]:e},n.set=function(t,e){Cn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},n.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Rn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Dn(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof Dn?(this.i=void 0!==e?e:t.i,Ln(this,t.c),this.l=t.l,this.a=t.a,Mn(this,t.g),this.f=t.f,Un(this,rr(t.b)),this.h=t.h):t&&(n=String(t).match(Rn))?(this.i=!!e,Ln(this,n[1]||"",!0),this.l=qn(n[2]||""),this.a=qn(n[3]||"",!0),Mn(this,n[4]),this.f=qn(n[5]||"",!0),Un(this,n[6]||"",!0),this.h=qn(n[7]||"")):(this.i=!!e,this.b=new Jn(null,this.i))}function Ln(t,e,n){t.c=n?qn(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Mn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function Un(t,e,n){e instanceof Jn?(t.b=e,function(t,e){e&&!t.f&&(Qn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(tr(this,e),nr(this,n,t))}),t)),t.f=e}(t.b,t.i)):(n||(e=Gn(e,Yn)),t.b=new Jn(e,t.i))}function Bn(t,e,n){t.b.set(e,n)}function Fn(t,e){return t.b.get(e)}function Vn(t){return t instanceof Dn?new Dn(t):new Dn(t,void 0)}function Hn(t,e,n,r){var i=new Dn(null,void 0);return t&&Ln(i,t),e&&(i.a=e),n&&Mn(i,n),r&&(i.f=r),i}function qn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Gn(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,Wn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Wn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Dn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(Gn(e,Kn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(Gn(e,Kn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(Gn(n,"/"==n.charAt(0)?Xn:zn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",Gn(n,$n)),t.join("")},Dn.prototype.resolve=function(t){var e=new Dn(this),n=!!t.c;n?Ln(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)Mn(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ct(i,"./")||ct(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?Un(e,rr(t.b)):n=!!t.h,n&&(e.h=t.h),e};var Kn=/[#\/\?@]/g,zn=/[#\?:]/g,Xn=/[#\?]/g,Yn=/[#\?@]/g,$n=/#/g;function Jn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Qn(t){t.a||(t.a=new Nn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Zn(t){var e=An(t);if("undefined"==typeof e)throw Error("Keys are undefined");var n=new Jn(null,void 0);t=jn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?nr(n,i,o):n.add(i,o)}return n}function tr(t,e){Qn(t),e=ir(t,e),Cn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Cn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Pn(t)))}function er(t,e){return Qn(t),e=ir(t,e),Cn(t.a.b,e)}function nr(t,e,n){tr(t,e),0<n.length&&(t.c=null,t.a.set(ir(t,e),Z(n)),t.b+=n.length)}function rr(t){var e=new Jn;return e.c=t.c,t.a&&(e.a=new Nn(t.a),e.b=t.b),e}function ir(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function or(t){var e=[];return sr(new ar,t,e),e.join("")}function ar(){}function sr(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),sr(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&("function"!=typeof(o=e[r])&&(n.push(i),fr(r,n),n.push(":"),sr(t,o,n),i=","));return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":fr(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(n=Jn.prototype).add=function(t,e){Qn(this),this.c=null,t=ir(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},n.clear=function(){this.a=this.c=null,this.b=0},n.forEach=function(t,e){Qn(this),this.a.forEach((function(n,r){W(n,(function(n){t.call(e,n,r,this)}),this)}),this)},n.Y=function(){Qn(this);for(var t=this.a.W(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},n.W=function(t){Qn(this);var e=[];if("string"===typeof t)er(this,t)&&(e=Q(e,this.a.get(ir(this,t))));else{t=this.a.W();for(var n=0;n<t.length;n++)e=Q(e,t[n])}return e},n.set=function(t,e){return Qn(this),this.c=null,er(this,t=ir(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},n.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},n.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.W(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var ur={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},cr=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function fr(t,e){e.push('"',t.replace(cr,(function(t){var e=ur[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),ur[t]=e),e})),'"')}function lr(){var t=Nr();return Yt&&!!ue&&11==ue||/Edge\/\d+/.test(t)}function hr(){return u.window&&u.window.location.href||self&&self.location&&self.location.href||""}function dr(t,e){e=e||u.window;var n="about:blank";t&&(n=Ct(Mt(t)||Ft)),e.location.href=n}function pr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<pr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function vr(t){return!!((t=(t||Nr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function yr(t){t=t||u.window;try{t.close()}catch(e){}}function gr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Nr().toLowerCase(),r&&(e.target=r,ct(n,"crios/")&&(e.target="_blank")),kr(Nr())==Tr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Pt?n:Mt("undefined"!=typeof n.href?n.href:String(n))||Ft,n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((dt("iPhone")&&!dt("iPod")&&!dt("iPad")||dt("iPad")||dt("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(bt(a=ye(document,"A"),"HTMLAnchorElement"),e=e instanceof Pt?e:Ut(e),a.href=Ct(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=qt("",r,n,a),t=Ct(e),a&&(Jt&&ct(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Wt(t)+'">',t=new Vt(t=(r=St())?r.createHTML(t):t,null,Ht),r=a.document)&&(r.write(function(t){return t instanceof Vt&&t.constructor===Vt?t.a:(M("expected object of type SafeHtml, got '"+t+"' of type "+d(t)),"type_error:SafeHtml")}(t)),r.close())):(a=qt(e,r,n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}var mr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,br=/^[^@]+@[^@]+$/;function wr(){var t=null;return new Ee((function(e){"complete"==u.document.readyState?e():(t=function(){e()},dn(window,"load",t))})).o((function(e){throw pn(window,"load",t),e}))}function _r(t){return t=t||Nr(),!("file:"!==Lr()&&"ionic:"!==Lr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Er(){var t=u.window;try{return!(!t||t==t.top)}catch(e){return!1}}function Or(){return"undefined"!==typeof u.WorkerGlobalScope&&"function"===typeof u.importScripts}function Ir(){return e.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":e.a.INTERNAL.hasOwnProperty("node")?"Node":Or()?"Worker":"Browser"}function Sr(){var t=Ir();return"ReactNative"===t||"Node"===t}var Tr="Firefox",xr="Chrome";function kr(t){var e=t.toLowerCase();return ct(e,"opera/")||ct(e,"opr/")||ct(e,"opios/")?"Opera":ct(e,"iemobile")?"IEMobile":ct(e,"msie")||ct(e,"trident/")?"IE":ct(e,"edge/")?"Edge":ct(e,"firefox/")?Tr:ct(e,"silk/")?"Silk":ct(e,"blackberry")?"Blackberry":ct(e,"webos")?"Webos":!ct(e,"safari/")||ct(e,"chrome/")||ct(e,"crios/")||ct(e,"android")?!ct(e,"chrome/")&&!ct(e,"crios/")||ct(e,"edge/")?ct(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":xr:"Safari"}var jr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Ar(t,e){e=e||[];var n,r=[],i={};for(n in jr)i[jr[n]]=!0;for(n=0;n<e.length;n++)"undefined"!==typeof i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=Ir())?r=kr(i=Nr()):"Worker"===r&&(r=kr(i=Nr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Nr(){return u.navigator&&u.navigator.userAgent||""}function Pr(t,e){t=t.split("."),e=e||u;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Cr(){try{var t=u.localStorage,e=Vr();if(t)return t.setItem(e,"1"),t.removeItem(e),!lr()||!!u.indexedDB}catch(n){return Or()&&!!u.indexedDB}return!1}function Rr(){return(Dr()||"chrome-extension:"===Lr()||_r())&&!Sr()&&Cr()&&!Or()}function Dr(){return"http:"===Lr()||"https:"===Lr()}function Lr(){return u.location&&u.location.protocol||null}function Mr(t){return!vr(t=t||Nr())&&kr(t)!=Tr}function Ur(t){return"undefined"===typeof t?null:or(t)}function Br(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Fr(t){if(null!==t)return JSON.parse(t)}function Vr(t){return t||Math.floor(1e9*Math.random()).toString()}function Hr(t){return"Safari"!=kr(t=t||Nr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function qr(){var t=u.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Gr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Nr(),e=Ir(),this.b=vr(t)||"ReactNative"===e}function Wr(){var t=u.document;return!t||"undefined"===typeof t.visibilityState||"visible"==t.visibilityState}function Kr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function zr(){return!(!Pr("fireauth.oauthhelper",u)&&!Pr("fireauth.iframe",u))}Gr.prototype.get=function(){var t=u.navigator;return!t||"boolean"!==typeof t.onLine||!Dr()&&"chrome-extension:"!==Lr()&&"undefined"===typeof t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Xr,Yr={};function $r(t){Yr[t]||(Yr[t]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(t))}try{var Jr={};Object.defineProperty(Jr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Jr,"abcd",{configurable:!0,enumerable:!0,value:2}),Xr=2==Jr.abcd}catch(ha){Xr=!1}function Qr(t,e,n){Xr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Zr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Qr(t,n,e[n])}function ti(t){var e={};return Zr(e,t),e}function ei(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Qr(e,n,ei(t[n]));return e}function ni(t){var e=t&&(t[si]?"phone":null);if(!(e&&t&&t[ai]))throw new x("internal-error","Internal assert: invalid MultiFactorInfo object");Qr(this,"uid",t[ai]),Qr(this,"displayName",t[ii]||null);var n=null;t[oi]&&(n=new Date(t[oi]).toUTCString()),Qr(this,"enrollmentTime",n),Qr(this,"factorId",e)}function ri(t){try{var e=new ui(t)}catch(n){e=null}return e}ni.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ii="displayName",oi="enrolledAt",ai="mfaEnrollmentId",si="phoneInfo";function ui(t){ni.call(this,t),Qr(this,"phoneNumber",t[si])}function ci(t){var e={},n=t[di],r=t[vi],i=t[yi];if(t=ri(t[pi]),!i||i!=li&&i!=hi&&!n||i==hi&&!r||i==fi&&!t)throw Error("Invalid checkActionCode response!");i==hi?(e[mi]=n||null,e[wi]=n||null,e[gi]=r):(e[mi]=r||null,e[wi]=r||null,e[gi]=n||null),e[bi]=t||null,Qr(this,Ei,i),Qr(this,_i,ei(e))}S(ui,ni),ui.prototype.w=function(){var t=ui.ab.w.call(this);return t.phoneNumber=this.phoneNumber,t};var fi="REVERT_SECOND_FACTOR_ADDITION",li="EMAIL_SIGNIN",hi="VERIFY_AND_CHANGE_EMAIL",di="email",pi="mfaInfo",vi="newEmail",yi="requestType",gi="email",mi="fromEmail",bi="multiFactorInfo",wi="previousEmail",_i="data",Ei="operation";function Oi(t){var e=Fn(t=Vn(t),Ii)||null,n=Fn(t,Si)||null,r=Fn(t,ki)||null;if(r=r&&Ai[r]||null,!e||!n||!r)throw new x("argument-error",Ii+", "+Si+"and "+ki+" are required in a valid action code URL.");Zr(this,{apiKey:e,operation:r,code:n,continueUrl:Fn(t,Ti)||null,languageCode:Fn(t,xi)||null,tenantId:Fn(t,ji)||null})}var Ii="apiKey",Si="oobCode",Ti="continueUrl",xi="languageCode",ki="mode",ji="tenantId",Ai={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:fi,signIn:li,verifyAndChangeEmail:hi,verifyEmail:"VERIFY_EMAIL"};function Ni(t){try{return new Oi(t)}catch(e){return null}}function Pi(t){var e=t[Mi];if("undefined"===typeof e)throw new x("missing-continue-uri");if("string"!==typeof e||"string"===typeof e&&!e.length)throw new x("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Ci];if(n&&"object"===typeof n){e=n[Fi];var r=n[Ui];if(n=n[Bi],"string"===typeof e&&e.length){if(this.a=e,"undefined"!==typeof r&&"boolean"!==typeof r)throw new x("argument-error",Ui+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new x("argument-error",Bi+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof e)throw new x("argument-error",Fi+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new x("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new x("argument-error",Ci+" property must be a non null object when specified.");if(this.f=null,(e=t[Li])&&"object"===typeof e){if("string"===typeof(e=e[Vi])&&e.length)this.f=e;else if("undefined"!==typeof e)throw new x("argument-error",Vi+" property must be a non empty string when specified.")}else if("undefined"!==typeof e)throw new x("argument-error",Li+" property must be a non null object when specified.");if("undefined"!==typeof(e=t[Di])&&"boolean"!==typeof e)throw new x("argument-error",Di+" property must be a boolean when specified.");if(this.c=!!e,"undefined"!==typeof(t=t[Ri])&&("string"!==typeof t||"string"===typeof t&&!t.length))throw new x("argument-error",Ri+" property must be a non empty string when specified.");this.i=t||null}var Ci="android",Ri="dynamicLinkDomain",Di="handleCodeInApp",Li="iOS",Mi="url",Ui="installApp",Bi="minimumVersion",Fi="packageName",Vi="bundleId";function Hi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var qi=null;function Gi(t){var e=[];return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=qi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!qi){qi={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===qi[o]&&(qi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,(function(t){e.push(t)})),e}function Wi(t){var e=zi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function Ki(t){try{return new Wi(t)}catch(e){return null}}function zi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=Gi(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var a=r[e++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[e++])-65536;t[n++]=String.fromCharCode(55296+(s>>10)),t[n++]=String.fromCharCode(56320+(1023&s))}else o=r[e++],a=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(t.join(""))}catch(u){}return null}Wi.prototype.T=function(){return this.f},Wi.prototype.l=function(){return this.c},Wi.prototype.toString=function(){return this.h};var Xi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Yi=["client_id","response_type","scope","redirect_uri","state"],$i={nd:{Ja:"locale",ua:700,ta:600,fa:"facebook.com",Xa:Yi},pd:{Ja:null,ua:500,ta:750,fa:"github.com",Xa:Yi},qd:{Ja:"hl",ua:515,ta:680,fa:"google.com",Xa:Yi},wd:{Ja:"lang",ua:485,ta:705,fa:"twitter.com",Xa:Xi},kd:{Ja:"locale",ua:640,ta:600,fa:"apple.com",Xa:[]}};function Ji(t){for(var e in $i)if($i[e].fa==t)return $i[e];return null}function Qi(t){var e={};e["facebook.com"]=ro,e["google.com"]=oo,e["github.com"]=io,e["twitter.com"]=ao;var n=t&&t[to];try{if(n)return e[n]?new e[n](t):new no(t);if("undefined"!==typeof t[Zi])return new eo(t)}catch(r){}return null}var Zi="idToken",to="providerId";function eo(t){var e=t[to];if(!e&&t[Zi]){var n=Ki(t[Zi]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,"undefined"!==typeof t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Qr(this,"providerId",e),Qr(this,"isNewUser",n)}function no(t){eo.call(this,t),Qr(this,"profile",ei((t=Fr(t.rawUserInfo||"{}"))||{}))}function ro(t){if(no.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function io(t){if(no.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Qr(this,"username",this.profile&&this.profile.login||null)}function oo(t){if(no.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function ao(t){if(no.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Qr(this,"username",t.screenName||null)}function so(t){var e=Vn(t),n=Fn(e,"link"),r=Fn(Vn(n),"link");return e=Fn(e,"deep_link_id"),Fn(Vn(e),"link")||e||r||n||t}function uo(t,e){if(!t&&!e)throw new x("internal-error","Internal assert: no raw session string available");if(t&&e)throw new x("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?co:fo}S(no,eo),S(ro,no),S(io,no),S(oo,no),S(ao,no);var co="enroll",fo="signin";function lo(){}function ho(t,e){return t.then((function(t){if(t[ns]){var n=Ki(t[ns]);if(!n||e!=n.i)throw new x("user-mismatch");return t}throw new x("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==A+"user-not-found"?new x("user-mismatch"):t}))}function po(t,e){if(!e)throw new x("internal-error","failed to construct a credential");this.a=e,Qr(this,"providerId",t),Qr(this,"signInMethod",t)}function vo(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function yo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new po(t.providerId,t.pendingToken)}catch(e){}return null}function go(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Qr(this,"idToken",e.idToken),e.accessToken&&Qr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Qr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new x("internal-error","failed to construct a credential");Qr(this,"accessToken",e.oauthToken),Qr(this,"secret",e.oauthTokenSecret)}Qr(this,"providerId",t),Qr(this,"signInMethod",n)}function mo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Zn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function bo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new go(t.providerId,e,t.signInMethod)}catch(n){}}return null}function wo(t,e){this.Qc=e||[],Zr(this,{providerId:t,isOAuthProvider:!0}),this.Ib={},this.pb=(Ji(t)||{}).Ja||null,this.ob=null}function _o(t){if("string"!==typeof t||0!=t.indexOf("saml."))throw new x("argument-error",'SAML provider IDs must be prefixed with "saml."');wo.call(this,t,[])}function Eo(t){wo.call(this,t,Yi),this.a=[]}function Oo(){Eo.call(this,"facebook.com")}function Io(t){if(!t)throw new x("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return y(t)&&(e=t.accessToken),(new Oo).credential({accessToken:e})}function So(){Eo.call(this,"github.com")}function To(t){if(!t)throw new x("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return y(t)&&(e=t.accessToken),(new So).credential({accessToken:e})}function xo(){Eo.call(this,"google.com"),this.Ca("profile")}function ko(t,e){var n=t;return y(t)&&(n=t.idToken,e=t.accessToken),(new xo).credential({idToken:n,accessToken:e})}function jo(){wo.call(this,"twitter.com",Xi)}function Ao(t,e){var n=t;if(y(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new x("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new go("twitter.com",n,"twitter.com")}function No(t,e,n){this.a=t,this.f=e,Qr(this,"providerId","password"),Qr(this,"signInMethod",n===Co.EMAIL_LINK_SIGN_IN_METHOD?Co.EMAIL_LINK_SIGN_IN_METHOD:Co.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Po(t){return t&&t.email&&t.password?new No(t.email,t.password,t.signInMethod):null}function Co(){Zr(this,{providerId:"password",isOAuthProvider:!1})}function Ro(t,e){if(!(e=Do(e)))throw new x("argument-error","Invalid email link!");return new No(t,e.code,Co.EMAIL_LINK_SIGN_IN_METHOD)}function Do(t){return(t=Ni(t=so(t)))&&t.operation===li?t:null}function Lo(t){if(!(t.eb&&t.cb||t.La&&t.ea))throw new x("internal-error");this.a=t,Qr(this,"providerId","phone"),this.fa="phone",Qr(this,"signInMethod","phone")}function Mo(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return W(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Lo(e)}return null}function Uo(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.eb,code:t.a.cb}}function Bo(t){try{this.a=t||e.a.auth()}catch(n){throw new x("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Zr(this,{providerId:"phone",isOAuthProvider:!1})}function Fo(t,e){if(!t)throw new x("missing-verification-id");if(!e)throw new x("missing-verification-code");return new Lo({eb:t,cb:e})}function Vo(t){if(t.temporaryProof&&t.phoneNumber)return new Lo({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return ko(o,n);case"facebook.com":return Io(n);case"github.com":return To(n);case"twitter.com":return Ao(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new po(e,a):new go(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new Eo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(s){return null}}function Ho(t){if(!t.isOAuthProvider)throw new x("invalid-oauth-provider")}function qo(t,e,n,r,i,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new x("invalid-auth-event");if(this.g&&this.a)throw new x("invalid-auth-event");if(this.g&&!this.f)throw new x("invalid-auth-event")}function Go(t){return(t=t||{}).type?new qo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&k(t.error),t.postBody,t.tenantId):null}function Wo(){this.b=null,this.a=[]}uo.prototype.Ha=function(){return this.a?je(this.a):je(this.b)},uo.prototype.w=function(){return this.type==co?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},lo.prototype.ka=function(){},lo.prototype.b=function(){},lo.prototype.c=function(){},lo.prototype.w=function(){},po.prototype.ka=function(t){return Is(t,vo(this))},po.prototype.b=function(t,e){var n=vo(this);return n.idToken=e,Ss(t,n)},po.prototype.c=function(t,e){return ho(Ts(t,vo(this)),e)},po.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},go.prototype.ka=function(t){return Is(t,mo(this))},go.prototype.b=function(t,e){var n=mo(this);return n.idToken=e,Ss(t,n)},go.prototype.c=function(t,e){return ho(Ts(t,mo(this)),e)},go.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},wo.prototype.Ka=function(t){return this.Ib=yt(t),this},S(_o,wo),S(Eo,wo),Eo.prototype.Ca=function(t){return Y(this.a,t)||this.a.push(t),this},Eo.prototype.Qb=function(){return Z(this.a)},Eo.prototype.credential=function(t,e){var n;if(!(n=y(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new x("argument-error","credential failed: must provide the ID token and/or the access token.");return new go(this.providerId,n,this.providerId)},S(Oo,Eo),Qr(Oo,"PROVIDER_ID","facebook.com"),Qr(Oo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),S(So,Eo),Qr(So,"PROVIDER_ID","github.com"),Qr(So,"GITHUB_SIGN_IN_METHOD","github.com"),S(xo,Eo),Qr(xo,"PROVIDER_ID","google.com"),Qr(xo,"GOOGLE_SIGN_IN_METHOD","google.com"),S(jo,wo),Qr(jo,"PROVIDER_ID","twitter.com"),Qr(jo,"TWITTER_SIGN_IN_METHOD","twitter.com"),No.prototype.ka=function(t){return this.signInMethod==Co.EMAIL_LINK_SIGN_IN_METHOD?su(t,Rs,{email:this.a,oobCode:this.f}):su(t,nu,{email:this.a,password:this.f})},No.prototype.b=function(t,e){return this.signInMethod==Co.EMAIL_LINK_SIGN_IN_METHOD?su(t,Ds,{idToken:e,email:this.a,oobCode:this.f}):su(t,Xs,{idToken:e,email:this.a,password:this.f})},No.prototype.c=function(t,e){return ho(this.ka(t),e)},No.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Zr(Co,{PROVIDER_ID:"password"}),Zr(Co,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Zr(Co,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Lo.prototype.ka=function(t){return t.fb(Uo(this))},Lo.prototype.b=function(t,e){var n=Uo(this);return n.idToken=e,su(t,iu,n)},Lo.prototype.c=function(t,e){var n=Uo(this);return n.operation="REAUTH",ho(t=su(t,ou,n),e)},Lo.prototype.w=function(){var t={providerId:"phone"};return this.a.eb&&(t.verificationId=this.a.eb),this.a.cb&&(t.verificationCode=this.a.cb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Bo.prototype.fb=function(t,e){var n=this.a.a;return je(e.verify()).then((function(r){if("string"!==typeof r)throw new x("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=y(t)?t.session:null,o=y(t)?t.phoneNumber:t;return(i&&i.type==co?i.Ha().then((function(t){return function(t,e){return su(t,$s,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==fo?i.Ha().then((function(e){return function(t,e){return su(t,Js,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return su(t,Ks,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"===typeof e.reset&&e.reset(),t}),(function(t){throw"function"===typeof e.reset&&e.reset(),t}));default:throw new x("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},Zr(Bo,{PROVIDER_ID:"phone"}),Zr(Bo,{PHONE_SIGN_IN_METHOD:"phone"}),qo.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},qo.prototype.T=function(){return this.h},qo.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Ko,zo=null;function Xo(t){var e="unauthorized-domain",n=void 0,r=Vn(t);t=r.a,"chrome-extension"==(r=r.c)?n=Gt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Gt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",x.call(this,e,n)}function Yo(t,e,n){x.call(this,t,n),(t=e||{}).Jb&&Qr(this,"email",t.Jb),t.ea&&Qr(this,"phoneNumber",t.ea),t.credential&&Qr(this,"credential",t.credential),t.Zb&&Qr(this,"tenantId",t.Zb)}function $o(t){if(t.code){var e=t.code||"";0==e.indexOf(A)&&(e=e.substring(A.length));var n={credential:Vo(t),Zb:t.tenantId};if(t.email)n.Jb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new x(e,t.message||void 0);return new Yo(e,n,t.message)}return null}function Jo(){}function Qo(t){return t.c||(t.c=t.b())}function Zo(){}function ta(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function ea(){}function na(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=E(this.qc,this),this.a.onerror=E(this.Sb,this),this.a.onprogress=E(this.rc,this),this.a.ontimeout=E(this.vc,this)}function ra(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function ia(t,e,n){this.reset(t,e,n,void 0,void 0)}S(Xo,x),S(Yo,x),Yo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&mt(t,e),t},Yo.prototype.toJSON=function(){return this.w()},Jo.prototype.c=null,S(Zo,Jo),Zo.prototype.a=function(){var t=ta(this);return t?new ActiveXObject(t):new XMLHttpRequest},Zo.prototype.b=function(){var t={};return ta(this)&&(t[0]=!0,t[1]=!0),t},Ko=new Zo,S(ea,Jo),ea.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new na;throw Error("Unsupported browser")},ea.prototype.b=function(){return{}},(n=na.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},n.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},n.abort=function(){this.a.abort()},n.setRequestHeader=function(){},n.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},n.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,ra(this,4)},n.Sb=function(){this.status=500,this.response=this.responseText="",ra(this,4)},n.vc=function(){this.Sb()},n.rc=function(){this.status=200,ra(this,1)},n.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ia.prototype.a=null;function oa(t){this.f=t,this.b=this.c=this.a=null}function aa(t,e){this.name=t,this.value=e}ia.prototype.reset=function(t,e,n,r,i){"number"==typeof i||0,r||I(),delete this.a},aa.prototype.toString=function(){return this.name};var sa=new aa("SEVERE",1e3),ua=new aa("WARNING",900),ca=new aa("CONFIG",700),fa=new aa("FINE",500);function la(t){return t.c?t.c:t.a?la(t.a):(M("Root logger has no level set."),null)}oa.prototype.log=function(t,e,n){if(t.value>=la(this).value)for(v(e)&&(e=e()),t=new ia(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var ha,da={},pa=null;function va(t){var e;if(pa||(pa=new oa(""),da[""]=pa,pa.c=ca),!(e=da[t])){e=new oa(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=va(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,da[t]=e}return e}function ya(t,e){t&&t.log(fa,e,void 0)}function ga(t){this.f=t}function ma(t){On.call(this),this.u=t,this.h=void 0,this.readyState=ba,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=va("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}S(ga,Jo),ga.prototype.a=function(){return new ma(this.f)},ga.prototype.b=(ha={},function(){return ha}),S(ma,On);var ba=0;function wa(t){t.c.read().then(t.pc.bind(t)).catch(t.Ua.bind(t))}function _a(t){t.readyState=4,t.g=null,t.c=null,t.m=null,Ea(t)}function Ea(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function Oa(t){On.call(this),this.headers=new Nn,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.R=this.l="",this.f=this.O=this.i=this.J=!1,this.g=0,this.s=null,this.m=Ia,this.u=this.S=!1}(n=ma.prototype).open=function(t,e){if(this.readyState!=ba)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,Ea(this)},n.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Ua.bind(this))},n.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,_a(this)),this.readyState=ba},n.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,Ea(this)),this.a&&(this.readyState=3,Ea(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Ua.bind(this)):"undefined"!==typeof u.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,wa(this)):t.text().then(this.tc.bind(this),this.Ua.bind(this)))))},n.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?_a(this):Ea(this),3==this.readyState&&wa(this)}},n.tc=function(t){this.a&&(this.response=this.responseText=t,_a(this))},n.sc=function(t){this.a&&(this.response=t,_a(this))},n.Ua=function(t){var e=this.i;e&&e.log(ua,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&_a(this)},n.setRequestHeader=function(t,e){this.l.append(t,e)},n.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(ua,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},n.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(ua,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(ma.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),S(Oa,On);var Ia="";Oa.prototype.b=va("goog.net.XhrIo");var Sa=/^https?$/i,Ta=["POST","PUT"];function xa(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.R=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():Ko.a(),t.C=t.D?Qo(t.D):Qo(Ko),t.a.onreadystatechange=E(t.Vb,t);try{ya(t.b,La(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(a){return ya(t.b,La(t,"Error opening Xhr: "+a.message)),void ja(t,a)}e=r||"";var o=new Nn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(p(t)||"string"===typeof t)W(t,e,void 0);else for(var n=An(t),r=jn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=ka,n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"===typeof t?t.charAt(e):t[e]}(o.Y()),r=u.FormData&&e instanceof u.FormData,!Y(Ta,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{Ca(t),0<t.g&&(t.u=function(t){return Yt&&ae(9)&&"number"===typeof t.timeout&&void 0!==t.ontimeout}(t.a),ya(t.b,La(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=E(t.Ma,t)):t.s=xn(t.Ma,t.g,t)),ya(t.b,La(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(a){ya(t.b,La(t,"Send error: "+a.message)),ja(t,a)}}function ka(t){return"content-type"==t.toLowerCase()}function ja(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Aa(t),Pa(t)}function Aa(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Na(t){if(t.c&&"undefined"!=typeof s)if(t.C[1]&&4==Ra(t)&&2==Da(t))ya(t.b,La(t,"Local request error detected and ignored"));else if(t.i&&4==Ra(t))xn(t.Vb,0,t);else if(t.dispatchEvent("readystatechange"),4==Ra(t)){ya(t.b,La(t,"Request complete")),t.c=!1;try{var e,n=Da(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(Rn)[1]||null;if(!o&&u.self&&u.self.location){var a=u.self.location.protocol;o=a.substr(0,a.length-1)}i=!Sa.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Ra(t)?t.a.statusText:""}catch(f){ya(t.b,"Can not get status: "+f.message),c=""}t.h=c+" ["+Da(t)+"]",Aa(t)}}finally{Pa(t)}}}function Pa(t,e){if(t.a){Ca(t);var n=t.a,r=t.C[0]?h:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(sa,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function Ca(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(u.clearTimeout(t.s),t.s=null)}function Ra(t){return t.a?t.a.readyState:0}function Da(t){try{return 2<Ra(t)?t.a.status:-1}catch(e){return-1}}function La(t,e){return e+" ["+t.R+" "+t.l+" "+Da(t)+"]"}function Ma(t){var e=Xa;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Ua(t,e,n){t.a=!0,t.c=n,t.f=!e,Ha(t)}function Ba(t){if(t.a){if(!t.v)throw new qa(t);t.v=!1}}function Fa(t,e,n,r){t.g.push([e,n,r]),t.a&&Ha(t)}function Va(t){return X(t.g,(function(t){return v(t[1])}))}function Ha(t){if(t.h&&t.a&&Va(t)){var e=t.h,n=Ka[e];n&&(u.clearTimeout(n.a),delete Ka[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var s=o.call(i||t.s,e);void 0!==s&&(t.f=t.f&&(s==e||s instanceof Error),t.c=e=s),(R(e)||"function"===typeof u.Promise&&e instanceof u.Promise)&&(r=!0,t.i=!0)}catch(c){e=c,t.f=!0,Va(t)||(n=!0)}}t.c=e,r&&(s=E(t.m,t,!0),r=E(t.m,t,!1),e instanceof Ma?(Fa(e,s,r),e.C=!0):e.then(s,r)),n&&(e=new Wa(e),Ka[e.a]=e,t.h=e.a)}function qa(){D.call(this)}function Ga(){D.call(this)}function Wa(t){this.a=u.setTimeout(E(this.c,this),0),this.b=t}(n=Oa.prototype).Ma=function(){"undefined"!=typeof s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ya(this.b,La(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},n.abort=function(){this.a&&this.c&&(ya(this.b,La(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Pa(this))},n.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Pa(this,!0)),Oa.ab.Da.call(this)},n.Vb=function(){this.xa||(this.O||this.i||this.f?Na(this):this.Jc())},n.Jc=function(){Na(this)},n.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Ia:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(sa,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return ya(this.b,"Can not get response: "+e.message),null}},Ma.prototype.cancel=function(t){if(this.a)this.c instanceof Ma&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new Ga(this),Ba(this),Ua(this,!1,t))}},Ma.prototype.m=function(t,e){this.i=!1,Ua(this,t,e)},Ma.prototype.then=function(t,e,n){var r,i,o=new Ee((function(t,e){r=t,i=e}));return Fa(this,r,(function(t){t instanceof Ga?o.cancel():i(t)})),o.then(t,e,n)},Ma.prototype.$goog_Thenable=!0,S(qa,D),qa.prototype.message="Deferred has already fired",qa.prototype.name="AlreadyCalledError",S(Ga,D),Ga.prototype.message="Deferred was canceled",Ga.prototype.name="CanceledError",Wa.prototype.c=function(){throw delete Ka[this.a],this.b};var Ka={};function za(t){var e={},n=e.document||document,r=xt(t).toString(),i=ye(document,"SCRIPT"),o={Wb:i,Ma:void 0},a=new Ma(o),s=null,c=null!=e.timeout?e.timeout:5e3;return 0<c&&(s=window.setTimeout((function(){Ya(i,!0);var t=new Qa(Ja,"Timeout reached for loading script "+r);Ba(a),Ua(a,!1,t)}),c),o.Ma=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Ya(i,e.xd||!1,s),Ba(a),Ua(a,!0,null))},i.onerror=function(){Ya(i,!0,s);var t=new Qa($a,"Error while loading script "+r);Ba(a),Ua(a,!1,t)},mt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),le(i,o),function(t,e){bt(t,"HTMLScriptElement"),t.src=xt(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=u?e=l(e.document):(null===f&&(f=l(u.document)),e=f),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function Xa(){if(this&&this.Wb){var t=this.Wb;t&&"SCRIPT"==t.tagName&&Ya(t,!0,this.Ma)}}function Ya(t,e,n){null!=n&&u.clearTimeout(n),t.onload=h,t.onerror=h,t.onreadystatechange=h,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var $a=0,Ja=1;function Qa(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),D.call(this,n),this.code=t}function Za(t){this.f=t}function ts(t,n,r){if(this.c=t,t=n||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||rs,this.g=yt(t.secureTokenHeaders||is),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||os,this.a=yt(t.firebaseHeaders||as),r&&(this.a["X-Client-Version"]=r,this.g["X-Client-Version"]=r),r="Node"==Ir(),!(r=u.XMLHttpRequest||r&&e.a.INTERNAL.node&&e.a.INTERNAL.node.XMLHttpRequest)&&!Or())throw new x("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Or()?this.f=new ga(self):Sr()?this.f=new Za(r):this.f=new ea,this.b=null}S(Qa,D),S(Za,Jo),Za.prototype.a=function(){return new this.f},Za.prototype.b=function(){return{}};var es,ns="idToken",rs=new Gr(3e4,6e4),is={"Content-Type":"application/x-www-form-urlencoded"},os=new Gr(3e4,6e4),as={"Content-Type":"application/json"};function ss(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function us(t,e){e&&(t.l=cs("https://securetoken.googleapis.com/v1/token",e),t.h=cs("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=cs("https://identitytoolkit.googleapis.com/v2/",e))}function cs(t,e){return t=Vn(t),e=Vn(e.url),t.f=t.a+t.f,Ln(t,e.c),t.a=e.a,Mn(t,e.g),t.toString()}function fs(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function ls(t,e,n,r,i,o,a){(function(){var t=Nr();return!((t=kr(t)!=xr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t)&&(!Yt||!ue||9<ue)})()||Or()?t=E(t.u,t):(es||(es=new Ee((function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{u[ds]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Fa(t,null,e,void 0)}(za(kt(hs,{onload:ds})),(function(){e(Error("CORS_UNSUPPORTED"))}))}}(t,e)}))),t=E(t.s,t)),t(e,n,r,i,o,a)}ts.prototype.T=function(){return this.b},ts.prototype.u=function(t,e,n,r,i,o){if(Or()&&("undefined"===typeof u.fetch||"undefined"===typeof u.Headers||"undefined"===typeof u.Request))throw new x("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new Oa(this.f);if(o){a.g=Math.max(0,o);var s=setTimeout((function(){a.dispatchEvent("timeout")}),o)}In(a,"complete",(function(){s&&clearTimeout(s);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return ya(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)})),Sn(a,"ready",(function(){s&&clearTimeout(s),ze(this)})),Sn(a,"timeout",(function(){s&&clearTimeout(s),ze(this),e&&e(null)})),xa(a,t,n,r,i)};var hs=new wt(It,"https://apis.google.com/js/client.js?onload=%{onload}"),ds="__fcb"+Math.floor(1e6*Math.random()).toString();function ps(t,e,n,r,i,o,a){var s=Vn(e+n);Bn(s,"key",t.c),a&&Bn(s,"cb",I().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Bn(s,c,i[c]);return new Ee((function(e,n){ls(t,s.toString(),(function(t){t?t.error?n(cu(t,o||{})):e(t):n(new x("network-request-failed"))}),r,u?void 0:or(Br(i)),t.a,t.v.get())}))}function vs(t){if("string"!==typeof(t=t.email)||!br.test(t))throw new x("invalid-email")}function ys(t){"email"in t&&vs(t)}function gs(t){if(!t[ns]){if(t.mfaPendingCredential)throw new x("multi-factor-auth-required",null,yt(t));throw new x("internal-error")}}function ms(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new x("internal-error")}else{if(!t.sessionInfo)throw new x("missing-verification-id");if(!t.code)throw new x("missing-verification-code")}}ts.prototype.s=function(t,e,n,r,i){var o=this;es.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},ts.prototype.zb=function(){return su(this,Ys,{})},ts.prototype.Bb=function(t,e){return su(this,zs,{idToken:t,email:e})},ts.prototype.Cb=function(t,e){return su(this,Xs,{idToken:t,password:e})};var bs={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ws(t){if(!t.phoneVerificationInfo)throw new x("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new x("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new x("missing-verification-code")}function _s(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new x("internal-error")}function Es(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(er(t=new Jn(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function Os(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=$o(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=$o(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=$o(t)):t.errorMessage&&(e=uu(t.errorMessage)),e)throw e;gs(t)}function Is(t,e){return e.returnIdpCredential=!0,su(t,Qs,e)}function Ss(t,e){return e.returnIdpCredential=!0,su(t,tu,e)}function Ts(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,su(t,Zs,e)}function xs(t){if(!t.oobCode)throw new x("invalid-action-code")}(n=ts.prototype).Db=function(t,e){var n={idToken:t},r=[];return pt(bs,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),su(this,zs,n)},n.vb=function(t,e){return mt(t={requestType:"PASSWORD_RESET",email:t},e),su(this,Hs,t)},n.wb=function(t,e){return mt(t={requestType:"EMAIL_SIGNIN",email:t},e),su(this,Bs,t)},n.ub=function(t,e){return mt(t={requestType:"VERIFY_EMAIL",idToken:t},e),su(this,Fs,t)},n.Eb=function(t,e,n){return mt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),su(this,Vs,t)},n.fb=function(t){return su(this,ru,t)},n.nb=function(t,e){return su(this,Ws,{oobCode:t,newPassword:e})},n.Ra=function(t){return su(this,js,{oobCode:t})},n.jb=function(t){return su(this,ks,{oobCode:t})};var ks={endpoint:"setAccountInfo",A:xs,Z:"email",B:!0},js={endpoint:"resetPassword",A:xs,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new x("internal-error")},B:!0},As={endpoint:"signupNewUser",A:function(t){if(vs(t),!t.password)throw new x("weak-password")},G:gs,V:!0,B:!0},Ns={endpoint:"createAuthUri",B:!0},Ps={endpoint:"deleteAccount",N:["idToken"]},Cs={endpoint:"setAccountInfo",N:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new x("internal-error")}},Rs={endpoint:"emailLinkSignin",N:["email","oobCode"],A:vs,G:gs,V:!0,B:!0},Ds={endpoint:"emailLinkSignin",N:["idToken","email","oobCode"],A:vs,G:gs,V:!0},Ls={endpoint:"accounts/mfaEnrollment:finalize",N:["idToken","phoneVerificationInfo"],A:ws,G:gs,B:!0,Na:!0},Ms={endpoint:"accounts/mfaSignIn:finalize",N:["mfaPendingCredential","phoneVerificationInfo"],A:ws,G:gs,B:!0,Na:!0},Us={endpoint:"getAccountInfo"},Bs={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new x("internal-error");vs(t)},Z:"email",B:!0},Fs={endpoint:"getOobConfirmationCode",N:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new x("internal-error")},Z:"email",B:!0},Vs={endpoint:"getOobConfirmationCode",N:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new x("internal-error")},Z:"email",B:!0},Hs={endpoint:"getOobConfirmationCode",N:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new x("internal-error");vs(t)},Z:"email",B:!0},qs={lb:!0,endpoint:"getProjectConfig",Ub:"GET"},Gs={lb:!0,endpoint:"getRecaptchaParam",Ub:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new x("internal-error")}},Ws={endpoint:"resetPassword",A:xs,Z:"email",B:!0},Ks={endpoint:"sendVerificationCode",N:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},zs={endpoint:"setAccountInfo",N:["idToken"],A:ys,V:!0},Xs={endpoint:"setAccountInfo",N:["idToken"],A:function(t){if(ys(t),!t.password)throw new x("weak-password")},G:gs,V:!0},Ys={endpoint:"signupNewUser",G:gs,V:!0,B:!0},$s={endpoint:"accounts/mfaEnrollment:start",N:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new x("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new x("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new x("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new x("internal-error")},B:!0,Na:!0},Js={endpoint:"accounts/mfaSignIn:start",N:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new x("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new x("internal-error")},B:!0,Na:!0},Qs={endpoint:"verifyAssertion",A:_s,Ya:Es,G:Os,V:!0,B:!0},Zs={endpoint:"verifyAssertion",A:_s,Ya:Es,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new x("user-not-found");if(t.errorMessage)throw uu(t.errorMessage);gs(t)},V:!0,B:!0},tu={endpoint:"verifyAssertion",A:function(t){if(_s(t),!t.idToken)throw new x("internal-error")},Ya:Es,G:Os,V:!0},eu={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new x("invalid-custom-token")},G:gs,V:!0,B:!0},nu={endpoint:"verifyPassword",A:function(t){if(vs(t),!t.password)throw new x("wrong-password")},G:gs,V:!0,B:!0},ru={endpoint:"verifyPhoneNumber",A:ms,G:gs,B:!0},iu={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new x("internal-error");ms(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",$o(t);gs(t)}},ou={Hb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ms,G:gs,B:!0},au={endpoint:"accounts/mfaEnrollment:withdraw",N:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[ns]^!!t.refreshToken)throw new x("internal-error")},B:!0,Na:!0};function su(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(void 0===r||null===r||""===r)return!1}return!0}(n,e.N))return Ae(new x("internal-error"));var r,i=!!e.Na,o=e.Ub||"POST";return je(n).then(e.A).then((function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&"undefined"===typeof n.tenantId&&(n.tenantId=t.b),ps(t,i?t.i:t.h,e.endpoint,o,n,e.Hb,e.lb||!1)})).then((function(t){return r=t,e.Ya?e.Ya(n,r):r})).then(e.G).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new x("internal-error");return r[e.Z]}))}function uu(t){return cu({error:{errors:[{message:t}],code:400,message:t}})}function cu(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new x(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",mt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new x(r[i],e);return!e&&t&&(e=Ur(t)),new x("internal-error",e)}function fu(t){this.b=t,this.a=null,this.rb=function(t){return(pu||(pu=new Ee((function(t,e){function n(){qr(),Pr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){qr(),e(Error("Network Error"))},timeout:hu.get()})}if(Pr("gapi.iframes.Iframe"))t();else if(Pr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();u[r]=function(){Pr("gapi.load")?n():e(Error("Network Error"))},je(za(r=kt(lu,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw pu=null,t})))).then((function(){return new Ee((function(e,n){Pr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Pr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),du.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var lu=new wt(It,"https://apis.google.com/js/api.js?onload=%{onload}"),hu=new Gr(3e4,6e4),du=new Gr(5e3,15e3),pu=null;function vu(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,this.g?t=Hn((t=Vn(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):t=Hn("https",this.l,null,"/__/auth/iframe"),this.a=t,Bn(this.a,"apiKey",this.h),Bn(this.a,"appName",this.i),this.b=null,this.c=[]}function yu(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function gu(t){try{return e.a.app(t).auth().Ga()}catch(n){return[]}}function mu(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function bu(t){var e=hr();return function(t){return su(t,qs,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Vn(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Vn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:mr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new Xo(hr())}))}function wu(t){return t.m||(t.m=wr().then((function(){if(!t.u){var e=t.c,n=t.i,r=gu(t.b),i=new vu(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=Z(r||[]),t.u=i.toString()}t.v=new fu(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.rb.then((function(){t.a.register("authEvent",e,Pr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.v,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Go(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",je(n)}return n.status="ERROR",je(n)}))}(t)}))),t.m}function _u(t){return t.l||(t.C=t.c?Ar(t.c,gu(t.b)):null,t.l=new ts(t.g,C(t.i),t.C),t.f&&us(t.l,t.f)),t.l}function Eu(t,e,n,r,i,o,a,s,u,c,f,l){return(t=new yu(t,e,n,r,i,l)).l=o,t.g=a,t.i=s,t.b=yt(u||null),t.f=c,t.yb(f).toString()}function Ou(t){if(this.a=t||e.a.INTERNAL.reactNative&&e.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new x("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Iu(t){this.b=t,this.a={},this.f=E(this.c,this)}vu.prototype.toString=function(){return this.f?Bn(this.a,"v",this.f):tr(this.a.b,"v"),this.b?Bn(this.a,"eid",this.b):tr(this.a.b,"eid"),this.c.length?Bn(this.a,"fw",this.c.join(",")):tr(this.a.b,"fw"),this.a.toString()},yu.prototype.yb=function(t){return this.h=t,this},yu.prototype.toString=function(){if(this.v){var t=Vn(this.v.url);t=Hn(t.c,t.a,t.g,"/emulator/auth/handler")}else t=Hn("https",this.u,null,"/__/auth/handler");if(Bn(t,"apiKey",this.s),Bn(t,"appName",this.c),Bn(t,"authType",this.m),this.a.isOAuthProvider){var n=this.a;try{var r=e.a.app(this.c).auth().la()}catch(u){r=null}for(var i in n.ob=r,Bn(t,"providerId",this.a.providerId),n=Br((r=this.a).Ib))n[i]=n[i].toString();i=r.Qc,n=yt(n);for(var o=0;o<i.length;o++){var a=i[o];a in n&&delete n[a]}r.pb&&r.ob&&!n[r.pb]&&(n[r.pb]=r.ob),vt(n)||Bn(t,"customParameters",Ur(n))}if("function"===typeof this.a.Qb&&((r=this.a.Qb()).length&&Bn(t,"scopes",r.join(","))),this.l?Bn(t,"redirectUrl",this.l):tr(t.b,"redirectUrl"),this.g?Bn(t,"eventId",this.g):tr(t.b,"eventId"),this.i?Bn(t,"v",this.i):tr(t.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Fn(t,s)&&Bn(t,s,this.b[s]);return this.h?Bn(t,"tid",this.h):tr(t.b,"tid"),this.f?Bn(t,"eid",this.f):tr(t.b,"eid"),(s=gu(this.c)).length&&Bn(t,"fw",s.join(",")),t.toString()},(n=mu.prototype).Ob=function(t,e,n){var r=new x("popup-closed-by-user"),i=new x("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){(function(t){var e={type:"webStorageSupport"};return wu(t).then((function(){return function(t,e){return t.rb.then((function(){return new Ee((function(n){t.a.send(e.type,e,n,Pr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.v,e)})).then((function(t){if(t&&t.length&&"undefined"!==typeof t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&yr(t),e(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(t){return new Ee((function(e){return function n(){kn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!a)return kn(n).then((function(){e(r)}))}))},n.Xb=function(){var t=Nr();return!Mr(t)&&!Hr(t)},n.Tb=function(){return!1},n.Mb=function(t,e,n,r,i,o,a,s){if(!t)return Ae(new x("popup-blocked"));if(a&&!Mr())return this.ma().o((function(e){yr(t),i(e)})),r(),je();this.a||(this.a=bu(_u(this)));var u=this;return this.a.then((function(){var e=u.ma().o((function(e){throw yr(t),i(e),e}));return r(),e})).then((function(){(Ho(n),a)||dr(Eu(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,s,u.f),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},n.Nb=function(t,e,n,r){this.a||(this.a=bu(_u(this)));var i=this;return this.a.then((function(){Ho(e),dr(Eu(i.s,i.g,i.b,t,e,hr(),n,i.c,void 0,i.i,r,i.f))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},n.ma=function(){var t=this;return wu(this).then((function(){return t.v.rb})).o((function(){throw t.a=null,new x("network-request-failed")}))},n.$b=function(){return!0},n.Ea=function(t){this.h.push(t)},n.Sa=function(t){J(this.h,(function(e){return e==t}))},(n=Ou.prototype).get=function(t){return je(this.a.getItem(t)).then((function(t){return t&&Fr(t)}))},n.set=function(t,e){return je(this.a.setItem(t,Ur(e)))},n.U=function(t){return je(this.a.removeItem(t))},n.ca=function(){},n.ia=function(){};var Su,Tu=[];function xu(t,e,n){vt(t.a)&&t.b.addEventListener("message",t.f),"undefined"===typeof t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function ku(t){this.a=t}function ju(t){this.c=t,this.b=!1,this.a=[]}function Au(t,e,n,r){var i,o,a,s,u=n||{},c=null;if(t.b)return Ae(Error("connection_unavailable"));var f=r?800:50,l="undefined"!==typeof MessageChannel?new MessageChannel:null;return new Ee((function(n,r){l?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),l.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),f),c={messageChannel:l,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(s),"undefined"!==typeof t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},t.a.push(c),l.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[l.port2])):r(Error("connection_unavailable"))})).then((function(e){return Nu(t,c),e})).o((function(e){throw Nu(t,c),e}))}function Nu(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),J(t.a,(function(t){return t==e}))}}function Pu(){if(!Lu())throw new x("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=u.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;Or()&&self?(this.v=function(){var t=Or()?self:null;if(W(Tu,(function(n){n.b==t&&(e=n)})),!e){var e=new Iu(t);Tu.push(e)}return e}(),xu(this.v,"keyChanged",(function(e,n){return Vu(t).then((function(e){return 0<e.length&&W(t.a,(function(t){t(e)})),{keyProcessed:Y(e,n.key)}}))})),xu(this.v,"ping",(function(){return je(["keyChanged"])}))):function(){var t=u.navigator;return t&&t.serviceWorker?je().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):je(null)}().then((function(e){(t.h=e)&&(t.g=new ju(new ku(e)),Au(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&Y(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function Cu(t){return new Ee((function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new Ee((function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return Cu(t)})).then((function(t){e(t)})).o((function(t){n(t)}))}}))}function Ru(t){return t.i||(t.i=Cu(t)),t.i}function Du(t,e){var n=0;return new Ee((function r(i,o){Ru(t).then(e).then(i).o((function(e){if(!(3<++n))return Ru(t).then((function(e){return e.close(),t.i=void 0,r(i,o)})).o((function(t){o(t)}));o(e)}))}))}function Lu(){try{return!!u.indexedDB}catch(ha){return!1}}function Mu(t){return t.objectStore("firebaseLocalStorage")}function Uu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Bu(t){return new Ee((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Fu(t,e){return t.g&&t.h&&function(){var t=u.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?Au(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):je()}function Vu(t){return Ru(t).then((function(t){var e=Mu(Uu(t,!1));return e.getAll?Bu(e.getAll()):new Ee((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=pr(t.c,n),t.c=n}return r}))}function Hu(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function qu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=je().then((function(){if(Lu()){var t=Vr(),r="__sak"+t;return Su||(Su=new Pu),(n=Su).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){W(e.a,(function(e){e(t)}))})),t}))}function Gu(){this.a={},this.type="inMemory"}function Wu(){if(!function(){var t="Node"==Ir();if(!(t=Ku()||t&&e.a.INTERNAL.node&&e.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(n){return!1}}()){if("Node"==Ir())throw new x("internal-error","The LocalStorage compatibility library was not found.");throw new x("web-storage-unsupported")}this.a=Ku()||e.a.INTERNAL.node.localStorage,this.type="localStorage"}function Ku(){try{var t=u.localStorage,e=Vr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function zu(){this.type="nullStorage"}function Xu(){if(!function(){var t="Node"==Ir();if(!(t=Yu()||t&&e.a.INTERNAL.node&&e.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(n){return!1}}()){if("Node"==Ir())throw new x("internal-error","The SessionStorage compatibility library was not found.");throw new x("web-storage-unsupported")}this.a=Yu()||e.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Yu(){try{var t=u.sessionStorage,e=Vr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function $u(){var t={};t.Browser=Zu,t.Node=tc,t.ReactNative=ec,t.Worker=nc,this.a=t[Ir()]}Iu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];W(r,(function(e){i.push(je().then((function(){return e(t.origin,t.data.data)})))})),Pe(i).then((function(r){var i=[];W(r,(function(t){i.push({fulfilled:t.Pb,value:t.value,reason:t.reason?t.reason.message:void 0})})),W(i,(function(t){for(var e in t)"undefined"===typeof t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},ku.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},ju.prototype.close=function(){for(;0<this.a.length;)Nu(this,this.a[0]);this.b=!0},(n=Pu.prototype).set=function(t,e){var n=this,r=!1;return Du(this,(function(e){return Bu((e=Mu(Uu(e,!0))).get(t))})).then((function(i){return Du(n,(function(o){if(o=Mu(Uu(o,!0)),i)return i.value=e,Bu(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=t,a.value=e,Bu(o.add(a))}))})).then((function(){return n.c[t]=e,Fu(n,t)})).oa((function(){r&&n.b--}))},n.get=function(t){return Du(this,(function(e){return Bu(Mu(Uu(e,!1)).get(t))})).then((function(t){return t&&t.value}))},n.U=function(t){var e=this,n=!1;return Du(this,(function(r){return n=!0,e.b++,Bu(Mu(Uu(r,!0)).delete(t))})).then((function(){return delete e.c[t],Fu(e,t)})).oa((function(){n&&e.b--}))},n.ca=function(t){0==this.a.length&&function(t){function e(){t.f=setTimeout((function(){t.l=Vu(t).then((function(e){0<e.length&&W(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}Hu(t),e()}(this),this.a.push(t)},n.ia=function(t){J(this.a,(function(e){return e==t})),0==this.a.length&&Hu(this)},(n=qu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},n.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},n.U=function(t){return this.b.then((function(e){return e.U(t)}))},n.ca=function(t){this.a.push(t)},n.ia=function(t){J(this.a,(function(e){return e==t}))},(n=Gu.prototype).get=function(t){return je(this.a[t])},n.set=function(t,e){return this.a[t]=e,je()},n.U=function(t){return delete this.a[t],je()},n.ca=function(){},n.ia=function(){},(n=Wu.prototype).get=function(t){var e=this;return je().then((function(){return Fr(e.a.getItem(t))}))},n.set=function(t,e){var n=this;return je().then((function(){var r=Ur(e);null===r?n.U(t):n.a.setItem(t,r)}))},n.U=function(t){var e=this;return je().then((function(){e.a.removeItem(t)}))},n.ca=function(t){u.window&&ln(u.window,"storage",t)},n.ia=function(t){u.window&&pn(u.window,"storage",t)},(n=zu.prototype).get=function(){return je(null)},n.set=function(){return je()},n.U=function(){return je()},n.ca=function(){},n.ia=function(){},(n=Xu.prototype).get=function(t){var e=this;return je().then((function(){return Fr(e.a.getItem(t))}))},n.set=function(t,e){var n=this;return je().then((function(){var r=Ur(e);null===r?n.U(t):n.a.setItem(t,r)}))},n.U=function(t){var e=this;return je().then((function(){e.a.removeItem(t)}))},n.ca=function(){},n.ia=function(){};var Ju,Qu,Zu={F:Wu,bb:Xu},tc={F:Wu,bb:Xu},ec={F:Ou,bb:zu},nc={F:Wu,bb:zu},rc={rd:"local",NONE:"none",td:"session"};function ic(){var t=!(Hr(Nr())||!Er()),e=Mr(),n=Cr();this.m=t,this.h=e,this.l=n,this.a={},Ju||(Ju=new $u),t=Ju;try{this.g=!lr()&&zr()||!u.indexedDB?new t.a.F:new qu(Or()?new Gu:new t.a.F)}catch(r){this.g=new Gu,this.h=!0}try{this.i=new t.a.bb}catch(r){this.i=new Gu}this.v=new Gu,this.f=E(this.Yb,this),this.b={}}function oc(){return Qu||(Qu=new ic),Qu}function ac(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function sc(t,e){return"firebase:"+t.name+(e?":"+e:"")}function uc(t,e,n){return n=sc(e,n),"local"==e.F&&(t.b[n]=null),ac(t,e.F).U(n)}function cc(t){t.c&&(clearInterval(t.c),t.c=null)}function fc(t){this.a=t,this.b=oc()}(n=ic.prototype).get=function(t,e){return ac(this,t.F).get(sc(t,e))},n.set=function(t,e,n){var r=sc(t,n),i=this,o=ac(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},n.addListener=function(t,e,n){t=sc(t,e),this.l&&(this.b[t]=u.localStorage.getItem(t)),vt(this.a)&&(ac(this,"local").ca(this.f),this.h||(lr()||!zr())&&u.indexedDB||!this.l||function(t){cc(t),t.c=setInterval((function(){for(var e in t.a){var n=u.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Ze({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Yb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},n.removeListener=function(t,e,n){t=sc(t,e),this.a[t]&&(J(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),vt(this.a)&&(ac(this,"local").ia(this.f),cc(this))},n.Yb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];"undefined"===typeof r&&(r=null);var i=u.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.mb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if("undefined"!==typeof t.a.a?ac(this,"local").ia(this.f):cc(this),this.m)if(n=u.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?u.localStorage.setItem(e,r):u.localStorage.removeItem(e);else if(this.b[e]===r&&"undefined"===typeof t.a.a)return;var o=this;n=function(){"undefined"===typeof t.a.a&&o.b[e]===u.localStorage.getItem(e)||(o.b[e]=u.localStorage.getItem(e),o.mb(e))},Yt&&ue&&10==ue&&u.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else W(t,E(this.mb,this))},n.mb=function(t){this.a[t]&&W(this.a[t],(function(t){t()}))};var lc,hc={name:"authEvent",F:"local"};function dc(){this.a=oc()}function pc(t,e){this.b=vc,this.f=u.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=u.Int32Array?new Int32Array(64):Array(64),void 0===lc&&(lc=u.Int32Array?new Int32Array(Ec):Ec),this.reset()}S(pc,(function(){this.b=-1}));for(var vc=64,yc=vc-1,gc=[],mc=0;mc<yc;mc++)gc[mc]=0;var bc=Q(128,gc);function wc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],f=0|t.a[5],l=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var h=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&f^~c&l)+(0|lc[e])|0)+(0|n[e])|0)|0,o=l,l=f,f=c,c=u+a|0,u=s,s=i,i=r,r=a+h|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+f|0,t.a[6]=t.a[6]+l|0,t.a[7]=t.a[7]+o|0}function _c(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"===typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(wc(t),i=0);else{if(!p(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(wc(t),i=0)}}t.c=i,t.g+=n}pc.prototype.reset=function(){this.g=this.c=0,this.a=u.Int32Array?new Int32Array(this.h):Z(this.h)};var Ec=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Oc(){pc.call(this,8,Ic)}S(Oc,pc);var Ic=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Sc(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new dc,this.g=new fc(this.h),this.f=null,this.b=[],this.a=this.c=null}function Tc(t){return new x("invalid-cordova-configuration",t)}function xc(t){var e=new Oc;_c(e,t),t=[];var n=8*e.g;56>e.c?_c(e,bc,56-e.c):_c(e,bc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(wc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return z(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}function kc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function jc(t){return t.f||(t.f=t.ma().then((function(){return new Ee((function(e){t.Ea((function n(r){return e(r),t.Sa(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),Ac(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=so(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"===typeof(o=Fr(Fn(o=Vn(i),"firebaseError")||null))?k(o):null)?new qo(r.c,r.b,null,null,o,null,r.T()):new qo(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}kc(t,i)}))}var n=new qo("unknown",null,null,null,new x("no-auth-event")),r=!1,i=kn(500).then((function(){return Ac(t).then((function(){r||kc(t,n)}))})),o=u.handleOpenURL;u.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Pr("BuildInfo.packageName",u).toLowerCase()+"://")&&e({url:t}),"function"===typeof o)try{o(t)}catch(n){console.error(n)}},zo||(zo=new Wo),function(t){var e=zo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"===typeof(t=Pr("universalLinks.subscribe",u))&&t(null,e.b))}(e)}(t)}))}))),t.f}function Ac(t){var e=null;return function(t){return t.b.get(hc,t.a).then((function(t){return Go(t)}))}(t.g).then((function(n){return e=n,uc((n=t.g).b,hc,n.a)})).then((function(){return e}))}function Nc(t){this.a=t,this.b=oc()}(n=Sc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(_r(void 0)?wr().then((function(){return new Ee((function(t,e){var n=u.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Ae(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!==typeof Pr("universalLinks.subscribe",u))throw Tc("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof Pr("BuildInfo.packageName",u))throw Tc("cordova-plugin-buildinfo is not installed");if("function"!==typeof Pr("cordova.plugins.browsertab.openUrl",u))throw Tc("cordova-plugin-browsertab is not installed");if("function"!==typeof Pr("cordova.InAppBrowser.open",u))throw Tc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new x("cordova-not-ready")}))},n.Ob=function(t,e){return e(new x("operation-not-supported-in-this-environment")),je()},n.Mb=function(){return Ae(new x("operation-not-supported-in-this-environment"))},n.$b=function(){return!1},n.Xb=function(){return!0},n.Tb=function(){return!0},n.Nb=function(t,e,n,r){if(this.c)return Ae(new x("redirect-operation-pending"));var i=this,o=u.document,a=null,s=null,c=null,f=null;return this.c=je().then((function(){return Ho(e),jc(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new qo(e,r,null,o,new x("no-auth-event"),null,i),s=Pr("BuildInfo.packageName",u);if("string"!==typeof s)throw new x("invalid-cordova-configuration");var c=Pr("BuildInfo.displayName",u),f={};if(Nr().toLowerCase().match(/iphone|ipad|ipod/))f.ibi=s;else{if(!Nr().toLowerCase().match(/android/))return Ae(new x("operation-not-supported-in-this-environment"));f.apn=s}c&&(f.appDisplayName=c),o=xc(o),f.sessionId=o;var l=Eu(t.v,t.i,t.l,e,n,null,r,t.m,f,t.u,i,t.s);return t.ma().then((function(){var e=t.h;return t.C.a.set(hc,a.w(),e)})).then((function(){var e=Pr("cordova.plugins.browsertab.isAvailable",u);if("function"!==typeof e)throw new x("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!==typeof(n=Pr("cordova.plugins.browsertab.openUrl",u)))throw new x("invalid-cordova-configuration");n(l)}else{if("function"!==typeof(n=Pr("cordova.InAppBrowser.open",u)))throw new x("invalid-cordova-configuration");e=Nr(),t.a=n(l,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new Ee((function(t,e){s=function(){var e=Pr("cordova.plugins.browsertab.close",u);return t(),"function"===typeof e&&e(),i.a&&"function"===typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(s),c=function(){a||(a=kn(2e3).then((function(){e(new x("redirect-cancelled-by-user"))})))},f=function(){Wr()&&c()},o.addEventListener("resume",c,!1),Nr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",f,!1)})).o((function(t){return Ac(i).then((function(){throw t}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),f&&o.removeEventListener("visibilitychange",f,!1),a&&a.cancel(),s&&i.Sa(s),i.c=null}))},n.Ea=function(t){this.b.push(t),jc(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new qo("unknown",null,null,null,new x("no-auth-event")),t(e))}))},n.Sa=function(t){J(this.b,(function(e){return e==t}))};var Pc={name:"pendingRedirect",F:"session"};function Cc(t){return uc(t.b,Pc,t.a)}function Rc(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=E(this.s,this),this.b=new Yc,this.C=new tf,this.g=new Nc(zc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Dc(this.D,this.v,this.m,j,this.J)}function Dc(t,n,r,i,o){var a=e.a.SDK_VERSION||null;return _r()?new Sc(t,n,r,a,i,o):new mu(t,n,r,a,i,o)}function Lc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o((function(n){throw t.a==e&&t.reset(),n}))}function Mc(t){t.a.Xb()&&Lc(t).o((function(e){var n=new qo("unknown",null,null,null,new x("operation-not-supported-in-this-environment"));qc(e)&&t.s(n)})),t.a.Tb()||$c(t.b)}function Uc(t,e){Y(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Pc,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?Cc(t.g).then((function(){Lc(t).o((function(e){var n=new qo("unknown",null,null,null,new x("operation-not-supported-in-this-environment"));qc(e)&&t.s(n)}))})):Mc(t)})).o((function(){Mc(t)}))}function Bc(t,e){J(t.h,(function(t){return t==e}))}Rc.prototype.reset=function(){this.f=!1,this.a.Sa(this.l),this.a=Dc(this.D,this.v,this.m,null,this.J),this.i={}},Rc.prototype.s=function(t){if(!t)throw new x("invalid-auth-event");if(6e5<=I()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Fb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=I())),e=!0;break}}return $c(this.b),e};var Fc=new Gr(2e3,1e4),Vc=new Gr(3e4,6e4);function Hc(t,e,n,r,i,o,a){return t.a.Mb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,a)}function qc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Gc(t,e,n,r,i){var o;return function(t){return t.b.set(Pc,"pending",t.a)}(t.g).then((function(){return t.a.Nb(e,n,r,i).o((function(e){if(qc(e))throw new x("operation-not-supported-in-this-environment");return o=e,Cc(t.g).then((function(){throw o}))})).then((function(){return t.a.$b()?new Ee((function(){})):Cc(t.g).then((function(){return t.qa()})).then((function(){})).o((function(){}))}))}))}function Wc(t,e,n,r,i){return t.a.Ob(r,(function(t){e.na(n,null,t,i)}),Fc.get())}Rc.prototype.qa=function(){return this.b.qa()};var Kc={};function zc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Xc(t,e,n,r){var i=zc(e,n,r);return Kc[i]||(Kc[i]=new Rc(t,e,n,r)),Kc[i]}function Yc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function $c(t){t.g||(t.g=!0,Zc(t,!1,null,null))}function Jc(t){t.g&&!t.i&&Zc(t,!1,null,null)}function Qc(t,e){if(t.b=function(){return je(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Zc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Ae(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Qc(t,n):Qc(t,{user:null}),t.f=[],t.c=[]}function tf(){}function ef(){this.ib=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.ib},set:function(t){this.ib=t},enumerable:!1})}function nf(t,e){this.a=e,Qr(this,"verificationId",t)}function rf(t,e,n,r){return new Bo(t).fb(e,n).then((function(t){return new nf(t,r)}))}function of(t){var e=zi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new x("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Zr(this,{token:t,expirationTime:Kr(1e3*e.exp),authTime:Kr(1e3*e.auth_time),issuedAtTime:Kr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function af(t,e,n){var r=e&&e[uf];if(!r)throw new x("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=yt(e),this.g=n,this.c=new uo(null,r),this.b=[];var i=this;W(e[sf]||[],(function(t){(t=ri(t))&&i.b.push(t)})),Qr(this,"auth",this.a),Qr(this,"session",this.c),Qr(this,"hints",this.b)}Yc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Yc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Zc(this,!0,null,t.a),je()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,a=e.T(),s=!!e.c.match(/Redirect$/);n(r,i,a,o).then((function(e){Zc(t,s,e,null)})).o((function(e){Zc(t,s,null,e)}))}(this,t,e):Ae(new x("invalid-auth-event")):(Zc(this,!1,null,null),je())}else Ae(new x("invalid-auth-event"))},Yc.prototype.qa=function(){var t=this;return new Ee((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new x("timeout");t.a&&t.a.cancel(),t.a=kn(Vc.get()).then((function(){t.b||(t.g=!0,Zc(t,!0,null,e))}))}(t))}))},tf.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),je()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then((function(t){e.na(r,t,null,n)})).o((function(t){e.na(r,null,t,n)}))}(t,e):Ae(new x("invalid-auth-event"))}else Ae(new x("invalid-auth-event"))},nf.prototype.confirm=function(t){return t=Fo(this.verificationId,t),this.a(t)};var sf="mfaInfo",uf="mfaPendingCredential";function cf(t,e,n,r){x.call(this,"multi-factor-auth-required",r,e),this.b=new af(t,e,n),Qr(this,"resolver",this.b)}function ff(t,e,n){if(t&&y(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new cf(e,t.serverResponse,n,t.message)}catch(r){}return null}function lf(){}function hf(t){Qr(this,"factorId",t.fa),this.a=t}function df(t){if(hf.call(this,t),this.a.fa!=Bo.PROVIDER_ID)throw new x("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function pf(t,e){for(var n in Qe.call(this,t),e)this[n]=e[n]}function vf(t,e){this.a=t,this.b=[],this.c=E(this.yc,this),ln(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&W(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[ai]=t.uid),t.displayName&&(r[ii]=t.displayName),t.enrollmentTime&&(r[oi]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[si]=t.phoneNumber);try{e=new ui(r)}catch(i){}t=e}else t=null;t&&n.push(t)})),yf(this,n)}function yf(t,e){t.b=e,Qr(t,"enrolledFactors",e)}function gf(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function mf(t,e){t.stop(),t.b=kn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then((function(){return function(){var t=u.document,e=null;return Wr()||!t?je():new Ee((function(n){e=function(){Wr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return t.h()})).then((function(){mf(t,!0)})).o((function(e){t.i(e)&&mf(t,!1)}))}function bf(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function wf(t,e){"undefined"===typeof e&&(t.b?e=(e=t.b).a-e.g:e=0),t.c=Date.now()+1e3*e}function _f(t,e){t.b=Ki(e[ns]||""),t.a=e.refreshToken,wf(t,"undefined"!==typeof(e=e.expiresIn)?Number(e):void 0)}function Ef(t,e){return function(t,e){return new Ee((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?ls(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(cu(t)):t.access_token&&t.refresh_token?n(t):r(new x("internal-error")):r(new x("network-request-failed"))}),"POST",Zn(e).toString(),t.g,t.m.get()):r(new x("internal-error"))}))}(t.f,e).then((function(e){return t.b=Ki(e.access_token),t.a=e.refresh_token,wf(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}function Of(t,e){this.a=t||null,this.b=e||null,Zr(this,{lastSignInTime:Kr(e||null),creationTime:Kr(t||null)})}function If(t,e,n,r,i,o){Zr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function Sf(t,n,r){this.J=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var i=e.a.SDK_VERSION?Ar(e.a.SDK_VERSION):null;this.a=new ts(this.l,C(j),i),t.emulatorConfig&&us(this.a,t.emulatorConfig),this.b=new bf(this.a),Cf(this,n[ns]),_f(this.b,n),Qr(this,"refreshToken",this.b.a),Lf(this,r||{}),On.call(this),this.R=!1,this.s&&Rr()&&(this.i=Xc(this.s,this.l,this.m)),this.S=[],this.h=null,this.u=function(t){return new gf((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.b.c-Date.now()-3e5;return 0<e?e:0}))}(this),this.aa=E(this.hb,this);var o=this;this.ya=null,this.Oa=function(t){o.wa(t.h)},this.ja=null,this.Aa=function(t){us(o.a,t.c)},this.X=null,this.$=[],this.Ba=function(t){kf(o,t.f)},this.ba=null,this.O=new vf(this,r),Qr(this,"multiFactor",this.O)}function Tf(t,e){t.ja&&pn(t.ja,"languageCodeChanged",t.Oa),(t.ja=e)&&ln(e,"languageCodeChanged",t.Oa)}function xf(t,e){t.X&&pn(t.X,"emulatorConfigChanged",t.Aa),(t.X=e)&&ln(e,"emulatorConfigChanged",t.Aa)}function kf(t,n){t.$=n,fs(t.a,e.a.SDK_VERSION?Ar(e.a.SDK_VERSION,t.$):null)}function jf(t,e){t.ba&&pn(t.ba,"frameworkChanged",t.Ba),(t.ba=e)&&ln(e,"frameworkChanged",t.Ba)}function Af(t){try{return e.a.app(t.m).auth()}catch(n){throw new x("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function Nf(t){t.D||t.u.b||(t.u.start(),pn(t,"tokenChanged",t.aa),ln(t,"tokenChanged",t.aa))}function Pf(t){pn(t,"tokenChanged",t.aa),t.u.stop()}function Cf(t,e){t.za=e,Qr(t,"_lat",e)}function Rf(t){for(var e=[],n=0;n<t.S.length;n++)e.push(t.S[n](t));return Pe(e).then((function(){return t}))}function Df(t){t.i&&!t.R&&(t.R=!0,Uc(t.i,t))}function Lf(t,e){Zr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new Of(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Mf(){}function Uf(t){return je().then((function(){if(t.D)throw new x("app-deleted")}))}function Bf(t){return z(t.providerData,(function(t){return t.providerId}))}function Ff(t,e){e&&(Vf(t,e.providerId),t.providerData.push(e))}function Vf(t,e){J(t.providerData,(function(t){return t.providerId==e}))}function Hf(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Qr(t,e,n)}function qf(t,e){t!=e&&(Zr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Qr(t,"metadata",function(t){return new Of(t.a,t.b)}(e.metadata)):Qr(t,"metadata",new Of),W(e.providerData,(function(e){Ff(t,e)})),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.b,e.b),Qr(t,"refreshToken",t.b.a),yf(t.O,e.O.b))}function Gf(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return su(t.a,Us,{idToken:e}).then(E(t.Kc,t))}(t,e).then((function(){return n||Hf(t,"isAnonymous",!1),e}))}))}function Wf(t,e){e[ns]&&t.za!=e[ns]&&(_f(t.b,e),t.dispatchEvent(new pf("tokenChanged")),Cf(t,e[ns]),Hf(t,"refreshToken",t.b.a))}function Kf(t,e){return Gf(t).then((function(){if(Y(Bf(t),e))return Rf(t).then((function(){throw new x("provider-already-linked")}))}))}function zf(t,e,n){return ti({user:t,credential:Vo(e),additionalUserInfo:e=Qi(e),operationType:n})}function Xf(t,e){return Wf(t,e),t.reload().then((function(){return t}))}function Yf(t,n,r,i,o){if(!Rr())return Ae(new x("operation-not-supported-in-this-environment"));if(t.h&&!o)return Ae(t.h);var a=Ji(r.providerId),s=Vr(t.uid+":::"),u=null;(!Mr()||Er())&&t.s&&r.isOAuthProvider&&(u=Eu(t.s,t.l,t.m,n,r,null,s,e.a.SDK_VERSION||null,null,null,t.tenantId));var c=gr(u,a&&a.ua,a&&a.ta);return i=i().then((function(){if(Jf(t),!o)return t.I().then((function(){}))})).then((function(){return Hc(t.i,c,n,r,s,!!u,t.tenantId)})).then((function(){return new Ee((function(e,r){t.na(n,null,new x("cancelled-popup-request"),t.g||null),t.f=e,t.C=r,t.g=s,t.c=Wc(t.i,t,n,c,s)}))})).then((function(t){return c&&yr(c),t?ti(t):null})).o((function(t){throw c&&yr(c),t})),Qf(t,i,o)}function $f(t,e,n,r,i){if(!Rr())return Ae(new x("operation-not-supported-in-this-environment"));if(t.h&&!i)return Ae(t.h);var o=null,a=Vr(t.uid+":::");return r=r().then((function(){if(Jf(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=a,Rf(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(el,t.w(),e.a)),e})).then((function(){return Gc(t.i,e,n,a,t.tenantId)})).o((function(e){if(o=e,t.ha)return nl(t.ha);throw o})).then((function(){if(o)throw o})),Qf(t,r,i)}function Jf(t){if(!t.i||!t.R){if(t.i&&!t.R)throw new x("internal-error");throw new x("auth-domain-config-required")}}function Qf(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),Ae(t.h)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new pf("userInvalidated")),t.h=e),e}))}(t,e,n);return t.J.push(r),r.oa((function(){$(t.J,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=ff(e.w(),Af(t),E(t.jc,t))),n||e}))}function Zf(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[ns]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new Sf(e,n,t);return t.providerData&&W(t.providerData,(function(t){t&&Ff(i,ti(t))})),t.redirectEventId&&(i.ga=t.redirectEventId),i}function tl(t){this.a=t,this.b=oc()}af.prototype.Rc=function(t){var e=this;return t.sb(this.a.a,this.c).then((function(t){var n=yt(e.f);return delete n[sf],delete n[uf],mt(n,t),e.g(n)}))},S(cf,x),lf.prototype.sb=function(t,e,n){return e.type==co?function(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},"undefined"!==typeof r&&(n.displayName=r),mt(n,{phoneVerificationInfo:Uo(t.a)}),su(e,Ls,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return mt(n={mfaPendingCredential:n},{phoneVerificationInfo:Uo(t.a)}),su(e,Ms,n)}))}(this,t,e)},S(hf,lf),S(df,hf),S(pf,Qe),(n=vf.prototype).yc=function(t){yf(this,function(t){var e=[];return W(t.mfaInfo||[],(function(t){(t=ri(t))&&e.push(t)})),e}(t.hd))},n.Rb=function(){return this.a.I().then((function(t){return new uo(t,null)}))},n.fc=function(t,e){var n=this,r=this.a.a;return this.Rb().then((function(n){return t.sb(r,n,e)})).then((function(t){return Wf(n.a,t),n.a.reload()}))},n.bd=function(t){var e=this,n="string"===typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return su(r,au,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=K(e.b,(function(t){return t.uid!=n}));return yf(e,r),Wf(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},n.w=function(){return{multiFactor:{enrolledFactors:z(this.b,(function(t){return t.w()}))}}},gf.prototype.start=function(){this.a=this.c,mf(this,!0)},gf.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},bf.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},bf.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Ae(new x("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?Ef(this,{grant_type:"refresh_token",refresh_token:this.a}):je(null):je({accessToken:this.b.toString(),refreshToken:this.a})},Of.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},S(Sf,On),Sf.prototype.wa=function(t){this.ya=t,ss(this.a,t)},Sf.prototype.la=function(){return this.ya},Sf.prototype.Ga=function(){return Z(this.$)},Sf.prototype.hb=function(){this.u.b&&(this.u.stop(),this.u.start())},Qr(Sf.prototype,"providerId","firebase"),(n=Sf.prototype).reload=function(){var t=this;return Qf(this,Uf(this).then((function(){return Gf(t).then((function(){return Rf(t)})).then(Mf)})))},n.oc=function(t){return this.I(t).then((function(t){return new of(t)}))},n.I=function(t){var e=this;return Qf(this,Uf(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new x("internal-error");return t.accessToken!=e.za&&(Cf(e,t.accessToken),e.dispatchEvent(new pf("tokenChanged"))),Hf(e,"refreshToken",t.refreshToken),t.accessToken})))},n.Kc=function(t){if(!(t=t.users)||!t.length)throw new x("internal-error");Lf(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?z(t,(function(t){return new If(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Ff(this,e[n]);Hf(this,"isAnonymous",!(this.email&&t.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new pf("userReloaded",{hd:t}))},n.Lc=function(t){return $r("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.tb(t)},n.tb=function(t){var e=this,n=null;return Qf(this,t.c(this.a,this.uid).then((function(t){return Wf(e,t),n=zf(e,t,"reauthenticate"),e.h=null,e.reload()})).then((function(){return n})),!0)},n.Cc=function(t){return $r("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.qb(t)},n.qb=function(t){var e=this,n=null;return Qf(this,Kf(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=zf(e,t,"link"),Xf(e,t)})).then((function(){return n})))},n.Dc=function(t,e){var n=this;return Qf(this,Kf(this,"phone").then((function(){return rf(Af(n),t,e,E(n.qb,n))})))},n.Mc=function(t,e){var n=this;return Qf(this,je().then((function(){return rf(Af(n),t,e,E(n.tb,n))})),!0)},n.Bb=function(t){var e=this;return Qf(this,this.I().then((function(n){return e.a.Bb(n,t)})).then((function(t){return Wf(e,t),e.reload()})))},n.ed=function(t){var e=this;return Qf(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return Wf(e,t),e.reload()})))},n.Cb=function(t){var e=this;return Qf(this,this.I().then((function(n){return e.a.Cb(n,t)})).then((function(t){return Wf(e,t),e.reload()})))},n.Db=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Uf(this);var e=this;return Qf(this,this.I().then((function(n){return e.a.Db(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Wf(e,t),Hf(e,"displayName",t.displayName||null),Hf(e,"photoURL",t.photoUrl||null),W(e.providerData,(function(t){"password"===t.providerId&&(Qr(t,"displayName",e.displayName),Qr(t,"photoURL",e.photoURL))})),Rf(e)})).then(Mf))},n.cd=function(t){var e=this;return Qf(this,Gf(this).then((function(n){return Y(Bf(e),t)?function(t,e,n){return su(t,Cs,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return W(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),W(Bf(e),(function(t){n[t]||Vf(e,t)})),n[Bo.PROVIDER_ID]||Qr(e,"phoneNumber",null),Rf(e)})):Rf(e).then((function(){throw new x("no-such-provider")}))})))},n.delete=function(){var t=this;return Qf(this,this.I().then((function(e){return su(t.a,Ps,{idToken:e})})).then((function(){t.dispatchEvent(new pf("userDeleted"))}))).then((function(){for(var e=0;e<t.J.length;e++)t.J[e].cancel("app-deleted");Tf(t,null),xf(t,null),jf(t,null),t.J=[],t.D=!0,Pf(t),Qr(t,"refreshToken",null),t.i&&Bc(t.i,t)}))},n.Fb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},n.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},n.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?E(this.Kb,this):"reauthViaPopup"==t&&e==(this.g||null)?E(this.Lb,this):"linkViaRedirect"==t&&(this.ga||null)==e?E(this.Kb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?E(this.Lb,this):null},n.Ec=function(t){var e=this;return Yf(this,"linkViaPopup",t,(function(){return Kf(e,t.providerId).then((function(){return Rf(e)}))}),!1)},n.Nc=function(t){return Yf(this,"reauthViaPopup",t,(function(){return je()}),!0)},n.Fc=function(t){var e=this;return $f(this,"linkViaRedirect",t,(function(){return Kf(e,t.providerId)}),!1)},n.Oc=function(t){return $f(this,"reauthViaRedirect",t,(function(){return je()}),!0)},n.Kb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Qf(this,this.I().then((function(n){return Ss(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=zf(i,t,"link"),Xf(i,t)})).then((function(){return o})))},n.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Qf(this,je().then((function(){return ho(Ts(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=zf(i,t,"reauthenticate"),Wf(i,t),i.h=null,i.reload()})).then((function(){return o})),!0)},n.ub=function(t){var e=this,n=null;return Qf(this,this.I().then((function(e){return n=e,"undefined"===typeof t||vt(t)?{}:Hi(new Pi(t))})).then((function(t){return e.a.ub(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},n.Eb=function(t,e){var n=this,r=null;return Qf(this,this.I().then((function(t){return r=t,"undefined"===typeof e||vt(e)?{}:Hi(new Pi(e))})).then((function(e){return n.a.Eb(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},n.jc=function(t){var e=null,n=this;return Qf(this,t=ho(je(t),n.uid).then((function(t){return e=zf(n,t,"reauthenticate"),Wf(n,t),n.h=null,n.reload()})).then((function(){return e})),!0)},n.toJSON=function(){return this.w()},n.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.w(),redirectEventId:this.ga||null};return this.metadata&&mt(t,this.metadata.w()),W(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),mt(t,this.O.w()),t};var el={name:"redirectUser",F:"session"};function nl(t){return uc(t.b,el,t.a)}function rl(t){this.a=t,this.b=oc(),this.c=null,this.f=function(t){var e=al("local"),n=al("session"),r=al("none");return function(t,e,n){var r=sc(e,n),i=ac(t,e.F);return t.get(e,n).then((function(o){var a=null;try{a=Fr(u.localStorage.getItem(r))}catch(s){}if(a&&!o)return u.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&u.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(ol,t.a).then((function(t){return t?al(t):e}))}))}))})).then((function(e){return t.c=e,il(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(al("local"),this.a,E(this.g,this))}function il(t,e){var n,r=[];for(n in rc)rc[n]!==e&&r.push(uc(t.b,al(rc[n]),t.a));return r.push(uc(t.b,ol,t.a)),function(t){return new Ee((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},s=0;s<t.length;s++)Ne(t[s],O(o,s),a);else e(i)}))}(r)}rl.prototype.g=function(){var t=this,e=al("local");fl(this,(function(){return je().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return il(t,"local").then((function(){t.c=e}))}))}))};var ol={name:"persistence",F:"session"};function al(t){return{name:"authUser",F:t}}function sl(t,e){return fl(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function ul(t){return fl(t,(function(){return uc(t.b,t.c,t.a)}))}function cl(t,e,n){return fl(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),Zf(t||{})}))}))}function fl(t,e){return t.f=t.f.then(e,e),t.f}function ll(t){if(this.l=!1,Qr(this,"settings",new ef),Qr(this,"app",t),!wl(this).options||!wl(this).options.apiKey)throw new x("invalid-api-key");t=e.a.SDK_VERSION?Ar(e.a.SDK_VERSION):null,this.a=new ts(wl(this).options&&wl(this).options.apiKey,C(j),t),this.R=[],this.s=[],this.O=[],this.hb=e.a.INTERNAL.createSubscribe(E(this.zc,this)),this.X=void 0,this.bc=e.a.INTERNAL.createSubscribe(E(this.Ac,this)),ml(this,null),this.i=new rl(wl(this).options.apiKey+":"+wl(this).name),this.D=new tl(wl(this).options.apiKey+":"+wl(this).name),this.$=Il(this,function(t){var e=wl(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(el,t.a).then((function(t){return t&&e&&(t.authDomain=e),Zf(t||{})}))}(t.D,wl(t).options.authDomain).then((function(e){return(t.m=e)&&(e.ha=t.D),nl(t.D)}));return Il(t,e)}(t).then((function(){return cl(t.i,e,t.P)})).then((function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then((function(){return sl(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:ul(t.i)}))):null})).then((function(e){ml(t,e||null)}));return Il(t,n)}(this)),this.h=Il(this,function(t){return t.$.then((function(){return yl(t)})).o((function(){})).then((function(){if(!t.l)return t.ja()})).o((function(){})).then((function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(al("local"),e.a,t.ja)}}))}(this)),this.ba=!1,this.ja=E(this.Zc,this),this.Ba=E(this.da,this),this.ya=E(this.mc,this),this.za=E(this.wc,this),this.Aa=E(this.xc,this),this.b=null,function(t){var e=wl(t).options.authDomain,n=wl(t).options.apiKey;e&&Rr()&&(t.Oa=t.$.then((function(){if(!t.l){if(t.b=Xc(e,n,wl(t).name,t.P),Uc(t.b,t),_l(t)&&Df(_l(t)),t.m){Df(t.m);var r=t.m;r.wa(t.la()),Tf(r,t),kf(r=t.m,t.J),jf(r,t),us((r=t.m).a,t.P),xf(r,t),t.m=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=E(this.delete,this),this.INTERNAL.logFramework=E(this.Gc,this),this.u=0,On.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.wa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.yb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.P){var t=Vn(this.P.url);t=ti({protocol:t.c,host:t.a,port:t.g,options:ti({disableWarnings:this.P.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.P=null}function hl(t){Qe.call(this,"languageCodeChanged"),this.h=t}function dl(t){Qe.call(this,"emulatorConfigChanged"),this.c=t}function pl(t){Qe.call(this,"frameworkChanged"),this.f=t}function vl(t){return t.Oa||Ae(new x("auth-domain-config-required"))}function yl(t){if(!Rr())return Ae(new x("operation-not-supported-in-this-environment"));var e=vl(t).then((function(){return t.b.qa()})).then((function(t){return t?ti(t):null}));return Il(t,e)}function gl(t,e){var n={};return n.apiKey=wl(t).options.apiKey,n.authDomain=wl(t).options.authDomain,n.appName=wl(t).name,t.P&&(n.emulatorConfig=t.P),t.$.then((function(){return function(t,e,n,r){var i=new Sf(t,e);return n&&(i.ha=n),r&&kf(i,r),i.reload().then((function(){return i}))}(n,e,t.D,t.Ga())})).then((function(e){return _l(t)&&e.uid==_l(t).uid?(qf(_l(t),e),t.da(e)):(ml(t,e),Df(e),t.da(e))})).then((function(){Ol(t)}))}function ml(t,e){_l(t)&&(function(t,e){J(t.S,(function(t){return t==e}))}(_l(t),t.Ba),pn(_l(t),"tokenChanged",t.ya),pn(_l(t),"userDeleted",t.za),pn(_l(t),"userInvalidated",t.Aa),Pf(_l(t))),e&&(e.S.push(t.Ba),ln(e,"tokenChanged",t.ya),ln(e,"userDeleted",t.za),ln(e,"userInvalidated",t.Aa),0<t.u&&Nf(e)),Qr(t,"currentUser",e),e&&(e.wa(t.la()),Tf(e,t),kf(e,t.J),jf(e,t),us(e.a,t.P),xf(e,t))}function bl(t,e){var n=null,r=null;return Il(t,e.then((function(e){return n=Vo(e),r=Qi(e),gl(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=ff(e.w(),t,E(t.kc,t))),n||e})).then((function(){return ti({user:_l(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function wl(t){return t.app}function _l(t){return t.currentUser}function El(t){return _l(t)&&_l(t)._lat||null}function Ol(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](El(t));if(t.X!==t.getUid()&&t.O.length)for(t.X=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](El(t))}}function Il(t,e){return t.R.push(e),e.oa((function(){$(t.R,e)})),e}function Sl(){}function Tl(){this.a={},this.b=1e12}rl.prototype.xb=function(t){var e=null,n=this;return function(t){var e=new x("invalid-persistence-type"),n=new x("unsupported-persistence-type");t:{for(r in rc)if(rc[r]==t){var r=!0;break t}r=!1}if(!r||"string"!==typeof t)throw e;switch(Ir()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Lu()&&"none"!==t)throw n;break;default:if(!Cr()&&"none"!==t)throw n}}(t),fl(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,il(n,t)})).then((function(){if(n.c=al(t),e)return n.b.set(n.c,e,n.a)})):je()}))},S(ll,On),S(hl,Qe),S(dl,Qe),S(pl,Qe),(n=ll.prototype).xb=function(t){return Il(this,t=this.i.xb(t))},n.wa=function(t){this.aa===t||this.l||(this.aa=t,ss(this.a,this.aa),this.dispatchEvent(new hl(this.la())))},n.la=function(){return this.aa},n.fd=function(){var t=u.navigator;this.wa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},n.gd=function(t,e){if(!this.P){if(!/^https?:\/\//.test(t))throw new x("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),u.document&&!t&&wr().then((function(){var t=u.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#ff0000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),u.document.body.appendChild(t)}))})(e=!!e&&!!e.disableWarnings),this.P={url:t,ec:e},this.settings.ib=!0,us(this.a,this.P),this.dispatchEvent(new dl(this.P))}},n.Gc=function(t){this.J.push(t),fs(this.a,e.a.SDK_VERSION?Ar(e.a.SDK_VERSION,this.J):null),this.dispatchEvent(new pl(this.J))},n.Ga=function(){return Z(this.J)},n.yb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},n.T=function(){return this.S},n.toJSON=function(){return{apiKey:wl(this).options.apiKey,authDomain:wl(this).options.authDomain,appName:wl(this).name,currentUser:_l(this)&&_l(this).w()}},n.Fb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},n.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},n.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?E(this.ic,this):null},n.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return bl(i,Is(i.a,o))}))},n.Xc=function(t){if(!Rr())return Ae(new x("operation-not-supported-in-this-environment"));var n=this,r=Ji(t.providerId),i=Vr(),o=null;(!Mr()||Er())&&wl(this).options.authDomain&&t.isOAuthProvider&&(o=Eu(wl(this).options.authDomain,wl(this).options.apiKey,wl(this).name,"signInViaPopup",t,null,i,e.a.SDK_VERSION||null,null,null,this.T(),this.P));var a=gr(o,r&&r.ua,r&&r.ta);return Il(this,r=vl(this).then((function(e){return Hc(e,a,"signInViaPopup",t,i,!!o,n.T())})).then((function(){return new Ee((function(t,e){n.na("signInViaPopup",null,new x("cancelled-popup-request"),n.g),n.f=t,n.C=e,n.g=i,n.c=Wc(n.b,n,"signInViaPopup",a,i)}))})).then((function(t){return a&&yr(a),t?ti(t):null})).o((function(t){throw a&&yr(a),t})))},n.Yc=function(t){if(!Rr())return Ae(new x("operation-not-supported-in-this-environment"));var e=this;return Il(this,vl(this).then((function(){return function(t){return fl(t,(function(){return t.b.set(ol,t.c.F,t.a)}))}(e.i)})).then((function(){return Gc(e.b,"signInViaRedirect",t,void 0,e.T())})))},n.qa=function(){var t=this;return yl(this).then((function(e){return t.b&&Jc(t.b.b),e})).o((function(e){throw t.b&&Jc(t.b.b),e}))},n.dd=function(t){if(!t)return Ae(new x("null-user"));if(this.S!=t.tenantId)return Ae(new x("tenant-id-mismatch"));var e=this,n={};n.apiKey=wl(this).options.apiKey,n.authDomain=wl(this).options.authDomain,n.appName=wl(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[ns]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new Sf(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&kf(e,r),qf(e,t),e}(t,n,e.D,e.Ga());return Il(this,this.h.then((function(){if(wl(e).options.apiKey!=t.l)return r.reload()})).then((function(){return _l(e)&&t.uid==_l(e).uid?(qf(_l(e),t),e.da(t)):(ml(e,r),Df(r),e.da(r))})).then((function(){Ol(e)})))},n.Ab=function(){var t=this;return Il(this,this.h.then((function(){return t.b&&Jc(t.b.b),_l(t)?(ml(t,null),ul(t.i).then((function(){Ol(t)}))):je()})))},n.Zc=function(){var t=this;return cl(this.i,wl(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=_l(t)&&e){n=_l(t).uid;var r=e.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return qf(_l(t),e),_l(t).I();(_l(t)||e)&&(ml(t,e),e&&(Df(e),e.ha=t.D),t.b&&Uc(t.b,t),Ol(t))}}))},n.da=function(t){return sl(this.i,t)},n.mc=function(){Ol(this),this.da(_l(this))},n.wc=function(){this.Ab()},n.xc=function(){this.Ab()},n.kc=function(t){var e=this;return this.h.then((function(){return bl(e,je(t))}))},n.zc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(_l(e))}))},n.Ac=function(t){var e=this;!function(t,e){t.O.push(e),Il(t,t.h.then((function(){!t.l&&Y(t.O,e)&&t.X!==t.getUid()&&(t.X=t.getUid(),e(El(t)))})))}(this,(function(){t.next(_l(e))}))},n.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"===typeof t?t(_l(r)):"function"===typeof t.next&&t.next(_l(r))})),this.hb(t,e,n)},n.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.X=r.getUid(),"function"===typeof t?t(_l(r)):"function"===typeof t.next&&t.next(_l(r))})),this.bc(t,e,n)},n.nc=function(t){var e=this;return Il(this,this.h.then((function(){return _l(e)?_l(e).I(t).then((function(t){return{accessToken:t}})):null})))},n.Tc=function(t){var e=this;return this.h.then((function(){return bl(e,su(e.a,eu,{token:t}))})).then((function(t){var n=t.user;return Hf(n,"isAnonymous",!1),e.da(n),t}))},n.Uc=function(t,e){var n=this;return this.h.then((function(){return bl(n,su(n.a,nu,{email:t,password:e}))}))},n.dc=function(t,e){var n=this;return this.h.then((function(){return bl(n,su(n.a,As,{email:t,password:e}))}))},n.$a=function(t){var e=this;return this.h.then((function(){return bl(e,t.ka(e.a))}))},n.Sc=function(t){return $r("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.$a(t)},n.zb=function(){var t=this;return this.h.then((function(){var e=_l(t);if(e&&e.isAnonymous){var n=ti({providerId:null,isNewUser:!1});return ti({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return bl(t,t.a.zb()).then((function(e){var n=e.user;return Hf(n,"isAnonymous",!0),t.da(n),e}))}))},n.getUid=function(){return _l(this)&&_l(this).uid||null},n.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&_l(this)&&Nf(_l(this))},n.Pc=function(t){var e=this;W(this.s,(function(n){n==t&&e.u--})),0>this.u&&(this.u=0),0==this.u&&_l(this)&&Pf(_l(this)),this.removeAuthTokenListener(t)},n.addAuthTokenListener=function(t){var e=this;this.s.push(t),Il(this,this.h.then((function(){e.l||Y(e.s,t)&&t(El(e))})))},n.removeAuthTokenListener=function(t){J(this.s,(function(e){return e==t}))},n.delete=function(){this.l=!0;for(var t=0;t<this.R.length;t++)this.R[t].cancel("app-deleted");return this.R=[],this.i&&(t=this.i).b.removeListener(al("local"),t.a,this.ja),this.b&&(Bc(this.b,this),Jc(this.b.b)),Promise.resolve()},n.hc=function(t){return Il(this,function(t,e){return su(t,Ns,{identifier:e,continueUri:Dr()?hr():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},n.Bc=function(t){return!!Do(t)},n.wb=function(t,e){var n=this;return Il(this,je().then((function(){var t=new Pi(e);if(!t.c)throw new x("argument-error",Di+" must be true when sending sign in link to email");return Hi(t)})).then((function(e){return n.a.wb(t,e)})).then((function(){})))},n.jd=function(t){return this.Ra(t).then((function(t){return t.data.email}))},n.nb=function(t,e){return Il(this,this.a.nb(t,e).then((function(){})))},n.Ra=function(t){return Il(this,this.a.Ra(t).then((function(t){return new ci(t)})))},n.jb=function(t){return Il(this,this.a.jb(t).then((function(){})))},n.vb=function(t,e){var n=this;return Il(this,je().then((function(){return"undefined"===typeof e||vt(e)?{}:Hi(new Pi(e))})).then((function(e){return n.a.vb(t,e)})).then((function(){})))},n.Wc=function(t,e){return Il(this,rf(this,t,e,E(this.$a,this)))},n.Vc=function(t,e){var n=this;return Il(this,je().then((function(){var r=e||hr(),i=Ro(t,r);if(!(r=Do(r)))throw new x("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new x("tenant-id-mismatch");return n.$a(i)})))},Sl.prototype.render=function(){},Sl.prototype.reset=function(){},Sl.prototype.getResponse=function(){},Sl.prototype.execute=function(){};var xl=null;function kl(t,e){return(e=jl(e))&&t.a[e]||null}function jl(t){return(t="undefined"===typeof t?1e12:t)?t.toString():null}function Al(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=fe(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():ln(this.f,"click",this.i)}function Nl(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Pl(){}function Cl(){}Tl.prototype.render=function(t,e){return this.a[this.b.toString()]=new Al(t,e),this.b++},Tl.prototype.reset=function(t){var e=kl(this,t);t=jl(t),e&&t&&(e.delete(),delete this.a[t])},Tl.prototype.getResponse=function(t){return(t=kl(this,t))?t.getResponse():null},Tl.prototype.execute=function(t){(t=kl(this,t))&&t.execute()},Al.prototype.getResponse=function(){return Nl(this),this.b},Al.prototype.execute=function(){Nl(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()}),6e4)}),500))},Al.prototype.delete=function(){Nl(this),this.g=!0,clearTimeout(this.a),this.a=null,pn(this.f,"click",this.i)},Qr(Pl,"FACTOR_ID","phone"),Cl.prototype.g=function(){return xl||(xl=new Tl),je(xl)},Cl.prototype.c=function(){};var Rl=null;function Dl(){this.b=u.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Ll=new wt(It,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Ml=new Gr(3e4,6e4);Dl.prototype.g=function(t){var e=this;return new Ee((function(n,r){var i=setTimeout((function(){r(new x("network-request-failed"))}),Ml.get());!u.grecaptcha||t!==e.f&&!e.b?(u[e.a]=function(){if(u.grecaptcha){e.f=t;var o=u.grecaptcha.render;u.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(u.grecaptcha)}else clearTimeout(i),r(new x("internal-error"));delete u[e.a]},je(za(kt(Ll,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new x("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(u.grecaptcha))}))},Dl.prototype.c=function(){this.b--};var Ul=null;function Bl(t,e,n,r,i,o,a){if(Qr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.v=e,this.g=null,a?(Rl||(Rl=new Cl),a=Rl):(Ul||(Ul=new Dl),a=Ul),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Hl])throw new x("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[ql],!u.document)throw new x("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!fe(e)||!this.i&&fe(e).hasChildNodes())throw new x("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new ts(t,o||null,i||null),this.u=r||function(){return null};var s=this;this.l=[];var c=this.a[Fl];this.a[Fl]=function(t){if(Gl(s,t),"function"===typeof c)c(t);else if("string"===typeof c){var e=Pr(c,u);"function"===typeof e&&e(t)}};var f=this.a[Vl];this.a[Vl]=function(){if(Gl(s,null),"function"===typeof f)f();else if("string"===typeof f){var t=Pr(f,u);"function"===typeof t&&t()}}}var Fl="callback",Vl="expired-callback",Hl="sitekey",ql="size";function Gl(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function Wl(t,e){return t.h.push(e),e.oa((function(){$(t.h,e)})),e}function Kl(t){if(t.D)throw new x("internal-error","RecaptchaVerifier instance has been destroyed.")}function zl(t,n,r){var i=!1;try{this.b=r||e.a.app()}catch(s){throw new x("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new x("invalid-api-key");r=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().Ga()}catch(s){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}a=e.a.SDK_VERSION?Ar(e.a.SDK_VERSION,a):null,Bl.call(this,r,t,n,(function(){try{var t=o.b.auth().la()}catch(e){t=null}return t}),a,C(j),i)}function Xl(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new x("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=Yl.length)throw new x("internal-error","Argument validator received an unsupported number of arguments.");n=Yl[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new x("argument-error",t+" failed: "+r)}(n=Bl.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Wl(this,je().then((function(){if(Dr()&&!Or())return wr();throw new x("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.u())})).then((function(e){return t.g=e,su(t.s,Gs,{})})).then((function(e){t.a[Hl]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},n.render=function(){Kl(this);var t=this;return Wl(this,this.Ia().then((function(){if(null===t.c){var e=t.v;if(!t.i){var n=fe(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!ce&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Wt(a.name),'"'),a.type){o.push(' type="',Wt(a.type),'"');var s={};mt(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=ye(i,o),a&&("string"===typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):le(o,a)),2<r.length&&ve(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},n.verify=function(){Kl(this);var t=this;return Wl(this,this.render().then((function(e){return new Ee((function(n){var r=t.g.getResponse(e);if(r)n(r);else{t.l.push((function e(r){r&&(function(t,e){J(t.l,(function(t){return t==e}))}(t,e),n(r))})),t.i&&t.g.execute(t.c)}}))})))},n.reset=function(){Kl(this),null!==this.c&&this.g.reset(this.c)},n.clear=function(){Kl(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=fe(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},S(zl,Bl);var Yl="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function $l(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"===typeof t}}}function Jl(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"===typeof t}}}function Ql(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:y}}function Zl(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"===typeof t}}}function th(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function eh(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ka||!n)}}}function nh(t,e){return y(t)&&"string"===typeof t.type&&t.type===e&&"function"===typeof t.Ha}function rh(t){return y(t)&&"string"===typeof t.uid}function ih(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function oh(t,e){for(var n in e){var r=e[n].name;t[r]=uh(r,t[n],e[n].j)}}function ah(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:O((function(t){return this[t]}),n),set:O((function(t,e,n,r){Xl(t,[n],[r],!0),this[e]=r}),r,n,e[n].kb),enumerable:!0})}}function sh(t,e,n,r){t[e]=uh(e,n,r)}function uh(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Xl(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}oh(ll.prototype,{jb:{name:"applyActionCode",j:[$l("code")]},Ra:{name:"checkActionCode",j:[$l("code")]},nb:{name:"confirmPasswordReset",j:[$l("code"),$l("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[$l("email"),$l("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[$l("email")]},qa:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[$l("emailLink")]},Hc:{name:"onAuthStateChanged",j:[ih(Ql(),Zl(),"nextOrObserver"),Zl("opt_error",!0),Zl("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[ih(Ql(),Zl(),"nextOrObserver"),Zl("opt_error",!0),Zl("opt_completed",!0)]},vb:{name:"sendPasswordResetEmail",j:[$l("email"),ih(Ql("opt_actionCodeSettings",!0),th(null,!0),"opt_actionCodeSettings",!0)]},wb:{name:"sendSignInLinkToEmail",j:[$l("email"),Ql("actionCodeSettings")]},xb:{name:"setPersistence",j:[$l("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[eh()]},zb:{name:"signInAnonymously",j:[]},$a:{name:"signInWithCredential",j:[eh()]},Tc:{name:"signInWithCustomToken",j:[$l("token")]},Uc:{name:"signInWithEmailAndPassword",j:[$l("email"),$l("password")]},Vc:{name:"signInWithEmailLink",j:[$l("email"),$l("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[$l("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[ih({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof Sf)}},th(),"user")]},Ab:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[$l(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[$l("url"),Ql("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[$l("code")]}}),ah(ll.prototype,{lc:{name:"languageCode",kb:ih($l(),th(),"languageCode")},ti:{name:"tenantId",kb:ih($l(),th(),"tenantId")}}),ll.Persistence=rc,ll.Persistence.LOCAL="local",ll.Persistence.SESSION="session",ll.Persistence.NONE="none",oh(Sf.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Jl("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Jl("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[eh()]},qb:{name:"linkWithCredential",j:[eh()]},Dc:{name:"linkWithPhoneNumber",j:[$l("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[eh()]},tb:{name:"reauthenticateWithCredential",j:[eh()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[$l("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},ub:{name:"sendEmailVerification",j:[ih(Ql("opt_actionCodeSettings",!0),th(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[$l(null,!0)]},cd:{name:"unlink",j:[$l("provider")]},Bb:{name:"updateEmail",j:[$l("email")]},Cb:{name:"updatePassword",j:[$l("password")]},ed:{name:"updatePhoneNumber",j:[eh("phone")]},Db:{name:"updateProfile",j:[Ql("profile")]},Eb:{name:"verifyBeforeUpdateEmail",j:[$l("email"),ih(Ql("opt_actionCodeSettings",!0),th(null,!0),"opt_actionCodeSettings",!0)]}}),oh(Tl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),oh(Sl.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),oh(Ee.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),ah(ef.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",kb:Jl("appVerificationDisabledForTesting")}}),oh(nf.prototype,{confirm:{name:"confirm",j:[$l("verificationCode")]}}),sh(lo,"fromJSON",(function(t){t="string"===typeof t?JSON.parse(t):t;for(var e,n=[bo,Po,Mo,yo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[ih($l(),Ql(),"json")]),sh(Co,"credential",(function(t,e){return new No(t,e)}),[$l("email"),$l("password")]),oh(No.prototype,{w:{name:"toJSON",j:[$l(null,!0)]}}),oh(Oo.prototype,{Ca:{name:"addScope",j:[$l("scope")]},Ka:{name:"setCustomParameters",j:[Ql("customOAuthParameters")]}}),sh(Oo,"credential",Io,[ih($l(),Ql(),"token")]),sh(Co,"credentialWithLink",Ro,[$l("email"),$l("emailLink")]),oh(So.prototype,{Ca:{name:"addScope",j:[$l("scope")]},Ka:{name:"setCustomParameters",j:[Ql("customOAuthParameters")]}}),sh(So,"credential",To,[ih($l(),Ql(),"token")]),oh(xo.prototype,{Ca:{name:"addScope",j:[$l("scope")]},Ka:{name:"setCustomParameters",j:[Ql("customOAuthParameters")]}}),sh(xo,"credential",ko,[ih($l(),ih(Ql(),th()),"idToken"),ih($l(),th(),"accessToken",!0)]),oh(jo.prototype,{Ka:{name:"setCustomParameters",j:[Ql("customOAuthParameters")]}}),sh(jo,"credential",Ao,[ih($l(),Ql(),"token"),$l("secret",!0)]),oh(Eo.prototype,{Ca:{name:"addScope",j:[$l("scope")]},credential:{name:"credential",j:[ih($l(),ih(Ql(),th()),"optionsOrIdToken"),ih($l(),th(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Ql("customOAuthParameters")]}}),oh(go.prototype,{w:{name:"toJSON",j:[$l(null,!0)]}}),oh(po.prototype,{w:{name:"toJSON",j:[$l(null,!0)]}}),sh(Bo,"credential",Fo,[$l("verificationId"),$l("verificationCode")]),oh(Bo.prototype,{fb:{name:"verifyPhoneNumber",j:[ih($l(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?nh(t.session,co)&&"string"===typeof t.phoneNumber:t.session&&t.multiFactorHint?nh(t.session,fo)&&rh(t.multiFactorHint):t.session&&t.multiFactorUid?nh(t.session,fo)&&"string"===typeof t.multiFactorUid:!!t.phoneNumber&&"string"===typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]}}),oh(Lo.prototype,{w:{name:"toJSON",j:[$l(null,!0)]}}),oh(x.prototype,{toJSON:{name:"toJSON",j:[$l(null,!0)]}}),oh(Yo.prototype,{toJSON:{name:"toJSON",j:[$l(null,!0)]}}),oh(Xo.prototype,{toJSON:{name:"toJSON",j:[$l(null,!0)]}}),oh(cf.prototype,{toJSON:{name:"toJSON",j:[$l(null,!0)]}}),oh(af.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}}]}}),oh(vf.prototype,{Rb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.sb}},$l("displayName",!0)]},bd:{name:"unenroll",j:[ih({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:rh},$l(),"multiFactorInfoIdentifier")]}}),oh(zl.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),sh(Oi,"parseLink",Ni,[$l("link")]),sh(Pl,"assertion",(function(t){return new df(t)}),[eh("phone")]),function(){if("undefined"===typeof e.a||!e.a.INTERNAL||!e.a.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:li,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:fi,VERIFY_AND_CHANGE_EMAIL:hi,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:ll,AuthCredential:lo,Error:x};sh(t,"EmailAuthProvider",Co,[]),sh(t,"FacebookAuthProvider",Oo,[]),sh(t,"GithubAuthProvider",So,[]),sh(t,"GoogleAuthProvider",xo,[]),sh(t,"TwitterAuthProvider",jo,[]),sh(t,"OAuthProvider",Eo,[$l("providerId")]),sh(t,"SAMLAuthProvider",_o,[$l("providerId")]),sh(t,"PhoneAuthProvider",Bo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof ll)}}]),sh(t,"RecaptchaVerifier",zl,[ih($l(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Ql("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof e.a.app.App)}}]),sh(t,"ActionCodeURL",Oi,[]),sh(t,"PhoneMultiFactorGenerator",Pl,[]),e.a.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new ll(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),e.a.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:E((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:E(t.nc,t),addAuthTokenListener:E(t.cc,t),removeAuthTokenListener:E(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),e.a.registerVersion("@firebase/auth","0.16.3"),e.a.INTERNAL.extendNamespace({User:Sf})}()}).apply("undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})}).call(this,n(34))},1565:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return ic})),n.d(e,"b",(function(){return fc})),n.d(e,"c",(function(){return hc})),n.d(e,"d",(function(){return R})),n.d(e,"e",(function(){return ac})),n.d(e,"f",(function(){return oc})),n.d(e,"g",(function(){return uc})),n.d(e,"h",(function(){return bu})),n.d(e,"i",(function(){return mu})),n.d(e,"j",(function(){return js})),n.d(e,"k",(function(){return yc})),n.d(e,"l",(function(){return Ic})),n.d(e,"m",(function(){return mc})),n.d(e,"n",(function(){return _c})),n.d(e,"o",(function(){return cc})),n.d(e,"p",(function(){return Oc})),n.d(e,"q",(function(){return wc})),n.d(e,"r",(function(){return gc}));var r=n(1320),i=n(1282),o=n(1399),a=n(16),s=function(t,e,n,r,i,o){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=o},u=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),c=new r.b("@firebase/firestore");function f(){return c.logLevel}function l(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(c.logLevel<=r.a.DEBUG){var i=e.map(p);c.debug.apply(c,Object(a.__spreadArrays)(["Firestore (8.2.6): "+t],i))}}function h(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(c.logLevel<=r.a.ERROR){var i=e.map(p);c.error.apply(c,Object(a.__spreadArrays)(["Firestore (8.2.6): "+t],i))}}function d(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(c.logLevel<=r.a.WARN){var i=e.map(p);c.warn.apply(c,Object(a.__spreadArrays)(["Firestore (8.2.6): "+t],i))}}function p(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}function v(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.6) INTERNAL ASSERTION FAILED: "+t;throw h(e),new Error(e)}function y(t,e){t||v()}function g(t,e){return t}function m(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var b=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=m(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function w(t,e){return t<e?-1:t>e?1:0}function _(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function E(t){return t+"\0"}var O=function(){function t(t){this.h=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.h,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.h)},t.prototype.l=function(){return 2*this.h.length},t.prototype._=function(t){return w(this.h,t.h)},t.prototype.isEqual=function(t){return this.h===t.h},t}();O.T=new O("");var I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},S=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(a.__extends)(e,t),e}(Error),T=function(){function t(t){this.I=t}return t.fromBase64String=function(e){try{return new t(O.fromBase64String(e))}catch(e){throw new S(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(O.fromUint8Array(e))},t.prototype.toBase64=function(){return this.I.toBase64()},t.prototype.toUint8Array=function(){return this.I.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.I.isEqual(t.I)},t}(),x=function(){function t(t){this.uid=t}return t.prototype.m=function(){return null!=this.uid},t.prototype.A=function(){return this.m()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();x.UNAUTHENTICATED=new x(null),x.R=new x("google-credentials-uid"),x.P=new x("first-party-uid");var k=function(t,e){this.user=e,this.type="OAuth",this.g={},this.g.Authorization="Bearer "+t},j=function(){function t(){this.V=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.p=function(){},t.prototype.v=function(t){this.V=t,t(x.UNAUTHENTICATED)},t.prototype.S=function(){this.V=null},t}(),A=function(){function t(t){var e=this;this.D=null,this.currentUser=x.UNAUTHENTICATED,this.C=!1,this.N=0,this.V=null,this.forceRefresh=!1,this.D=function(){e.N++,e.currentUser=e.F(),e.C=!0,e.V&&e.V(e.currentUser)},this.N=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.D):(this.D(null),t.get().then((function(t){e.auth=t,e.D&&e.auth.addAuthTokenListener(e.D)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.N,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.N!==e?(l("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(y("string"==typeof n.accessToken),new k(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.p=function(){this.forceRefresh=!0},t.prototype.v=function(t){this.V=t,this.C&&t(this.currentUser)},t.prototype.S=function(){this.auth&&this.auth.removeAuthTokenListener(this.D),this.D=null,this.V=null},t.prototype.F=function(){var t=this.auth&&this.auth.getUid();return y(null===t||"string"==typeof t),new x(t)},t}(),N=function(){function t(t,e){this.O=t,this.k=e,this.type="FirstParty",this.user=x.P}return Object.defineProperty(t.prototype,"g",{get:function(){var t={"X-Goog-AuthUser":this.k},e=this.O.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),P=function(){function t(t,e){this.O=t,this.k=e}return t.prototype.getToken=function(){return Promise.resolve(new N(this.O,this.k))},t.prototype.v=function(t){t(x.P)},t.prototype.S=function(){},t.prototype.p=function(){},t}(),C=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.M=function(t){return n.L(t)},this.$=function(t){return e.B(t)})}return t.prototype.L=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.$&&this.$(t),t},t}();C.q=-1;var R=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new S(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new S(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new S(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new S(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.U=function(t){return this.seconds===t.seconds?w(this.nanoseconds,t.nanoseconds):w(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),D=function(){function t(t){this.timestamp=t}return t.K=function(e){return new t(e)},t.min=function(){return new t(new R(0,0))},t.prototype._=function(t){return this.timestamp.U(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.W=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.j=function(){return this.timestamp},t}(),L=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&v(),void 0===n?n=t.length-e:n>t.length-e&&v(),this.segments=t,this.offset=e,this.G=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.G},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.H(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.J(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.Y=function(t){return t=void 0===t?1:t,this.J(this.segments,this.offset+t,this.length-t)},t.prototype.X=function(){return this.J(this.segments,this.offset,this.length-1)},t.prototype.Z=function(){return this.segments[this.offset]},t.prototype.tt=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.et=function(){return 0===this.length},t.prototype.nt=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.st=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.it=function(){return this.segments.slice(this.offset,this.limit())},t.H=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),M=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(e,t),e.prototype.J=function(t,n,r){return new e(t,n,r)},e.prototype.rt=function(){return this.it().join("/")},e.prototype.toString=function(){return this.rt()},e.ot=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new S(I.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.ct=function(){return new e([])},e}(L),U=/^[_a-zA-Z][_a-zA-Z0-9]*$/,B=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(e,t),e.prototype.J=function(t,n,r){return new e(t,n,r)},e.at=function(t){return U.test(t)},e.prototype.rt=function(){return this.it().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.at(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.rt()},e.prototype.ut=function(){return 1===this.length&&"__name__"===this.get(0)},e.ht=function(){return new e(["__name__"])},e.lt=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new S(I.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new S(I.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new S(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new S(I.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.ct=function(){return new e([])},e}(L),F=function(){function t(t){this.path=t}return t._t=function(e){return new t(M.ot(e))},t.ft=function(e){return new t(M.ot(e).Y(5))},t.prototype.dt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===M.H(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.H=function(t,e){return M.H(t.path,e.path)},t.wt=function(t){return t.length%2==0},t.Et=function(e){return new t(new M(e.slice()))},t}();function V(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function H(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function q(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var G=function(){function t(t){this.fields=t,t.sort(B.H)}return t.prototype.Tt=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].nt(t))return!0;return!1},t.prototype.isEqual=function(t){return _(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),W=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function K(t){if(y(!!t),"string"==typeof t){var e=0,n=W.exec(t);if(y(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:z(t.seconds),nanos:z(t.nanos)}}function z(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function X(t){return"string"==typeof t?O.fromBase64String(t):O.fromUint8Array(t)}function Y(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function $(t){var e=t.mapValue.fields.__previous_value__;return Y(e)?$(e):e}function J(t){var e=K(t.mapValue.fields.__local_write_time__.timestampValue);return new R(e.seconds,e.nanos)}function Q(t){return null==t}function Z(t){return 0===t&&1/t==-1/0}function tt(t){return"number"==typeof t&&Number.isInteger(t)&&!Z(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function et(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Y(t)?4:10:v()}function nt(t,e){var n=et(t);if(n!==et(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return J(t).isEqual(J(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=K(t.timestampValue),r=K(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return X(t.bytesValue).isEqual(X(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return z(t.geoPointValue.latitude)===z(e.geoPointValue.latitude)&&z(t.geoPointValue.longitude)===z(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return z(t.integerValue)===z(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=z(t.doubleValue),r=z(e.doubleValue);return n===r?Z(n)===Z(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return _(t.arrayValue.values||[],e.arrayValue.values||[],nt);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(V(n)!==V(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!nt(n[i],r[i])))return!1;return!0}(t,e);default:return v()}}function rt(t,e){return void 0!==(t.values||[]).find((function(t){return nt(t,e)}))}function it(t,e){var n=et(t),r=et(e);if(n!==r)return w(n,r);switch(n){case 0:return 0;case 1:return w(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=z(t.integerValue||t.doubleValue),r=z(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return ot(t.timestampValue,e.timestampValue);case 4:return ot(J(t),J(e));case 5:return w(t.stringValue,e.stringValue);case 6:return function(t,e){var n=X(t),r=X(e);return n._(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=w(n[i],r[i]);if(0!==o)return o}return w(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=w(z(t.latitude),z(e.latitude));return 0!==n?n:w(z(t.longitude),z(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=it(n[i],r[i]);if(o)return o}return w(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=w(r[a],o[a]);if(0!==s)return s;var u=it(n[r[a]],i[o[a]]);if(0!==u)return u}return w(r.length,o.length)}(t.mapValue,e.mapValue);default:throw v()}}function ot(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return w(t,e);var n=K(t),r=K(e),i=w(n.seconds,r.seconds);return 0!==i?i:w(n.nanos,r.nanos)}function at(t){return st(t)}function st(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=K(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?X(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,F.ft(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=st(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+st(t.fields[o])}return e+"}"}(t.mapValue):v();var e,n}function ut(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.rt()}}function ct(t){return!!t&&"integerValue"in t}function ft(t){return!!t&&"arrayValue"in t}function lt(t){return!!t&&"nullValue"in t}function ht(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function dt(t){return!!t&&"mapValue"in t}var pt=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.et())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!dt(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.tt()])||null},t.prototype.isEqual=function(t){return nt(this.proto,t.proto)},t}(),vt=function(){function t(t){void 0===t&&(t=pt.empty()),this.It=t,this.At=new Map}return t.prototype.set=function(t,e){return this.Rt(t,e),this},t.prototype.delete=function(t){return this.Rt(t,null),this},t.prototype.Rt=function(t,e){for(var n=this.At,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===et(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.tt(),e)},t.prototype.Pt=function(){var t=this.yt(B.ct(),this.At);return null!=t?new pt(t):this.It},t.prototype.yt=function(t,e){var n=this,r=!1,i=this.It.field(t),o=dt(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var a=n.yt(t.child(i),e);null!=a&&(o[i]=a,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function yt(t){var e=[];return H(t.fields||{},(function(t,n){var r=new B([t]);if(dt(n)){var i=yt(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];e.push(r.child(s))}}else e.push(r)})),new G(e)}var gt=function(t,e){this.key=t,this.version=e},mt=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).gt=r,o.Vt=!!i.Vt,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Object(a.__extends)(e,t),e.prototype.field=function(t){return this.gt.field(t)},e.prototype.data=function(){return this.gt},e.prototype.bt=function(){return this.gt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Vt===t.Vt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.gt.isEqual(t.gt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.gt.toString()+", {hasLocalMutations: "+this.Vt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Vt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(gt),bt=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(a.__extends)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(gt),wt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(gt),_t=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.vt=null};function Et(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new _t(t,e,n,r,i,o,a)}function Ot(t){var e=g(t);if(null===e.vt){var n=e.path.rt();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.rt()+t.op.toString()+at(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.rt()+t.dir}(t)})).join(","),Q(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Lt(e.startAt)),e.endAt&&(n+="|ub:",n+=Lt(e.endAt)),e.vt=n}return e.vt}function It(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Ut(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!nt(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ft(t.startAt,e.startAt)&&Ft(t.endAt,e.endAt)}function St(t){return F.wt(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Tt=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(a.__extends)(e,t),e.create=function(t,n,r){return t.ut()?"in"===n||"not-in"===n?this.St(t,n,r):new xt(t,n,r):"array-contains"===n?new Nt(t,r):"in"===n?new Pt(t,r):"not-in"===n?new Ct(t,r):"array-contains-any"===n?new Rt(t,r):new e(t,n,r)},e.St=function(t,e,n){return"in"===e?new kt(t,n):new jt(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Dt(it(e,this.value)):null!==e&&et(this.value)===et(e)&&this.Dt(it(e,this.value))},e.prototype.Dt=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return v()}},e.prototype.Ct=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),xt=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=F.ft(r.referenceValue),i}return Object(a.__extends)(e,t),e.prototype.matches=function(t){var e=F.H(t.key,this.key);return this.Dt(e)},e}(Tt),kt=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=At("in",n),r}return Object(a.__extends)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Tt),jt=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=At("not-in",n),r}return Object(a.__extends)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Tt);function At(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return F.ft(t.referenceValue)}))}var Nt=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(a.__extends)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return ft(e)&&rt(e.arrayValue,this.value)},e}(Tt),Pt=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(a.__extends)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&rt(this.value.arrayValue,e)},e}(Tt),Ct=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(a.__extends)(e,t),e.prototype.matches=function(t){if(rt(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!rt(this.value.arrayValue,e)},e}(Tt),Rt=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(a.__extends)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!ft(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return rt(e.value.arrayValue,t)}))},e}(Tt),Dt=function(t,e){this.position=t,this.before=e};function Lt(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return at(t)})).join(",")}var Mt=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Ut(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Bt(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.ut()?F.H(F.ft(a.referenceValue),n.key):it(a,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Ft(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!nt(t.position[n],e.position[n]))return!1;return!0}var Vt=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.xt=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.Nt=null,this.Ft=null,this.startAt,this.endAt};function Ht(t,e,n,r,i,o,a,s){return new Vt(t,e,n,r,i,o,a,s)}function qt(t){return new Vt(t)}function Gt(t){return!Q(t.limit)&&"F"===t.limitType}function Wt(t){return!Q(t.limit)&&"L"===t.limitType}function Kt(t){return t.xt.length>0?t.xt[0].field:null}function zt(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.Ct())return r.field}return null}function Xt(t){return null!==t.collectionGroup}function Yt(t){var e=g(t);if(null===e.Nt){e.Nt=[];var n=zt(e),r=Kt(e);if(null!==n&&null===r)n.ut()||e.Nt.push(new Mt(n)),e.Nt.push(new Mt(B.ht(),"asc"));else{for(var i=!1,o=0,a=e.xt;o<a.length;o++){var s=a[o];e.Nt.push(s),s.field.ut()&&(i=!0)}if(!i){var u=e.xt.length>0?e.xt[e.xt.length-1].dir:"asc";e.Nt.push(new Mt(B.ht(),u))}}}return e.Nt}function $t(t){var e=g(t);if(!e.Ft)if("F"===e.limitType)e.Ft=Et(e.path,e.collectionGroup,Yt(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Yt(e);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new Mt(o.field,a))}var s=e.endAt?new Dt(e.endAt.position,!e.endAt.before):null,u=e.startAt?new Dt(e.startAt.position,!e.startAt.before):null;e.Ft=Et(e.path,e.collectionGroup,n,e.filters,e.limit,s,u)}return e.Ft}function Jt(t,e,n){return new Vt(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Qt(t,e){return It($t(t),$t(e))&&t.limitType===e.limitType}function Zt(t){return Ot($t(t))+"|lt:"+t.limitType}function te(t){return"Query(target="+function(t){var e=t.path.rt();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.rt()+" "+e.op+" "+at(e.value);var e})).join(", ")+"]"),Q(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.rt()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Lt(t.startAt)),t.endAt&&(e+=", endAt: "+Lt(t.endAt)),"Target("+e+")"}($t(t))+"; limitType="+t.limitType+")"}function ee(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.dt(t.collectionGroup)&&t.path.nt(n):F.wt(t.path)?t.path.isEqual(n):t.path.st(n)}(t,e)&&function(t,e){for(var n=0,r=t.xt;n<r.length;n++){var i=r[n];if(!i.field.ut()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Bt(t.startAt,Yt(t),e))&&(!t.endAt||!Bt(t.endAt,Yt(t),e))}(t,e)}function ne(t){return function(e,n){for(var r=!1,i=0,o=Yt(t);i<o.length;i++){var a=o[i],s=re(a,e,n);if(0!==s)return s;r=r||a.field.ut()}return 0}}function re(t,e,n){var r=t.field.ut()?F.H(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?it(r,i):v()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return v()}}var ie=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=D.min()),void 0===o&&(o=D.min()),void 0===a&&(a=O.T),this.target=t,this.targetId=e,this.Ot=n,this.sequenceNumber=r,this.kt=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.Mt=function(e){return new t(this.target,this.targetId,this.Ot,e,this.kt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.Lt=function(e,n){return new t(this.target,this.targetId,this.Ot,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.$t=function(e){return new t(this.target,this.targetId,this.Ot,this.sequenceNumber,this.kt,e,this.resumeToken)},t}();function oe(t,e){if(t.Bt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Z(e)?"-0":e}}function ae(t){return{integerValue:""+t}}function se(t,e){return tt(e)?ae(e):oe(t,e)}var ue=function(){this.qt=void 0};function ce(t,e,n){return t instanceof he?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof de?pe(t,e):t instanceof ve?ye(t,e):function(t,e){var n=le(t,e),r=me(n)+me(t.Ut);return ct(n)&&ct(t.Ut)?ae(r):oe(t.Qt,r)}(t,e)}function fe(t,e,n){return t instanceof de?pe(t,e):t instanceof ve?ye(t,e):n}function le(t,e){return t instanceof ge?ct(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var he=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(e,t),e}(ue),de=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(a.__extends)(e,t),e}(ue);function pe(t,e){for(var n=be(e),r=function(t){n.some((function(e){return nt(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var ve=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(a.__extends)(e,t),e}(ue);function ye(t,e){for(var n=be(e),r=function(t){n=n.filter((function(e){return!nt(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var ge=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qt=e,r.Ut=n,r}return Object(a.__extends)(e,t),e}(ue);function me(t){return z(t.integerValue||t.doubleValue)}function be(t){return ft(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var we=function(t,e){this.field=t,this.transform=e},_e=function(t,e){this.version=t,this.transformResults=e},Ee=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Kt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Wt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Oe(t,e){return void 0!==t.updateTime?e instanceof mt&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof mt}var Ie=function(){};function Se(t,e,n){return t instanceof Ae?function(t,e,n){var r=t.value;if(n.transformResults){var i=Ce(t.fieldTransforms,e,n.transformResults);r=De(t.fieldTransforms,r,i)}return new mt(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Ne?function(t,e,n){if(!Oe(t.jt,e))return new wt(t.key,n.version);var r=Pe(t,e,n.transformResults?Ce(t.fieldTransforms,e,n.transformResults):[]);return new mt(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new bt(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function Te(t,e,n){return t instanceof Ae?function(t,e,n){if(!Oe(t.jt,e))return e;var r=t.value,i=Re(t.fieldTransforms,n,e);r=De(t.fieldTransforms,r,i);var o=je(e);return new mt(t.key,o,r,{Vt:!0})}(t,e,n):t instanceof Ne?function(t,e,n){if(!Oe(t.jt,e))return e;var r=je(e),i=Pe(t,e,Re(t.fieldTransforms,n,e));return new mt(t.key,r,i,{Vt:!0})}(t,e,n):function(t,e){return Oe(t.jt,e)?new bt(t.key,D.min()):e}(t,e)}function xe(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var o=i[r],a=e instanceof mt?e.field(o.field):void 0,s=le(o.transform,a||null);null!=s&&(n=null==n?(new vt).set(o.field,s):n.set(o.field,s))}return n?n.Pt():null}(t.fieldTransforms,e)}function ke(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.jt.isEqual(e.jt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&_(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof de&&e instanceof de||t instanceof ve&&e instanceof ve?_(t.elements,e.elements,nt):t instanceof ge&&e instanceof ge?nt(t.Ut,e.Ut):t instanceof he&&e instanceof he}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.Gt.isEqual(e.Gt))}function je(t){return t instanceof mt?t.version:D.min()}var Ae=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.jt=r,o.fieldTransforms=i,o.type=0,o}return Object(a.__extends)(e,t),e}(Ie),Ne=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=t.call(this)||this).key=e,a.data=n,a.Gt=r,a.jt=i,a.fieldTransforms=o,a.type=1,a}return Object(a.__extends)(e,t),e}(Ie);function Pe(t,e,n){var r;return r=function(t,e){var n=new vt(e);return t.Gt.fields.forEach((function(e){if(!e.et()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.Pt()}(t,r=e instanceof mt?e.data():pt.empty()),De(t.fieldTransforms,r,n)}function Ce(t,e,n){var r=[];y(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=null;e instanceof mt&&(s=e.field(o.field)),r.push(fe(a,s,n[i]))}return r}function Re(t,e,n){for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i],s=a.transform,u=null;n instanceof mt&&(u=n.field(a.field)),r.push(ce(s,u,e))}return r}function De(t,e,n){for(var r=new vt(e),i=0;i<t.length;i++){var o=t[i];r.set(o.field,n[i])}return r.Pt()}var Le,Me,Ue=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.jt=n,r.type=2,r.fieldTransforms=[],r}return Object(a.__extends)(e,t),e}(Ie),Be=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.jt=n,r.type=3,r.fieldTransforms=[],r}return Object(a.__extends)(e,t),e}(Ie),Fe=function(t){this.count=t};function Ve(t){switch(t){case I.OK:return v();case I.CANCELLED:case I.UNKNOWN:case I.DEADLINE_EXCEEDED:case I.RESOURCE_EXHAUSTED:case I.INTERNAL:case I.UNAVAILABLE:case I.UNAUTHENTICATED:return!1;case I.INVALID_ARGUMENT:case I.NOT_FOUND:case I.ALREADY_EXISTS:case I.PERMISSION_DENIED:case I.FAILED_PRECONDITION:case I.ABORTED:case I.OUT_OF_RANGE:case I.UNIMPLEMENTED:case I.DATA_LOSS:return!0;default:return v()}}function He(t){if(void 0===t)return h("GRPC error has no .code"),I.UNKNOWN;switch(t){case Le.OK:return I.OK;case Le.CANCELLED:return I.CANCELLED;case Le.UNKNOWN:return I.UNKNOWN;case Le.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case Le.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case Le.INTERNAL:return I.INTERNAL;case Le.UNAVAILABLE:return I.UNAVAILABLE;case Le.UNAUTHENTICATED:return I.UNAUTHENTICATED;case Le.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case Le.NOT_FOUND:return I.NOT_FOUND;case Le.ALREADY_EXISTS:return I.ALREADY_EXISTS;case Le.PERMISSION_DENIED:return I.PERMISSION_DENIED;case Le.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case Le.ABORTED:return I.ABORTED;case Le.OUT_OF_RANGE:return I.OUT_OF_RANGE;case Le.UNIMPLEMENTED:return I.UNIMPLEMENTED;case Le.DATA_LOSS:return I.DATA_LOSS;default:return v()}}(Me=Le||(Le={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";var qe=function(){function t(t,e){this.H=t,this.root=e||We.EMPTY}return t.prototype.zt=function(e,n){return new t(this.H,this.root.zt(e,n,this.H).copy(null,null,We.Ht,null,null))},t.prototype.remove=function(e){return new t(this.H,this.root.remove(e,this.H).copy(null,null,We.Ht,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.et();){var n=this.H(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.et();){var r=this.H(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.et=function(){return this.root.et()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Jt=function(){return this.root.Jt()},t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(t){return this.root.Xt(t)},t.prototype.forEach=function(t){this.Xt((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.Xt((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.te=function(){return new Ge(this.root,null,this.H,!1)},t.prototype.ee=function(t){return new Ge(this.root,t,this.H,!1)},t.prototype.ne=function(){return new Ge(this.root,null,this.H,!0)},t.prototype.se=function(t){return new Ge(this.root,t,this.H,!0)},t}(),Ge=function(){function t(t,e,n,r){this.ie=r,this.re=[];for(var i=1;!t.et();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.ie?t.left:t.right;else{if(0===i){this.re.push(t);break}this.re.push(t),t=this.ie?t.right:t.left}}return t.prototype.oe=function(){var t=this.re.pop(),e={key:t.key,value:t.value};if(this.ie)for(t=t.left;!t.et();)this.re.push(t),t=t.right;else for(t=t.right;!t.et();)this.re.push(t),t=t.left;return e},t.prototype.ce=function(){return this.re.length>0},t.prototype.ae=function(){if(0===this.re.length)return null;var t=this.re[this.re.length-1];return{key:t.key,value:t.value}},t}(),We=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.et=function(){return!1},t.prototype.Xt=function(t){return this.left.Xt(t)||t(this.key,this.value)||this.right.Xt(t)},t.prototype.Zt=function(t){return this.right.Zt(t)||t(this.key,this.value)||this.left.Zt(t)},t.prototype.min=function(){return this.left.et()?this:this.left.min()},t.prototype.Jt=function(){return this.min().key},t.prototype.Yt=function(){return this.right.et()?this.key:this.right.Yt()},t.prototype.zt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.zt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.zt(t,e,n))).ue()},t.prototype.he=function(){if(this.left.et())return t.EMPTY;var e=this;return e.left.le()||e.left.left.le()||(e=e._e()),(e=e.copy(null,null,null,e.left.he(),null)).ue()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.et()||i.left.le()||i.left.left.le()||(i=i._e()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.le()&&(i=i.fe()),i.right.et()||i.right.le()||i.right.left.le()||(i=i.de()),0===n(e,i.key)){if(i.right.et())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.he())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.ue()},t.prototype.le=function(){return this.color},t.prototype.ue=function(){var t=this;return t.right.le()&&!t.left.le()&&(t=t.we()),t.left.le()&&t.left.left.le()&&(t=t.fe()),t.left.le()&&t.right.le()&&(t=t.Ee()),t},t.prototype._e=function(){var t=this.Ee();return t.right.left.le()&&(t=(t=(t=t.copy(null,null,null,null,t.right.fe())).we()).Ee()),t},t.prototype.de=function(){var t=this.Ee();return t.left.left.le()&&(t=(t=t.fe()).Ee()),t},t.prototype.we=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.fe=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Ee=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Te=function(){var t=this.Ie();return Math.pow(2,t)<=this.size+1},t.prototype.Ie=function(){if(this.le()&&this.left.le())throw v();if(this.right.le())throw v();var t=this.left.Ie();if(t!==this.right.Ie())throw v();return t+(this.le()?0:1)},t}();We.EMPTY=null,We.RED=!0,We.Ht=!1,We.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw v()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw v()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw v()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw v()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw v()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.zt=function(t,e,n){return new We(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.et=function(){return!0},t.prototype.Xt=function(t){return!1},t.prototype.Zt=function(t){return!1},t.prototype.Jt=function(){return null},t.prototype.Yt=function(){return null},t.prototype.le=function(){return!1},t.prototype.Te=function(){return!0},t.prototype.Ie=function(){return 0},t}());var Ke=function(){function t(t){this.H=t,this.data=new qe(this.H)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Jt()},t.prototype.last=function(){return this.data.Yt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Xt((function(e,n){return t(e),!1}))},t.prototype.me=function(t,e){for(var n=this.data.ee(t[0]);n.ce();){var r=n.oe();if(this.H(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Ae=function(t,e){var n;for(n=void 0!==e?this.data.ee(e):this.data.te();n.ce();)if(!t(n.oe().key))return},t.prototype.Re=function(t){var e=this.data.ee(t);return e.ce()?e.oe().key:null},t.prototype.te=function(){return new ze(this.data.te())},t.prototype.ee=function(t){return new ze(this.data.ee(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).zt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.et=function(){return this.data.et()},t.prototype.Pe=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.te(),r=e.data.te();n.ce();){var i=n.oe().key,o=r.oe().key;if(0!==this.H(i,o))return!1}return!0},t.prototype.it=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.H);return n.data=e,n},t}(),ze=function(){function t(t){this.ye=t}return t.prototype.oe=function(){return this.ye.oe().key},t.prototype.ce=function(){return this.ye.ce()},t}(),Xe=new qe(F.H);function Ye(){return Xe}function $e(){return Ye()}var Je=new qe(F.H);function Qe(){return Je}var Ze=new qe(F.H);function tn(){return Ze}var en=new Ke(F.H);function nn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=en,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var rn=new Ke(w);function on(){return rn}var an=function(){function t(t){this.H=t?function(e,n){return t(e,n)||F.H(e.key,n.key)}:function(t,e){return F.H(t.key,e.key)},this.ge=Qe(),this.Ve=new qe(this.H)}return t.pe=function(e){return new t(e.H)},t.prototype.has=function(t){return null!=this.ge.get(t)},t.prototype.get=function(t){return this.ge.get(t)},t.prototype.first=function(){return this.Ve.Jt()},t.prototype.last=function(){return this.Ve.Yt()},t.prototype.et=function(){return this.Ve.et()},t.prototype.indexOf=function(t){var e=this.ge.get(t);return e?this.Ve.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Ve.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Ve.Xt((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.ge.zt(t.key,t),e.Ve.zt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.ge.remove(t),this.Ve.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Ve.te(),r=e.Ve.te();n.ce();){var i=n.oe().key,o=r.oe().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.H=this.H,r.ge=e,r.Ve=n,r},t}(),sn=function(){function t(){this.be=new qe(F.H)}return t.prototype.track=function(t){var e=t.doc.key,n=this.be.get(e);n?0!==t.type&&3===n.type?this.be=this.be.zt(e,t):3===t.type&&1!==n.type?this.be=this.be.zt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.be=this.be.zt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.be=this.be.zt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.be=this.be.remove(e):1===t.type&&2===n.type?this.be=this.be.zt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.be=this.be.zt(e,{type:2,doc:t.doc}):v():this.be=this.be.zt(e,t)},t.prototype.ve=function(){var t=[];return this.be.Xt((function(e,n){t.push(n)})),t},t}(),un=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.Se=n,this.docChanges=r,this.De=i,this.fromCache=o,this.Ce=a,this.xe=s}return t.Ne=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,an.pe(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.De.et()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Ce===t.Ce&&this.De.isEqual(t.De)&&Qt(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Se.isEqual(t.Se)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),cn=function(){function t(t,e,n,r,i){this.kt=t,this.Fe=e,this.Oe=n,this.ke=r,this.Me=i}return t.Le=function(e,n){var r=new Map;return r.set(e,fn.$e(e,n)),new t(D.min(),r,on(),Ye(),nn())},t}(),fn=function(){function t(t,e,n,r,i){this.resumeToken=t,this.Be=e,this.qe=n,this.Ue=r,this.Qe=i}return t.$e=function(e,n){return new t(O.T,n,nn(),nn(),nn())},t}(),ln=function(t,e,n,r){this.Ke=t,this.removedTargetIds=e,this.key=n,this.We=r},hn=function(t,e){this.targetId=t,this.je=e},dn=function(t,e,n,r){void 0===n&&(n=O.T),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},pn=function(){function t(){this.Ge=0,this.ze=gn(),this.He=O.T,this.Je=!1,this.Ye=!0}return Object.defineProperty(t.prototype,"Be",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.He},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Xe",{get:function(){return 0!==this.Ge},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),t.prototype.tn=function(t){t.l()>0&&(this.Ye=!0,this.He=t)},t.prototype.en=function(){var t=nn(),e=nn(),n=nn();return this.ze.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:v()}})),new fn(this.He,this.Je,t,e,n)},t.prototype.nn=function(){this.Ye=!1,this.ze=gn()},t.prototype.sn=function(t,e){this.Ye=!0,this.ze=this.ze.zt(t,e)},t.prototype.rn=function(t){this.Ye=!0,this.ze=this.ze.remove(t)},t.prototype.on=function(){this.Ge+=1},t.prototype.cn=function(){this.Ge-=1},t.prototype.an=function(){this.Ye=!0,this.Je=!0},t}(),vn=function(){function t(t){this.un=t,this.hn=new Map,this.ln=Ye(),this._n=yn(),this.fn=new Ke(w)}return t.prototype.dn=function(t){for(var e=0,n=t.Ke;e<n.length;e++){var r=n[e];t.We instanceof mt?this.wn(r,t.We):t.We instanceof bt&&this.En(r,t.key,t.We)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.En(r,t.key,t.We)},t.prototype.Tn=function(t){var e=this;this.In(t,(function(n){var r=e.mn(n);switch(t.state){case 0:e.An(n)&&r.tn(t.resumeToken);break;case 1:r.cn(),r.Xe||r.nn(),r.tn(t.resumeToken);break;case 2:r.cn(),r.Xe||e.removeTarget(n);break;case 3:e.An(n)&&(r.an(),r.tn(t.resumeToken));break;case 4:e.An(n)&&(e.Rn(n),r.tn(t.resumeToken));break;default:v()}}))},t.prototype.In=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.hn.forEach((function(t,r){n.An(r)&&e(r)}))},t.prototype.Pn=function(t){var e=t.targetId,n=t.je.count,r=this.yn(e);if(r){var i=r.target;if(St(i))if(0===n){var o=new F(i.path);this.En(e,o,new bt(o,D.min()))}else y(1===n);else this.gn(e)!==n&&(this.Rn(e),this.fn=this.fn.add(e))}},t.prototype.Vn=function(t){var e=this,n=new Map;this.hn.forEach((function(r,i){var o=e.yn(i);if(o){if(r.Be&&St(o.target)){var a=new F(o.target.path);null!==e.ln.get(a)||e.pn(i,a)||e.En(i,a,new bt(a,t))}r.Ze&&(n.set(i,r.en()),r.nn())}}));var r=nn();this._n.forEach((function(t,n){var i=!0;n.Ae((function(t){var n=e.yn(t);return!n||2===n.Ot||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new cn(t,n,this.fn,this.ln,r);return this.ln=Ye(),this._n=yn(),this.fn=new Ke(w),i},t.prototype.wn=function(t,e){if(this.An(t)){var n=this.pn(t,e.key)?2:0;this.mn(t).sn(e.key,n),this.ln=this.ln.zt(e.key,e),this._n=this._n.zt(e.key,this.bn(e.key).add(t))}},t.prototype.En=function(t,e,n){if(this.An(t)){var r=this.mn(t);this.pn(t,e)?r.sn(e,1):r.rn(e),this._n=this._n.zt(e,this.bn(e).delete(t)),n&&(this.ln=this.ln.zt(e,n))}},t.prototype.removeTarget=function(t){this.hn.delete(t)},t.prototype.gn=function(t){var e=this.mn(t).en();return this.un.vn(t).size+e.qe.size-e.Qe.size},t.prototype.on=function(t){this.mn(t).on()},t.prototype.mn=function(t){var e=this.hn.get(t);return e||(e=new pn,this.hn.set(t,e)),e},t.prototype.bn=function(t){var e=this._n.get(t);return e||(e=new Ke(w),this._n=this._n.zt(t,e)),e},t.prototype.An=function(t){var e=null!==this.yn(t);return e||l("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.yn=function(t){var e=this.hn.get(t);return e&&e.Xe?null:this.un.Sn(t)},t.prototype.Rn=function(t){var e=this;this.hn.set(t,new pn),this.un.vn(t).forEach((function(n){e.En(t,n,null)}))},t.prototype.pn=function(t,e){return this.un.vn(t).has(e)},t}();function yn(){return new qe(F.H)}function gn(){return new qe(F.H)}var mn={asc:"ASCENDING",desc:"DESCENDING"},bn={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wn=function(t,e){this.t=t,this.Bt=e};function _n(t,e){return t.Bt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function En(t,e){return t.Bt?e.toBase64():e.toUint8Array()}function On(t,e){return _n(t,e.j())}function In(t){return y(!!t),D.K(function(t){var e=K(t);return new R(e.seconds,e.nanos)}(t))}function Sn(t,e){return function(t){return new M(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).rt()}function Tn(t){var e=M.ot(t);return y($n(e)),e}function xn(t,e){return Sn(t.t,e.path)}function kn(t,e){var n=Tn(e);if(n.get(1)!==t.t.projectId)throw new S(I.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new S(I.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new F(Pn(n))}function jn(t,e){return Sn(t.t,e)}function An(t){var e=Tn(t);return 4===e.length?M.ct():Pn(e)}function Nn(t){return new M(["projects",t.t.projectId,"databases",t.t.database]).rt()}function Pn(t){return y(t.length>4&&"documents"===t.get(4)),t.Y(5)}function Cn(t,e,n){return{name:xn(t,e),fields:n.proto.mapValue.fields}}function Rn(t,e,n){var r=kn(t,e.name),i=In(e.updateTime),o=new pt({mapValue:{fields:e.fields}});return new mt(r,i,o,{hasCommittedMutations:!!n})}function Dn(t,e){var n;if(e instanceof Ae)n={update:Cn(t,e.key,e.value)};else if(e instanceof Ue)n={delete:xn(t,e.key)};else if(e instanceof Ne)n={update:Cn(t,e.key,e.data),updateMask:Yn(e.Gt)};else{if(!(e instanceof Be))return v();n={verify:xn(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof he)return{fieldPath:e.field.rt(),setToServerValue:"REQUEST_TIME"};if(n instanceof de)return{fieldPath:e.field.rt(),appendMissingElements:{values:n.elements}};if(n instanceof ve)return{fieldPath:e.field.rt(),removeAllFromArray:{values:n.elements}};if(n instanceof ge)return{fieldPath:e.field.rt(),increment:n.Ut};throw v()}(0,t)}))),e.jt.Wt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:On(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:v()}(t,e.jt)),n}function Ln(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Ee.updateTime(In(t.updateTime)):void 0!==t.exists?Ee.exists(t.exists):Ee.Kt()}(e.currentDocument):Ee.Kt(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)y("REQUEST_TIME"===e.setToServerValue),n=new he;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new de(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new ve(i)}else"increment"in e?n=new ge(t,e.increment):v();var o=B.lt(e.fieldPath);return new we(o,n)}(t,e)})):[];if(e.update){e.update.name;var i=kn(t,e.update.name),o=new pt({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(t){var e=t.fieldPaths||[];return new G(e.map((function(t){return B.lt(t)})))}(e.updateMask);return new Ne(i,o,a,n,r)}return new Ae(i,o,n,r)}if(e.delete){var s=kn(t,e.delete);return new Ue(s,n)}if(e.verify){var u=kn(t,e.verify);return new Be(u,n)}return v()}function Mn(t,e){return{documents:[jn(t,e.path)]}}function Un(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=jn(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=jn(t,r.X()),n.structuredQuery.from=[{collectionId:r.tt()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(ht(t.value))return{unaryFilter:{field:Wn(t.field),op:"IS_NAN"}};if(lt(t.value))return{unaryFilter:{field:Wn(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(ht(t.value))return{unaryFilter:{field:Wn(t.field),op:"IS_NOT_NAN"}};if(lt(t.value))return{unaryFilter:{field:Wn(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wn(t.field),op:Gn(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:Wn(t.field),direction:qn(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.Bt||Q(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=Vn(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Vn(e.endAt)),n}function Bn(t){var e=An(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){y(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=Fn(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(t){return function(t){return new Mt(Kn(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return Q(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Hn(n.startAt));var f=null;return n.endAt&&(f=Hn(n.endAt)),Ht(e,i,s,a,u,"F",c,f)}function Fn(t){return t?void 0!==t.unaryFilter?[Xn(t)]:void 0!==t.fieldFilter?[zn(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return Fn(t)})).reduce((function(t,e){return t.concat(e)})):v():[]}function Vn(t){return{before:t.before,values:t.position}}function Hn(t){var e=!!t.before,n=t.values||[];return new Dt(n,e)}function qn(t){return mn[t]}function Gn(t){return bn[t]}function Wn(t){return{fieldPath:t.rt()}}function Kn(t){return B.lt(t.fieldPath)}function zn(t){return Tt.create(Kn(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return v()}}(t.fieldFilter.op),t.fieldFilter.value)}function Xn(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Kn(t.unaryFilter.field);return Tt.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Kn(t.unaryFilter.field);return Tt.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Kn(t.unaryFilter.field);return Tt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Kn(t.unaryFilter.field);return Tt.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return v()}}function Yn(t){var e=[];return t.fields.forEach((function(t){return e.push(t.rt())})),{fieldPaths:e}}function $n(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Jn=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},Qn=function(){function t(t){var e=this;this.Dn=null,this.Cn=null,this.result=void 0,this.error=void 0,this.xn=!1,this.Nn=!1,t((function(t){e.xn=!0,e.result=t,e.Dn&&e.Dn(t)}),(function(t){e.xn=!0,e.error=t,e.Cn&&e.Cn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Nn&&v(),this.Nn=!0,this.xn?this.error?this.Fn(n,this.error):this.On(e,this.result):new t((function(t,i){r.Dn=function(n){r.On(e,n).next(t,i)},r.Cn=function(e){r.Fn(n,e).next(t,i)}}))},t.prototype.kn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Mn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.On=function(e,n){return e?this.Mn((function(){return e(n)})):t.resolve(n)},t.prototype.Fn=function(e,n){return e?this.Mn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.Ln=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.$n=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.Ln(r)},t}(),Zn=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.Bn=new Jn,this.transaction.oncomplete=function(){n.Bn.resolve()},this.transaction.onabort=function(){e.error?n.Bn.reject(new nr(t,e.error)):n.Bn.resolve()},this.transaction.onerror=function(e){var r=sr(e.target.error);n.Bn.reject(new nr(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new nr(n,e)}},Object.defineProperty(t.prototype,"qn",{get:function(){return this.Bn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Bn.reject(t),this.aborted||(l("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new ir(e)},t}(),tr=function(){function e(t,n,r){this.name=t,this.version=n,this.Un=r,12.2===e.Qn(Object(i.g)())&&h("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(t){return l("SimpleDb","Removing database:",t),or(window.indexedDB.deleteDatabase(t)).kn()},e.Kn=function(){if("undefined"==typeof indexedDB)return!1;if(e.Wn())return!0;var t=Object(i.g)(),n=e.Qn(t),r=0<n&&n<10,o=e.jn(t),a=0<o&&o<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)},e.Wn=function(){var e;return"undefined"!=typeof t&&"YES"===(null===(e=Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}))||void 0===e?void 0:e.Gn)},e.zn=function(t,e){return t.store(e)},e.Qn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.jn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.Hn=function(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e,n=this;return Object(a.__generator)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(l("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new nr(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new S(I.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new nr(t,n))},i.onupgradeneeded=function(t){l("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.Un.Jn(e,i.transaction,t.oldVersion,n.version).next((function(){l("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Yn&&(this.db.onversionchange=function(t){return n.Yn(t)}),this.db)]}}))}))},e.prototype.Xn=function(t){this.Yn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},e.prototype.runTransaction=function(t,e,n,r){return Object(a.__awaiter)(this,void 0,void 0,(function(){var i,o,s,u,c;return Object(a.__generator)(this,(function(f){switch(f.label){case 0:i="readonly"===e,o=0,s=function(){var e,s,c,f,h;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:++o,a.label=1;case 1:return a.trys.push([1,4,,5]),[4,u.Hn(t)];case 2:return u.db=a.sent(),e=Zn.open(u.db,t,i?"readonly":"readwrite",n),s=r(e).catch((function(t){return e.abort(t),Qn.reject(t)})).kn(),c={},s.catch((function(){})),[4,e.qn];case 3:return[2,(c.value=(a.sent(),s),c)];case 4:return f=a.sent(),h="FirebaseError"!==f.name&&o<3,l("SimpleDb","Transaction failed with error:",f.message,"Retrying:",h),u.close(),h?[3,5]:[2,{value:Promise.reject(f)}];case 5:return[2]}}))},u=this,f.label=1;case 1:return[5,s()];case 2:if("object"==typeof(c=f.sent()))return[2,c.value];f.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),er=function(){function t(t){this.Zn=t,this.ts=!1,this.es=null}return Object.defineProperty(t.prototype,"xn",{get:function(){return this.ts},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ns",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Zn=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.ts=!0},t.prototype.ss=function(t){this.es=t},t.prototype.delete=function(){return or(this.Zn.delete())},t}(),nr=function(t){function e(e,n){var r=this;return(r=t.call(this,I.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(a.__extends)(e,t),e}(S);function rr(t){return"IndexedDbTransactionError"===t.name}var ir=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(l("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(l("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),or(n)},t.prototype.add=function(t){return l("SimpleDb","ADD",this.store.name,t,t),or(this.store.add(t))},t.prototype.get=function(t){var e=this;return or(this.store.get(t)).next((function(n){return void 0===n&&(n=null),l("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return l("SimpleDb","DELETE",this.store.name,t),or(this.store.delete(t))},t.prototype.count=function(){return l("SimpleDb","COUNT",this.store.name),or(this.store.count())},t.prototype.rs=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.os(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.cs=function(t,e){l("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.us=!1;var r=this.cursor(n);return this.os(r,(function(t,e,n){return n.delete()}))},t.prototype.hs=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.os(r,e)},t.prototype.ls=function(t){var e=this.cursor({});return new Qn((function(n,r){e.onerror=function(t){var e=sr(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.os=function(t,e){var n=[];return new Qn((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new er(i),a=e(i.primaryKey,i.value,o);if(a instanceof Qn){var s=a.catch((function(t){return o.done(),Qn.reject(t)}));n.push(s)}o.xn?r():null===o.ns?i.continue():i.continue(o.ns)}else r()}})).next((function(){return Qn.Ln(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.us?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function or(t){return new Qn((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=sr(t.target.error);n(e)}}))}var ar=!1;function sr(t){var e=tr.Qn(Object(i.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new S("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return ar||(ar=!0,setTimeout((function(){throw r}),0)),r}}return t}var ur=function(){function t(t,e,n,r,i){this._s=t,this.fs=e,this.ds=n,this.op=r,this.ws=i,this.Es=new Jn,this.then=this.Es.promise.then.bind(this.Es.promise),this.Es.promise.catch((function(t){}))}return t.Ts=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.Is=setTimeout((function(){return e.As()}),t)},t.prototype.Rs=function(){return this.As()},t.prototype.cancel=function(t){null!==this.Is&&(this.clearTimeout(),this.Es.reject(new S(I.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.As=function(){var t=this;this._s.Ps((function(){return null!==t.Is?(t.clearTimeout(),t.op().then((function(e){return t.Es.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.Is&&(this.ws(this),clearTimeout(this.Is),this.Is=null)},t}();function cr(t,e){if(h("AsyncQueue",e+": "+t),rr(t))return new S(I.UNAVAILABLE,e+": "+t);throw t}var fr="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",lr=function(){function t(){this.ys=[]}return t.prototype.gs=function(t){this.ys.push(t)},t.prototype.Vs=function(){this.ys.forEach((function(t){return t()}))},t}();function hr(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=pr(e)),e=dr(t.get(n),e);return pr(e)}function dr(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function pr(t){return t+"\x01\x01"}function vr(t){var e=t.length;if(y(e>=2),2===e)return y("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),M.ct();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("\x01",o);switch((a<0||a>n)&&v(),t.charAt(a+1)){case"\x01":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=t.substring(o,a),i+="\0";break;case"\x11":i+=t.substring(o,a+1);break;default:v()}o=a+2}return new M(r)}var yr=function(t,e){this.seconds=t,this.nanoseconds=e},gr=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};gr.store="owner",gr.key="owner";var mr=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};mr.store="mutationQueues",mr.keyPath="userId";var br=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};br.store="mutations",br.keyPath="batchId",br.userMutationsIndex="userMutationsIndex",br.userMutationsKeyPath=["userId","batchId"];var wr=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,hr(e)]},t.key=function(t,e,n){return[t,hr(e),n]},t}();wr.store="documentMutations",wr.PLACEHOLDER=new wr;var _r=function(t,e){this.path=t,this.readTime=e},Er=function(t,e){this.path=t,this.version=e},Or=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};Or.store="remoteDocuments",Or.readTimeIndex="readTimeIndex",Or.readTimeIndexPath="readTime",Or.collectionReadTimeIndex="collectionReadTimeIndex",Or.collectionReadTimeIndexPath=["parentPath","readTime"];var Ir=function(t){this.byteSize=t};Ir.store="remoteDocumentGlobal",Ir.key="remoteDocumentGlobalKey";var Sr=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};Sr.store="targets",Sr.keyPath="targetId",Sr.queryTargetsIndexName="queryTargetsIndex",Sr.queryTargetsKeyPath=["canonicalId","targetId"];var Tr=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Tr.store="targetDocuments",Tr.keyPath=["targetId","path"],Tr.documentTargetsIndex="documentTargetsIndex",Tr.documentTargetsKeyPath=["path","targetId"];var xr=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};xr.key="targetGlobalKey",xr.store="targetGlobal";var kr=function(t,e){this.collectionId=t,this.parent=e};kr.store="collectionParents",kr.keyPath=["collectionId","parent"];var jr=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};jr.store="clientMetadata",jr.keyPath="clientId";var Ar=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};Ar.store="bundles",Ar.keyPath="bundleId";var Nr=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};Nr.store="namedQueries",Nr.keyPath="name";var Pr=Object(a.__spreadArrays)(Object(a.__spreadArrays)(Object(a.__spreadArrays)(Object(a.__spreadArrays)([mr.store,br.store,wr.store,Or.store,Sr.store,gr.store,xr.store,Tr.store],[jr.store]),[Ir.store]),[kr.store]),[Ar.store,Nr.store]),Cr=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ps=e,r.bs=n,r}return Object(a.__extends)(e,t),e}(lr);function Rr(t,e){var n=g(t);return tr.zn(n.ps,e)}var Dr=function(){function t(t,e,n,r){this.batchId=t,this.vs=e,this.baseMutations=n,this.mutations=r}return t.prototype.Ss=function(t,e,n){for(var r=n.Ds,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=Se(o,e,r[i]))}return e},t.prototype.Cs=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(a=r[n]).key.isEqual(t)&&(e=Te(a,e,this.vs));for(var i=0,o=this.mutations;i<o.length;i++){var a;(a=o[i]).key.isEqual(t)&&(e=Te(a,e,this.vs))}return e},t.prototype.xs=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.Cs(r.key,t.get(r.key));i&&(n=n.zt(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),nn())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&_(this.mutations,t.mutations,(function(t,e){return ke(t,e)}))&&_(this.baseMutations,t.baseMutations,(function(t,e){return ke(t,e)}))},t}(),Lr=function(){function t(t,e,n,r){this.batch=t,this.Ns=e,this.Ds=n,this.Fs=r}return t.from=function(e,n,r){y(e.mutations.length===r.length);for(var i=tn(),o=e.mutations,a=0;a<o.length;a++)i=i.zt(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),Mr=function(t){this.Os=t};function Ur(t,e){if(e.document)return Rn(t.Os,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=F.Et(e.noDocument.path),r=qr(e.noDocument.readTime);return new bt(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=F.Et(e.unknownDocument.path);return r=qr(e.unknownDocument.version),new wt(i,r)}return v()}function Br(t,e,n){var r=Fr(n),i=e.key.path.X().it();if(e instanceof mt){var o=function(t,e){return{name:xn(t,e.key),fields:e.bt().mapValue.fields,updateTime:_n(t,e.version.j())}}(t.Os,e),a=e.hasCommittedMutations;return new Or(null,null,o,a,r,i)}if(e instanceof bt){var s=e.key.path.it(),u=Hr(e.version);return a=e.hasCommittedMutations,new Or(null,new _r(s,u),null,a,r,i)}if(e instanceof wt){var c=e.key.path.it(),f=Hr(e.version);return new Or(new Er(c,f),null,null,!0,r,i)}return v()}function Fr(t){var e=t.j();return[e.seconds,e.nanoseconds]}function Vr(t){var e=new R(t[0],t[1]);return D.K(e)}function Hr(t){var e=t.j();return new yr(e.seconds,e.nanoseconds)}function qr(t){var e=new R(t.seconds,t.nanoseconds);return D.K(e)}function Gr(t,e){for(var n=(e.baseMutations||[]).map((function(e){return Ln(t.Os,e)})),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];if(r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform){var o=e.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var a=e.mutations.map((function(e){return Ln(t.Os,e)})),s=R.fromMillis(e.localWriteTimeMs);return new Dr(e.batchId,s,n,a)}function Wr(t){var e,n,r=qr(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?qr(t.lastLimboFreeSnapshotVersion):D.min();return void 0!==t.query.documents?(y(1===(n=t.query).documents.length),e=$t(qt(An(n.documents[0])))):e=function(t){return $t(Bn(t))}(t.query),new ie(e,t.targetId,0,t.lastListenSequenceNumber,r,i,O.fromBase64String(t.resumeToken))}function Kr(t,e){var n,r=Hr(e.kt),i=Hr(e.lastLimboFreeSnapshotVersion);n=St(e.target)?Mn(t.Os,e.target):Un(t.Os,e.target);var o=e.resumeToken.toBase64();return new Sr(e.targetId,Ot(e.target),r,o,e.sequenceNumber,i,n)}function zr(t){var e=Bn({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Jt(e,e.limit,"L"):e}var Xr=function(){function t(){}return t.prototype.ks=function(t,e){return Yr(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:qr(e.createTime),version:e.version};var e}))},t.prototype.Ms=function(t,e){return Yr(t).put({bundleId:(n=e).id,createTime:Hr(In(n.createTime)),version:n.version});var n},t.prototype.Ls=function(t,e){return $r(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:zr(e.bundledQuery),readTime:qr(e.readTime)};var e}))},t.prototype.$s=function(t,e){return $r(t).put(function(t){return{name:t.name,readTime:Hr(In(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Yr(t){return Rr(t,Ar.store)}function $r(t){return Rr(t,Nr.store)}var Jr=function(){function t(){this.Bs=new Qr}return t.prototype.qs=function(t,e){return this.Bs.add(e),Qn.resolve()},t.prototype.Us=function(t,e){return Qn.resolve(this.Bs.getEntries(e))},t}(),Qr=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.tt(),n=t.X(),r=this.index[e]||new Ke(M.H),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.tt(),n=t.X(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Ke(M.H)).it()},t}(),Zr=function(){function t(){this.Qs=new Qr}return t.prototype.qs=function(t,e){var n=this;if(!this.Qs.has(e)){var r=e.tt(),i=e.X();t.gs((function(){n.Qs.add(e)}));var o={collectionId:r,parent:hr(i)};return ti(t).put(o)}return Qn.resolve()},t.prototype.Us=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[E(e),""],!1,!0);return ti(t).rs(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(vr(o.parent))}return n}))},t}();function ti(t){return Rr(t,kr.store)}var ei={Ks:!1,Ws:0,js:0,Gs:0},ni=function(){function t(t,e,n){this.zs=t,this.Hs=e,this.Js=n}return t.Ys=function(e){return new t(e,t.Xs,t.Zs)},t}();function ri(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){return Object(a.__generator)(this,(function(e){if(t.code!==I.FAILED_PRECONDITION||t.message!==fr)throw t;return l("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}ni.Xs=10,ni.Zs=1e3,ni.ti=new ni(41943040,ni.Xs,ni.Zs),ni.ei=new ni(-1,0,0);var ii=function(){function t(t,e){this.ni=t,this.si=e,this.ii={}}return t.prototype.get=function(t){var e=this.ni(t),n=this.ii[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.si(a,t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.ni(t),r=this.ii[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.si(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.ii[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.ni(t),n=this.ii[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.si(n[r][0],t))return 1===n.length?delete this.ii[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){H(this.ii,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];t(a,s)}}))},t.prototype.et=function(){return q(this.ii)},t}(),oi=function(){function t(){this.ri=new ii((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.oi=!1}return t.prototype.ci=function(t){var e=this.ri.get(t);return e?e.readTime:D.min()},t.prototype.ai=function(t,e){this.ui(),this.ri.set(t.key,{hi:t,readTime:e})},t.prototype.li=function(t,e){void 0===e&&(e=null),this.ui(),this.ri.set(t,{hi:null,readTime:e})},t.prototype._i=function(t,e){this.ui();var n=this.ri.get(e);return void 0!==n?Qn.resolve(n.hi):this.fi(t,e)},t.prototype.getEntries=function(t,e){return this.di(t,e)},t.prototype.apply=function(t){return this.ui(),this.oi=!0,this.wi(t)},t.prototype.ui=function(){},t}();function ai(t,e,n){var r=t.store(br.store),i=t.store(wr.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.hs({range:a},(function(t,e,n){return s++,n.delete()}));o.push(u.next((function(){y(1===s)})));for(var c=[],f=0,l=n.mutations;f<l.length;f++){var h=l[f],d=wr.key(e,h.key.path,n.batchId);o.push(i.delete(d)),c.push(h.key)}return Qn.Ln(o).next((function(){return c}))}function si(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw v();e=t.noDocument}return JSON.stringify(e).length}var ui=function(){function t(t,e,n,r){this.userId=t,this.Qt=e,this.Ei=n,this.Ti=r,this.Ii={}}return t.mi=function(e,n,r,i){return y(""!==e.uid),new t(e.m()?e.uid:"",n,r,i)},t.prototype.Ai=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return fi(t).hs({index:br.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.Ri=function(t,e,n,r){var i=this,o=li(t),a=fi(t);return a.add({}).next((function(s){y("number"==typeof s);for(var u=new Dr(s,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return Dn(t.Os,e)})),i=n.mutations.map((function(e){return Dn(t.Os,e)}));return new br(e,n.batchId,n.vs.toMillis(),r,i)}(i.Qt,i.userId,u),f=[],l=new Ke((function(t,e){return w(t.rt(),e.rt())})),h=0,d=r;h<d.length;h++){var p=d[h],v=wr.key(i.userId,p.key.path,s);l=l.add(p.key.path.X()),f.push(a.put(c)),f.push(o.put(v,wr.PLACEHOLDER))}return l.forEach((function(e){f.push(i.Ei.qs(t,e))})),t.gs((function(){i.Ii[s]=u.keys()})),Qn.Ln(f).next((function(){return u}))}))},t.prototype.Pi=function(t,e){var n=this;return fi(t).get(e).next((function(t){return t?(y(t.userId===n.userId),Gr(n.Qt,t)):null}))},t.prototype.yi=function(t,e){var n=this;return this.Ii[e]?Qn.resolve(this.Ii[e]):this.Pi(t,e).next((function(t){if(t){var r=t.keys();return n.Ii[e]=r,r}return null}))},t.prototype.gi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return fi(t).hs({index:br.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(y(e.batchId>=r),o=Gr(n.Qt,e)),i.done()})).next((function(){return o}))},t.prototype.Vi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return fi(t).hs({index:br.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.pi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return fi(t).rs(br.userMutationsIndex,n).next((function(t){return t.map((function(t){return Gr(e.Qt,t)}))}))},t.prototype.bi=function(t,e){var n=this,r=wr.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return li(t).hs({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],f=vr(u);if(s===n.userId&&e.path.isEqual(f))return fi(t).get(c).next((function(t){if(!t)throw v();y(t.userId===n.userId),o.push(Gr(n.Qt,t))}));a.done()})).next((function(){return o}))},t.prototype.vi=function(t,e){var n=this,r=new Ke(w),i=[];return e.forEach((function(e){var o=wr.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=li(t).hs({range:a},(function(t,i,o){var a=t[0],s=t[1],u=t[2],c=vr(s);a===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),Qn.Ln(i).next((function(){return n.Si(t,r)}))},t.prototype.Di=function(t,e){var n=this,r=e.path,i=r.length+1,o=wr.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Ke(w);return li(t).hs({range:a},(function(t,e,o){var a=t[0],u=t[1],c=t[2],f=vr(u);a===n.userId&&r.nt(f)?f.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Si(t,s)}))},t.prototype.Si=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(fi(t).get(e).next((function(t){if(null===t)throw v();y(t.userId===n.userId),r.push(Gr(n.Qt,t))})))})),Qn.Ln(i).next((function(){return r}))},t.prototype.Ci=function(t,e){var n=this;return ai(t.ps,this.userId,e).next((function(r){return t.gs((function(){n.xi(e.batchId)})),Qn.forEach(r,(function(e){return n.Ti.Ni(t,e)}))}))},t.prototype.xi=function(t){delete this.Ii[t]},t.prototype.Fi=function(t){var e=this;return this.Ai(t).next((function(n){if(!n)return Qn.resolve();var r=IDBKeyRange.lowerBound(wr.prefixForUser(e.userId)),i=[];return li(t).hs({range:r},(function(t,n,r){if(t[0]===e.userId){var o=vr(t[1]);i.push(o)}else r.done()})).next((function(){y(0===i.length)}))}))},t.prototype.Oi=function(t,e){return ci(t,this.userId,e)},t.prototype.ki=function(t){var e=this;return hi(t).get(this.userId).next((function(t){return t||new mr(e.userId,-1,"")}))},t}();function ci(t,e,n){var r=wr.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return li(t).hs({range:o,us:!0},(function(t,n,r){var o=t[0],s=t[1];t[2],o===e&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function fi(t){return Rr(t,br.store)}function li(t){return Rr(t,wr.store)}function hi(t){return Rr(t,mr.store)}var di=function(){function t(t){this.Mi=t}return t.prototype.next=function(){return this.Mi+=2,this.Mi},t.Li=function(){return new t(0)},t.$i=function(){return new t(-1)},t}(),pi=function(){function t(t,e){this.Ti=t,this.Qt=e}return t.prototype.Bi=function(t){var e=this;return this.qi(t).next((function(n){var r=new di(n.highestTargetId);return n.highestTargetId=r.next(),e.Ui(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.Qi=function(t){return this.qi(t).next((function(t){return D.K(new R(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.Ki=function(t){return this.qi(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.Wi=function(t,e,n){var r=this;return this.qi(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.j()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ui(t,i)}))},t.prototype.ji=function(t,e){var n=this;return this.Gi(t,e).next((function(){return n.qi(t).next((function(r){return r.targetCount+=1,n.zi(e,r),n.Ui(t,r)}))}))},t.prototype.Hi=function(t,e){return this.Gi(t,e)},t.prototype.Ji=function(t,e){var n=this;return this.Yi(t,e.targetId).next((function(){return vi(t).delete(e.targetId)})).next((function(){return n.qi(t)})).next((function(e){return y(e.targetCount>0),e.targetCount-=1,n.Ui(t,e)}))},t.prototype.Xi=function(t,e,n){var r=this,i=0,o=[];return vi(t).hs((function(a,s){var u=Wr(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.Ji(t,u)))})).next((function(){return Qn.Ln(o)})).next((function(){return i}))},t.prototype.In=function(t,e){return vi(t).hs((function(t,n){var r=Wr(n);e(r)}))},t.prototype.qi=function(t){return yi(t).get(xr.key).next((function(t){return y(null!==t),t}))},t.prototype.Ui=function(t,e){return yi(t).put(xr.key,e)},t.prototype.Gi=function(t,e){return vi(t).put(Kr(this.Qt,e))},t.prototype.zi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.Zi=function(t){return this.qi(t).next((function(t){return t.targetCount}))},t.prototype.tr=function(t,e){var n=Ot(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return vi(t).hs({range:r,index:Sr.queryTargetsIndexName},(function(t,n,r){var o=Wr(n);It(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.er=function(t,e,n){var r=this,i=[],o=gi(t);return e.forEach((function(e){var a=hr(e.path);i.push(o.put(new Tr(n,a))),i.push(r.Ti.nr(t,n,e))})),Qn.Ln(i)},t.prototype.sr=function(t,e,n){var r=this,i=gi(t);return Qn.forEach(e,(function(e){var o=hr(e.path);return Qn.Ln([i.delete([n,o]),r.Ti.ir(t,n,e)])}))},t.prototype.Yi=function(t,e){var n=gi(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.rr=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=gi(t),i=nn();return r.hs({range:n,us:!0},(function(t,e,n){var r=vr(t[1]),o=new F(r);i=i.add(o)})).next((function(){return i}))},t.prototype.Oi=function(t,e){var n=hr(e.path),r=IDBKeyRange.bound([n],[E(n)],!1,!0),i=0;return gi(t).hs({index:Tr.documentTargetsIndex,us:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Sn=function(t,e){return vi(t).get(e).next((function(t){return t?Wr(t):null}))},t}();function vi(t){return Rr(t,Sr.store)}function yi(t){return Rr(t,xr.store)}function gi(t){return Rr(t,Tr.store)}function mi(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=w(n,i);return 0===a?w(r,o):a}var bi=function(){function t(t){this.cr=t,this.buffer=new Ke(mi),this.ar=0}return t.prototype.ur=function(){return++this.ar},t.prototype.hr=function(t){var e=[t,this.ur()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();mi(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),wi=function(){function t(t,e){this.lr=t,this._s=e,this._r=!1,this.dr=null}return t.prototype.start=function(t){-1!==this.lr.params.zs&&this.wr(t)},t.prototype.stop=function(){this.dr&&(this.dr.cancel(),this.dr=null)},Object.defineProperty(t.prototype,"Er",{get:function(){return null!==this.dr},enumerable:!1,configurable:!0}),t.prototype.wr=function(t){var e=this,n=this._r?3e5:6e4;l("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.dr=this._s.Tr("lru_garbage_collection",n,(function(){return Object(a.__awaiter)(e,void 0,void 0,(function(){var e;return Object(a.__generator)(this,(function(n){switch(n.label){case 0:this.dr=null,this._r=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Ir(this.lr)];case 2:return n.sent(),[3,7];case 3:return rr(e=n.sent())?(l("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,ri(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.wr(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),_i=function(){function t(t,e){this.mr=t,this.params=e}return t.prototype.Ar=function(t,e){return this.mr.Rr(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.Pr=function(t,e){var n=this;if(0===e)return Qn.resolve(C.q);var r=new bi(e);return this.mr.In(t,(function(t){return r.hr(t.sequenceNumber)})).next((function(){return n.mr.yr(t,(function(t){return r.hr(t)}))})).next((function(){return r.maxValue}))},t.prototype.Xi=function(t,e,n){return this.mr.Xi(t,e,n)},t.prototype.gr=function(t,e){return this.mr.gr(t,e)},t.prototype.Vr=function(t,e){var n=this;return-1===this.params.zs?(l("LruGarbageCollector","Garbage collection skipped; disabled"),Qn.resolve(ei)):this.pr(t).next((function(r){return r<n.params.zs?(l("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.zs),ei):n.br(t,e)}))},t.prototype.pr=function(t){return this.mr.pr(t)},t.prototype.br=function(t,e){var n,i,o,a,s,u,c,h=this,d=Date.now();return this.Ar(t,this.params.Hs).next((function(e){return e>h.params.Js?(l("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+h.params.Js+" from "+e),i=h.params.Js):i=e,a=Date.now(),h.Pr(t,i)})).next((function(r){return n=r,s=Date.now(),h.Xi(t,n,e)})).next((function(e){return o=e,u=Date.now(),h.gr(t,n)})).next((function(t){return c=Date.now(),f()<=r.a.DEBUG&&l("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(a-d)+"ms\n\tDetermined least recently used "+i+" in "+(s-a)+"ms\n\tRemoved "+o+" targets in "+(u-s)+"ms\n\tRemoved "+t+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-d)+"ms"),Qn.resolve({Ks:!0,Ws:i,js:o,Gs:t})}))},t}(),Ei=function(){function t(t,e){this.db=t,this.lr=function(t,e){return new _i(t,e)}(this,e)}return t.prototype.Rr=function(t){var e=this.vr(t);return this.db.Sr().Zi(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.vr=function(t){var e=0;return this.yr(t,(function(t){e++})).next((function(){return e}))},t.prototype.In=function(t,e){return this.db.Sr().In(t,e)},t.prototype.yr=function(t,e){return this.Dr(t,(function(t,n){return e(n)}))},t.prototype.nr=function(t,e,n){return Oi(t,n)},t.prototype.ir=function(t,e,n){return Oi(t,n)},t.prototype.Xi=function(t,e,n){return this.db.Sr().Xi(t,e,n)},t.prototype.Ni=function(t,e){return Oi(t,e)},t.prototype.Cr=function(t,e){return function(t,e){var n=!1;return hi(t).ls((function(r){return ci(t,r,e).next((function(t){return t&&(n=!0),Qn.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.gr=function(t,e){var n=this,r=this.db.Fr().Nr(),i=[],o=0;return this.Dr(t,(function(a,s){if(s<=e){var u=n.Cr(t,a).next((function(e){if(!e)return o++,r._i(t,a).next((function(){return r.li(a),gi(t).delete([0,hr(a.path)])}))}));i.push(u)}})).next((function(){return Qn.Ln(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.Mt(t.bs);return this.db.Sr().Hi(t,n)},t.prototype.Or=function(t,e){return Oi(t,e)},t.prototype.Dr=function(t,e){var n,r=gi(t),i=C.q;return r.hs({index:Tr.documentTargetsIndex},(function(t,r){var o=t[0],a=(t[1],r.path),s=r.sequenceNumber;0===o?(i!==C.q&&e(new F(vr(n)),i),i=s,n=a):i=C.q})).next((function(){i!==C.q&&e(new F(vr(n)),i)}))},t.prototype.pr=function(t){return this.db.Fr().kr(t)},t}();function Oi(t,e){return gi(t).put(function(t,e){return new Tr(0,hr(t.path),e)}(e,t.bs))}var Ii=function(){function t(t,e){this.Qt=t,this.Ei=e}return t.prototype.ai=function(t,e,n){return xi(t).put(ki(e),n)},t.prototype.li=function(t,e){var n=xi(t),r=ki(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.Mr(t,r)}))},t.prototype._i=function(t,e){var n=this;return xi(t).get(ki(e)).next((function(t){return n.Lr(t)}))},t.prototype.$r=function(t,e){var n=this;return xi(t).get(ki(e)).next((function(t){var e=n.Lr(t);return e?{hi:e,size:si(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=$e();return this.Br(t,e,(function(t,e){var i=n.Lr(e);r=r.zt(t,i)})).next((function(){return r}))},t.prototype.qr=function(t,e){var n=this,r=$e(),i=new qe(F.H);return this.Br(t,e,(function(t,e){var o=n.Lr(e);o?(r=r.zt(t,o),i=i.zt(t,si(e))):(r=r.zt(t,null),i=i.zt(t,0))})).next((function(){return{Ur:r,Qr:i}}))},t.prototype.Br=function(t,e,n){if(e.et())return Qn.resolve();var r=IDBKeyRange.bound(e.first().path.it(),e.last().path.it()),i=e.te(),o=i.oe();return xi(t).hs({range:r},(function(t,e,r){for(var a=F.Et(t);o&&F.H(o,a)<0;)n(o,null),o=i.oe();o&&o.isEqual(a)&&(n(o,e),o=i.ce()?i.oe():null),o?r.ss(o.path.it()):r.done()})).next((function(){for(;o;)n(o,null),o=i.ce()?i.oe():null}))},t.prototype.Kr=function(t,e,n){var r=this,i=Qe(),o=e.path.length+1,a={};if(n.isEqual(D.min())){var s=e.path.it();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.it(),c=Fr(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=Or.collectionReadTimeIndex}return xi(t).hs(a,(function(t,n,a){if(t.length===o){var s=Ur(r.Qt,n);e.path.nt(s.key.path)?s instanceof mt&&ee(e,s)&&(i=i.zt(s.key,s)):a.done()}})).next((function(){return i}))},t.prototype.Nr=function(t){return new Si(this,!!t&&t.Wr)},t.prototype.kr=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Ti(t).get(Ir.key).next((function(t){return y(!!t),t}))},t.prototype.Mr=function(t,e){return Ti(t).put(Ir.key,e)},t.prototype.Lr=function(t){if(t){var e=Ur(this.Qt,t);return e instanceof bt&&e.version.isEqual(D.min())?null:e}return null},t}(),Si=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jr=e,r.Wr=n,r.Gr=new ii((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return Object(a.__extends)(e,t),e.prototype.wi=function(t){var e=this,n=[],r=0,i=new Ke((function(t,e){return w(t.rt(),e.rt())}));return this.ri.forEach((function(o,a){var s=e.Gr.get(o);if(a.hi){var u=Br(e.jr.Qt,a.hi,e.ci(o));i=i.add(o.path.X());var c=si(u);r+=c-s,n.push(e.jr.ai(t,o,u))}else if(r-=s,e.Wr){var f=Br(e.jr.Qt,new bt(o,D.min()),e.ci(o));n.push(e.jr.ai(t,o,f))}else n.push(e.jr.li(t,o))})),i.forEach((function(r){n.push(e.jr.Ei.qs(t,r))})),n.push(this.jr.updateMetadata(t,r)),Qn.Ln(n)},e.prototype.fi=function(t,e){var n=this;return this.jr.$r(t,e).next((function(t){return null===t?(n.Gr.set(e,0),null):(n.Gr.set(e,t.size),t.hi)}))},e.prototype.di=function(t,e){var n=this;return this.jr.qr(t,e).next((function(t){var e=t.Ur;return t.Qr.forEach((function(t,e){n.Gr.set(t,e)})),e}))},e}(oi);function Ti(t){return Rr(t,Ir.store)}function xi(t){return Rr(t,Or.store)}function ki(t){return t.path.it()}var ji=function(){function t(t){this.Qt=t}return t.prototype.Jn=function(t,e,n,r){var i=this;y(n<r&&n>=0&&r<=11);var o=new Zn("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(gr.store)}(t),function(t){t.createObjectStore(mr.store,{keyPath:mr.keyPath}),t.createObjectStore(br.store,{keyPath:br.keyPath,autoIncrement:!0}).createIndex(br.userMutationsIndex,br.userMutationsKeyPath,{unique:!0}),t.createObjectStore(wr.store)}(t),Ai(t),function(t){t.createObjectStore(Or.store)}(t));var a=Qn.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Tr.store),t.deleteObjectStore(Sr.store),t.deleteObjectStore(xr.store)}(t),Ai(t)),a=a.next((function(){return function(t){var e=t.store(xr.store),n=new xr(0,0,D.min().j(),0);return e.put(xr.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(t,e){return e.store(br.store).rs().next((function(n){t.deleteObjectStore(br.store),t.createObjectStore(br.store,{keyPath:br.keyPath,autoIncrement:!0}).createIndex(br.userMutationsIndex,br.userMutationsKeyPath,{unique:!0});var r=e.store(br.store),i=n.map((function(t){return r.put(t)}));return Qn.Ln(i)}))}(t,o)}))),a=a.next((function(){!function(t){t.createObjectStore(jr.store,{keyPath:jr.keyPath})}(t)}))),n<5&&r>=5&&(a=a.next((function(){return i.zr(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(t){t.createObjectStore(Ir.store)}(t),i.Hr(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.Jr(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Yr(t,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Or.store);e.createIndex(Or.readTimeIndex,Or.readTimeIndexPath,{unique:!1}),e.createIndex(Or.collectionReadTimeIndex,Or.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(a=a.next((function(){return i.Xr(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(t){t.createObjectStore(Ar.store,{keyPath:Ar.keyPath})}(t),function(t){t.createObjectStore(Nr.store,{keyPath:Nr.keyPath})}(t)}))),a},t.prototype.Hr=function(t){var e=0;return t.store(Or.store).hs((function(t,n){e+=si(n)})).next((function(){var n=new Ir(e);return t.store(Ir.store).put(Ir.key,n)}))},t.prototype.zr=function(t){var e=this,n=t.store(mr.store),r=t.store(br.store);return n.rs().next((function(n){return Qn.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.rs(br.userMutationsIndex,i).next((function(r){return Qn.forEach(r,(function(r){y(r.userId===n.userId);var i=Gr(e.Qt,r);return ai(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.Jr=function(t){var e=t.store(Tr.store),n=t.store(Or.store);return t.store(xr.store).get(xr.key).next((function(t){var r=[];return n.hs((function(n,i){var o=new M(n),a=function(t){return[0,hr(t)]}(o);r.push(e.get(a).next((function(n){return n?Qn.resolve():function(n){return e.put(new Tr(0,hr(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return Qn.Ln(r)}))}))},t.prototype.Yr=function(t,e){t.createObjectStore(kr.store,{keyPath:kr.keyPath});var n=e.store(kr.store),r=new Qr,i=function(t){if(r.add(t)){var e=t.tt(),i=t.X();return n.put({collectionId:e,parent:hr(i)})}};return e.store(Or.store).hs({us:!0},(function(t,e){var n=new M(t);return i(n.X())})).next((function(){return e.store(wr.store).hs({us:!0},(function(t,e){t[0];var n=t[1],r=(t[2],vr(n));return i(r.X())}))}))},t.prototype.Xr=function(t){var e=this,n=t.store(Sr.store);return n.hs((function(t,r){var i=Wr(r),o=Kr(e.Qt,i);return n.put(o)}))},t}();function Ai(t){t.createObjectStore(Tr.store,{keyPath:Tr.keyPath}).createIndex(Tr.documentTargetsIndex,Tr.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Sr.store,{keyPath:Sr.keyPath}).createIndex(Sr.queryTargetsIndexName,Sr.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(xr.store)}var Ni="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Pi=function(){function t(e,n,r,i,o,a,s,u,c,f){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Zr=o,this.window=a,this.document=s,this.eo=c,this.no=f,this.so=null,this.io=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ro=null,this.inForeground=!1,this.oo=null,this.co=null,this.ao=Number.NEGATIVE_INFINITY,this.uo=function(t){return Promise.resolve()},!t.Kn())throw new S(I.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ti=new Ei(this,i),this.ho=n+"main",this.Qt=new Mr(u),this.lo=new tr(this.ho,11,new ji(this.Qt)),this._o=new pi(this.Ti,this.Qt),this.Ei=new Zr,this.fo=function(t,e){return new Ii(t,e)}(this.Qt,this.Ei),this.wo=new Xr,this.window&&this.window.localStorage?this.Eo=this.window.localStorage:(this.Eo=null,!1===f&&h("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.To().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new S(I.FAILED_PRECONDITION,Ni);return t.Io(),t.mo(),t.Ao(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t._o.Ki(e)}))})).then((function(e){t.so=new C(e,t.eo)})).then((function(){t.io=!0})).catch((function(e){return t.lo&&t.lo.close(),Promise.reject(e)}))},t.prototype.Ro=function(t){var e=this;return this.uo=function(n){return Object(a.__awaiter)(e,void 0,void 0,(function(){return Object(a.__generator)(this,(function(e){return this.Er?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.Po=function(t){var e=this;this.lo.Xn((function(n){return Object(a.__awaiter)(e,void 0,void 0,(function(){return Object(a.__generator)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.yo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Zr.Ps((function(){return Object(a.__awaiter)(e,void 0,void 0,(function(){return Object(a.__generator)(this,(function(t){switch(t.label){case 0:return this.Er?[4,this.To()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.To=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return Ri(e).put(new jr(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Vo(e).next((function(e){e||(t.isPrimary=!1,t.Zr.po((function(){return t.uo(!1)})))}))})).next((function(){return t.bo(e)})).next((function(n){return t.isPrimary&&!n?t.vo(e).next((function(){return!1})):!!n&&t.So(e).next((function(){return!0}))}))})).catch((function(e){if(rr(e))return l("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return l("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Zr.po((function(){return t.uo(e)})),t.isPrimary=e}))},t.prototype.Vo=function(t){var e=this;return Ci(t).get(gr.key).next((function(t){return Qn.resolve(e.Do(t))}))},t.prototype.Co=function(t){return Ri(t).delete(this.clientId)},t.prototype.xo=function(){return Object(a.__awaiter)(this,void 0,void 0,(function(){var t,e,n,r,i=this;return Object(a.__generator)(this,(function(o){switch(o.label){case 0:return!this.isPrimary||this.No(this.ao,18e5)?[3,2]:(this.ao=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=Rr(t,jr.store);return e.rs().next((function(t){var n=i.Fo(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return Qn.forEach(r,(function(t){return e.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=o.sent(),this.Eo)for(e=0,n=t;e<n.length;e++)r=n[e],this.Eo.removeItem(this.Oo(r.clientId));o.label=2;case 2:return[2]}}))}))},t.prototype.Ao=function(){var t=this;this.co=this.Zr.Tr("client_metadata_refresh",4e3,(function(){return t.To().then((function(){return t.xo()})).then((function(){return t.Ao()}))}))},t.prototype.Do=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.bo=function(t){var e=this;return this.no?Qn.resolve(!0):Ci(t).get(gr.key).next((function(n){if(null!==n&&e.No(n.leaseTimestampMs,5e3)&&!e.ko(n.ownerId)){if(e.Do(n)&&e.networkEnabled)return!0;if(!e.Do(n)){if(!n.allowTabSynchronization)throw new S(I.FAILED_PRECONDITION,Ni);return!1}}return!(!e.networkEnabled||!e.inForeground)||Ri(t).rs().next((function(t){return void 0===e.Fo(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&l("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.Mo=function(){return Object(a.__awaiter)(this,void 0,void 0,(function(){var t=this;return Object(a.__generator)(this,(function(e){switch(e.label){case 0:return this.io=!1,this.Lo(),this.co&&(this.co.cancel(),this.co=null),this.$o(),this.Bo(),[4,this.lo.runTransaction("shutdown","readwrite",[gr.store,jr.store],(function(e){var n=new Cr(e,C.q);return t.vo(n).next((function(){return t.Co(n)}))}))];case 1:return e.sent(),this.lo.close(),this.qo(),[2]}}))}))},t.prototype.Fo=function(t,e){var n=this;return t.filter((function(t){return n.No(t.updateTimeMs,e)&&!n.ko(t.clientId)}))},t.prototype.Uo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return Ri(e).rs().next((function(e){return t.Fo(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Qo=function(t){return ui.mi(t,this.Qt,this.Ei,this.Ti)},t.prototype.Sr=function(){return this._o},t.prototype.Fr=function(){return this.fo},t.prototype.Ko=function(){return this.Ei},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(t,e,n){var r=this;l("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.lo.runTransaction(t,o,Pr,(function(o){return i=new Cr(o,r.so?r.so.next():C.q),"readwrite-primary"===e?r.Vo(i).next((function(t){return!!t||r.bo(i)})).next((function(e){if(!e)throw h("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Zr.po((function(){return r.uo(!1)})),new S(I.FAILED_PRECONDITION,fr);return n(i)})).next((function(t){return r.So(i).next((function(){return t}))})):r.jo(i).next((function(){return n(i)}))})).then((function(t){return i.Vs(),t}))},t.prototype.jo=function(t){var e=this;return Ci(t).get(gr.key).next((function(t){if(null!==t&&e.No(t.leaseTimestampMs,5e3)&&!e.ko(t.ownerId)&&!e.Do(t)&&!(e.no||e.allowTabSynchronization&&t.allowTabSynchronization))throw new S(I.FAILED_PRECONDITION,Ni)}))},t.prototype.So=function(t){var e=new gr(this.clientId,this.allowTabSynchronization,Date.now());return Ci(t).put(gr.key,e)},t.Kn=function(){return tr.Kn()},t.prototype.vo=function(t){var e=this,n=Ci(t);return n.get(gr.key).next((function(t){return e.Do(t)?(l("IndexedDbPersistence","Releasing primary lease."),n.delete(gr.key)):Qn.resolve()}))},t.prototype.No=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(h("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Io=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.oo=function(){t.Zr.Ps((function(){return t.inForeground="visible"===t.document.visibilityState,t.To()}))},this.document.addEventListener("visibilitychange",this.oo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.$o=function(){this.oo&&(this.document.removeEventListener("visibilitychange",this.oo),this.oo=null)},t.prototype.mo=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ro=function(){e.Lo(),e.Zr.Ps((function(){return e.Mo()}))},this.window.addEventListener("unload",this.ro))},t.prototype.Bo=function(){this.ro&&(this.window.removeEventListener("unload",this.ro),this.ro=null)},t.prototype.ko=function(t){var e;try{var n=null!==(null===(e=this.Eo)||void 0===e?void 0:e.getItem(this.Oo(t)));return l("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return h("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.Lo=function(){if(this.Eo)try{this.Eo.setItem(this.Oo(this.clientId),String(Date.now()))}catch(t){h("Failed to set zombie client id.",t)}},t.prototype.qo=function(){if(this.Eo)try{this.Eo.removeItem(this.Oo(this.clientId))}catch(t){}},t.prototype.Oo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Ci(t){return Rr(t,gr.store)}function Ri(t){return Rr(t,jr.store)}function Di(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Li=function(t,e){this.progress=t,this.Go=e},Mi=function(){function t(t,e,n){this.fo=t,this.zo=e,this.Ei=n}return t.prototype.Ho=function(t,e){var n=this;return this.zo.bi(t,e).next((function(r){return n.Jo(t,e,r)}))},t.prototype.Jo=function(t,e,n){return this.fo._i(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].Cs(e,t);return t}))},t.prototype.Yo=function(t,e,n){var r=$e();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].Cs(t,e);r=r.zt(t,e)})),r},t.prototype.Xo=function(t,e){var n=this;return this.fo.getEntries(t,e).next((function(e){return n.Zo(t,e)}))},t.prototype.Zo=function(t,e){var n=this;return this.zo.vi(t,e).next((function(r){var i=n.Yo(t,e,r),o=Ye();return i.forEach((function(t,e){e||(e=new bt(t,D.min())),o=o.zt(t,e)})),o}))},t.prototype.Kr=function(t,e,n){return function(t){return F.wt(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.tc(t,e.path):Xt(e)?this.ec(t,e,n):this.nc(t,e,n)},t.prototype.tc=function(t,e){return this.Ho(t,new F(e)).next((function(t){var e=Qe();return t instanceof mt&&(e=e.zt(t.key,t)),e}))},t.prototype.ec=function(t,e,n){var r=this,i=e.collectionGroup,o=Qe();return this.Ei.Us(t,i).next((function(a){return Qn.forEach(a,(function(a){var s=function(t,e){return new Vt(e,null,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,a.child(i));return r.nc(t,s,n).next((function(t){t.forEach((function(t,e){o=o.zt(t,e)}))}))})).next((function(){return o}))}))},t.prototype.nc=function(t,e,n){var r,i,o=this;return this.fo.Kr(t,e,n).next((function(n){return r=n,o.zo.Di(t,e)})).next((function(e){return i=e,o.sc(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,f=Te(u,r.get(c),o.vs);r=f instanceof mt?r.zt(c,f):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){ee(e,n)||(r=r.remove(t))})),r}))},t.prototype.sc=function(t,e,n){for(var r=nn(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Ne&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.fo.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof mt&&(c=c.zt(t,e))})),c}))},t}(),Ui=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.ic=n,this.rc=r}return t.oc=function(e,n){for(var r=nn(),i=nn(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Bi=function(){function t(){}return t.prototype.cc=function(t){this.ac=t},t.prototype.Kr=function(t,e,n,i){var o=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.xt.length||1===t.xt.length&&t.xt[0].field.ut())}(e)||n.isEqual(D.min())?this.uc(t,e):this.ac.Xo(t,i).next((function(a){var s=o.hc(e,a);return(Gt(e)||Wt(e))&&o.lc(e.limitType,s,i,n)?o.uc(t,e):(f()<=r.a.DEBUG&&l("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),te(e)),o.ac.Kr(t,e,n).next((function(t){return s.forEach((function(e){t=t.zt(e.key,e)})),t})))}))},t.prototype.hc=function(t,e){var n=new Ke(ne(t));return e.forEach((function(e,r){r instanceof mt&&ee(t,r)&&(n=n.add(r))})),n},t.prototype.lc=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version._(r)>0)},t.prototype.uc=function(t,e){return f()<=r.a.DEBUG&&l("QueryEngine","Using full collection scan to execute query:",te(e)),this.ac.Kr(t,e,D.min())},t}(),Fi=function(){function t(t,e,n,r){this.persistence=t,this._c=e,this.Qt=r,this.fc=new qe(w),this.dc=new ii((function(t){return Ot(t)}),It),this.wc=D.min(),this.zo=t.Qo(n),this.Ec=t.Fr(),this._o=t.Sr(),this.Tc=new Mi(this.Ec,this.zo,this.persistence.Ko()),this.wo=t.Wo(),this._c.cc(this.Tc)}return t.prototype.Ir=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.Vr(n,e.fc)}))},t}();function Vi(t,e,n,r){return new Fi(t,e,n,r)}function Hi(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return n=g(t),r=n.zo,i=n.Tc,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var o;return n.zo.pi(t).next((function(a){return o=a,r=n.persistence.Qo(e),i=new Mi(n.Ec,r,n.persistence.Ko()),r.pi(t)})).next((function(e){for(var n=[],r=[],a=nn(),s=0,u=o;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var f=0,l=c.mutations;f<l.length;f++){var h=l[f];a=a.add(h.key)}}for(var d=0,p=e;d<p.length;d++){var v=p[d];r.push(v.batchId);for(var y=0,g=v.mutations;y<g.length;y++){var m=g[y];a=a.add(m.key)}}return i.Xo(t,a).next((function(t){return{Ic:t,mc:n,Ac:r}}))}))}))];case 1:return o=a.sent(),[2,(n.zo=r,n.Tc=i,n._c.cc(n.Tc),o)]}}))}))}function qi(t,e){var n=g(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.Ec.Nr({Wr:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),a=Qn.resolve();return o.forEach((function(t){a=a.next((function(){return r._i(e,t)})).next((function(e){var o=e,a=n.Fs.get(t);y(null!==a),(!o||o.version._(a)<0)&&(o=i.Ss(t,o,n))&&r.ai(o,n.Ns)}))})),a.next((function(){return t.zo.Ci(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n.zo.Fi(t)})).next((function(){return n.Tc.Xo(t,r)}))}))}function Gi(t){var e=g(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e._o.Qi(t)}))}function Wi(t,e){var n=g(t),r=e.kt,i=n.fc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.Ec.Nr({Wr:!0});i=n.fc;var a=[];e.Fe.forEach((function(e,o){var s=i.get(o);if(s){a.push(n._o.sr(t,e.Qe,o).next((function(){return n._o.er(t,e.qe,o)})));var u=e.resumeToken;if(u.l()>0){var c=s.Lt(u,r).Mt(t.bs);i=i.zt(o,c),function(t,e,n){return y(e.resumeToken.l()>0),0===t.resumeToken.l()||e.kt.W()-t.kt.W()>=3e8||n.qe.size+n.Ue.size+n.Qe.size>0}(s,c,e)&&a.push(n._o.Hi(t,c))}}}));var s=Ye();if(e.ke.forEach((function(r,i){e.Me.has(r)&&a.push(n.persistence.Ti.Or(t,r))})),a.push(Ki(t,o,e.ke,r,void 0).next((function(t){s=t}))),!r.isEqual(D.min())){var u=n._o.Qi(t).next((function(e){return n._o.Wi(t,t.bs,r)}));a.push(u)}return Qn.Ln(a).next((function(){return o.apply(t)})).next((function(){return n.Tc.Zo(t,s)}))})).then((function(t){return n.fc=i,t}))}function Ki(t,e,n,r,i){var o=nn();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=Ye();return n.forEach((function(n,a){var s=t.get(n),u=(null==i?void 0:i.get(n))||r;a instanceof bt&&a.version.isEqual(D.min())?(e.li(n,u),o=o.zt(n,a)):null==s||a.version._(s.version)>0||0===a.version._(s.version)&&s.hasPendingWrites?(e.ai(a,u),o=o.zt(n,a)):l("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function zi(t,e){var n=g(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n.zo.gi(t,e)}))}function Xi(t,e){var n=g(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n._o.tr(t,e).next((function(i){return i?(r=i,Qn.resolve(r)):n._o.Bi(t).next((function(i){return r=new ie(e,i,0,t.bs),n._o.ji(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.fc.get(t.targetId);return(null===r||t.kt._(r.kt)>0)&&(n.fc=n.fc.zt(t.targetId,t),n.dc.set(e,t.targetId)),t}))}function Yi(t,e,n){return Object(a.__awaiter)(this,void 0,void 0,(function(){var r,i,o,s;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:r=g(t),i=r.fc.get(e),o=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",o,(function(t){return r.persistence.Ti.removeTarget(t,i)}))];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!rr(s=a.sent()))throw s;return l("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.fc=r.fc.remove(e),r.dc.delete(i.target),[2]}}))}))}function $i(t,e,n){var r=g(t),i=D.min(),o=nn();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=g(t),i=r.dc.get(n);return void 0!==i?Qn.resolve(r.fc.get(i)):r._o.tr(e,n)}(r,t,$t(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r._o.rr(t,e.targetId).next((function(t){o=t}))})).next((function(){return r._c.Kr(t,e,n?i:D.min(),n?o:nn())})).next((function(t){return{documents:t,Rc:o}}))}))}function Ji(t,e){var n=g(t),r=g(n._o),i=n.fc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Sn(t,e).next((function(t){return t?t.target:null}))}))}function Qi(t){var e=g(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=g(t),i=Ye(),o=Fr(n),a=xi(e),s=IDBKeyRange.lowerBound(o,!0);return a.hs({index:Or.readTimeIndex,range:s},(function(t,e){var n=Ur(r.Qt,e);i=i.zt(n.key,n),o=e.readTime})).next((function(){return{Go:i,readTime:Vr(o)}}))}(e.Ec,t,e.wc)})).then((function(t){var n=t.Go,r=t.readTime;return e.wc=r,n}))}function Zi(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e;return Object(a.__generator)(this,(function(n){return[2,(e=g(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=xi(t),n=D.min();return e.hs({index:Or.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=Vr(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.wc=t}))]}))}))}function to(t,e,n,r){return Object(a.__awaiter)(this,void 0,void 0,(function(){var i,o,s,u,c,f,l,h,d,p;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:for(i=g(t),o=nn(),s=Ye(),u=tn(),c=0,f=n;c<f.length;c++)l=f[c],h=e.Pc(l.metadata.name),l.document&&(o=o.add(h)),s=s.zt(h,e.yc(l)),u=u.zt(h,e.gc(l.metadata.readTime));return d=i.Ec.Nr({Wr:!0}),[4,Xi(i,function(t){return $t(qt(M.ot("__bundle__/docs/"+t)))}(r))];case 1:return p=a.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return Ki(t,d,s,D.min(),u).next((function(e){return d.apply(t),e})).next((function(e){return i._o.Yi(t,p.targetId).next((function(){return i._o.er(t,o,p.targetId)})).next((function(){return i.Tc.Zo(t,e)}))}))}))]}}))}))}function eo(t,e,n){return void 0===n&&(n=nn()),Object(a.__awaiter)(this,void 0,void 0,(function(){var r,i;return Object(a.__generator)(this,(function(o){switch(o.label){case 0:return[4,Xi(t,$t(zr(e.bundledQuery)))];case 1:return r=o.sent(),[2,(i=g(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var o=In(e.readTime);if(r.kt._(o)>=0)return i.wo.$s(t,e);var a=r.Lt(O.T,o);return i.fc=i.fc.zt(a.targetId,a),i._o.Hi(t,a).next((function(){return i._o.Yi(t,r.targetId)})).next((function(){return i._o.er(t,n,r.targetId)})).next((function(){return i.wo.$s(t,e)}))}))]}}))}))}var no=function(){function t(t){this.Qt=t,this.Vc=new Map,this.bc=new Map}return t.prototype.ks=function(t,e){return Qn.resolve(this.Vc.get(e))},t.prototype.Ms=function(t,e){var n;return this.Vc.set(e.id,{id:(n=e).id,version:n.version,createTime:In(n.createTime)}),Qn.resolve()},t.prototype.Ls=function(t,e){return Qn.resolve(this.bc.get(e))},t.prototype.$s=function(t,e){return this.bc.set(e.name,function(t){return{name:t.name,query:zr(t.bundledQuery),readTime:In(t.readTime)}}(e)),Qn.resolve()},t}(),ro=function(){function t(){this.vc=new Ke(io.Sc),this.Dc=new Ke(io.Cc)}return t.prototype.et=function(){return this.vc.et()},t.prototype.nr=function(t,e){var n=new io(t,e);this.vc=this.vc.add(n),this.Dc=this.Dc.add(n)},t.prototype.xc=function(t,e){var n=this;t.forEach((function(t){return n.nr(t,e)}))},t.prototype.ir=function(t,e){this.Nc(new io(t,e))},t.prototype.Fc=function(t,e){var n=this;t.forEach((function(t){return n.ir(t,e)}))},t.prototype.Oc=function(t){var e=this,n=new F(new M([])),r=new io(n,t),i=new io(n,t+1),o=[];return this.Dc.me([r,i],(function(t){e.Nc(t),o.push(t.key)})),o},t.prototype.kc=function(){var t=this;this.vc.forEach((function(e){return t.Nc(e)}))},t.prototype.Nc=function(t){this.vc=this.vc.delete(t),this.Dc=this.Dc.delete(t)},t.prototype.Mc=function(t){var e=new F(new M([])),n=new io(e,t),r=new io(e,t+1),i=nn();return this.Dc.me([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.Oi=function(t){var e=new io(t,0),n=this.vc.Re(e);return null!==n&&t.isEqual(n.key)},t}(),io=function(){function t(t,e){this.key=t,this.Lc=e}return t.Sc=function(t,e){return F.H(t.key,e.key)||w(t.Lc,e.Lc)},t.Cc=function(t,e){return w(t.Lc,e.Lc)||F.H(t.key,e.key)},t}(),oo=function(){function t(t,e){this.Ei=t,this.Ti=e,this.zo=[],this.$c=1,this.Bc=new Ke(io.Sc)}return t.prototype.Ai=function(t){return Qn.resolve(0===this.zo.length)},t.prototype.Ri=function(t,e,n,r){var i=this.$c;this.$c++,this.zo.length>0&&this.zo[this.zo.length-1];var o=new Dr(i,e,n,r);this.zo.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.Bc=this.Bc.add(new io(u.key,i)),this.Ei.qs(t,u.key.path.X())}return Qn.resolve(o)},t.prototype.Pi=function(t,e){return Qn.resolve(this.qc(e))},t.prototype.gi=function(t,e){var n=e+1,r=this.Uc(n),i=r<0?0:r;return Qn.resolve(this.zo.length>i?this.zo[i]:null)},t.prototype.Vi=function(){return Qn.resolve(0===this.zo.length?-1:this.$c-1)},t.prototype.pi=function(t){return Qn.resolve(this.zo.slice())},t.prototype.bi=function(t,e){var n=this,r=new io(e,0),i=new io(e,Number.POSITIVE_INFINITY),o=[];return this.Bc.me([r,i],(function(t){var e=n.qc(t.Lc);o.push(e)})),Qn.resolve(o)},t.prototype.vi=function(t,e){var n=this,r=new Ke(w);return e.forEach((function(t){var e=new io(t,0),i=new io(t,Number.POSITIVE_INFINITY);n.Bc.me([e,i],(function(t){r=r.add(t.Lc)}))})),Qn.resolve(this.Qc(r))},t.prototype.Di=function(t,e){var n=e.path,r=n.length+1,i=n;F.wt(i)||(i=i.child(""));var o=new io(new F(i),0),a=new Ke(w);return this.Bc.Ae((function(t){var e=t.key.path;return!!n.nt(e)&&(e.length===r&&(a=a.add(t.Lc)),!0)}),o),Qn.resolve(this.Qc(a))},t.prototype.Qc=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.qc(t);null!==r&&n.push(r)})),n},t.prototype.Ci=function(t,e){var n=this;y(0===this.Kc(e.batchId,"removed")),this.zo.shift();var r=this.Bc;return Qn.forEach(e.mutations,(function(i){var o=new io(i.key,e.batchId);return r=r.delete(o),n.Ti.Ni(t,i.key)})).next((function(){n.Bc=r}))},t.prototype.xi=function(t){},t.prototype.Oi=function(t,e){var n=new io(e,0),r=this.Bc.Re(n);return Qn.resolve(e.isEqual(r&&r.key))},t.prototype.Fi=function(t){return this.zo.length,Qn.resolve()},t.prototype.Kc=function(t,e){return this.Uc(t)},t.prototype.Uc=function(t){return 0===this.zo.length?0:t-this.zo[0].batchId},t.prototype.qc=function(t){var e=this.Uc(t);return e<0||e>=this.zo.length?null:this.zo[e]},t}(),ao=function(){function t(t,e){this.Ei=t,this.Wc=e,this.docs=new qe(F.H),this.size=0}return t.prototype.ai=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.Wc(e);return this.docs=this.docs.zt(r,{hi:e,size:a,readTime:n}),this.size+=a-o,this.Ei.qs(t,r.path.X())},t.prototype.li=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype._i=function(t,e){var n=this.docs.get(e);return Qn.resolve(n?n.hi:null)},t.prototype.getEntries=function(t,e){var n=this,r=$e();return e.forEach((function(t){var e=n.docs.get(t);r=r.zt(t,e?e.hi:null)})),Qn.resolve(r)},t.prototype.Kr=function(t,e,n){for(var r=Qe(),i=new F(e.path.child("")),o=this.docs.ee(i);o.ce();){var a=o.oe(),s=a.key,u=a.value,c=u.hi,f=u.readTime;if(!e.path.nt(s.path))break;f._(n)<=0||c instanceof mt&&ee(e,c)&&(r=r.zt(c.key,c))}return Qn.resolve(r)},t.prototype.jc=function(t,e){return Qn.forEach(this.docs,(function(t){return e(t)}))},t.prototype.Nr=function(t){return new so(this)},t.prototype.kr=function(t){return Qn.resolve(this.size)},t}(),so=function(t){function e(e){var n=this;return(n=t.call(this)||this).jr=e,n}return Object(a.__extends)(e,t),e.prototype.wi=function(t){var e=this,n=[];return this.ri.forEach((function(r,i){i&&i.hi?n.push(e.jr.ai(t,i.hi,e.ci(r))):e.jr.li(r)})),Qn.Ln(n)},e.prototype.fi=function(t,e){return this.jr._i(t,e)},e.prototype.di=function(t,e){return this.jr.getEntries(t,e)},e}(oi),uo=function(){function t(t){this.persistence=t,this.Gc=new ii((function(t){return Ot(t)}),It),this.lastRemoteSnapshotVersion=D.min(),this.highestTargetId=0,this.zc=0,this.Hc=new ro,this.targetCount=0,this.Jc=di.Li()}return t.prototype.In=function(t,e){return this.Gc.forEach((function(t,n){return e(n)})),Qn.resolve()},t.prototype.Qi=function(t){return Qn.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Ki=function(t){return Qn.resolve(this.zc)},t.prototype.Bi=function(t){return this.highestTargetId=this.Jc.next(),Qn.resolve(this.highestTargetId)},t.prototype.Wi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.zc&&(this.zc=e),Qn.resolve()},t.prototype.Gi=function(t){this.Gc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Jc=new di(e),this.highestTargetId=e),t.sequenceNumber>this.zc&&(this.zc=t.sequenceNumber)},t.prototype.ji=function(t,e){return this.Gi(e),this.targetCount+=1,Qn.resolve()},t.prototype.Hi=function(t,e){return this.Gi(e),Qn.resolve()},t.prototype.Ji=function(t,e){return this.Gc.delete(e.target),this.Hc.Oc(e.targetId),this.targetCount-=1,Qn.resolve()},t.prototype.Xi=function(t,e,n){var r=this,i=0,o=[];return this.Gc.forEach((function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.Gc.delete(a),o.push(r.Yi(t,s.targetId)),i++)})),Qn.Ln(o).next((function(){return i}))},t.prototype.Zi=function(t){return Qn.resolve(this.targetCount)},t.prototype.tr=function(t,e){var n=this.Gc.get(e)||null;return Qn.resolve(n)},t.prototype.er=function(t,e,n){return this.Hc.xc(e,n),Qn.resolve()},t.prototype.sr=function(t,e,n){this.Hc.Fc(e,n);var r=this.persistence.Ti,i=[];return r&&e.forEach((function(e){i.push(r.Ni(t,e))})),Qn.Ln(i)},t.prototype.Yi=function(t,e){return this.Hc.Oc(e),Qn.resolve()},t.prototype.rr=function(t,e){var n=this.Hc.Mc(e);return Qn.resolve(n)},t.prototype.Oi=function(t,e){return Qn.resolve(this.Hc.Oi(e))},t}(),co=function(){function t(t,e){var n=this;this.Yc={},this.so=new C(0),this.io=!1,this.io=!0,this.Ti=t(this),this._o=new uo(this),this.Ei=new Jr,this.fo=function(t,e){return new ao(t,(function(t){return n.Ti.Xc(t)}))}(this.Ei),this.Qt=new Mr(e),this.wo=new no(this.Qt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Mo=function(){return this.io=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Po=function(){},t.prototype.yo=function(){},t.prototype.Ko=function(){return this.Ei},t.prototype.Qo=function(t){var e=this.Yc[t.A()];return e||(e=new oo(this.Ei,this.Ti),this.Yc[t.A()]=e),e},t.prototype.Sr=function(){return this._o},t.prototype.Fr=function(){return this.fo},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(t,e,n){var r=this;l("MemoryPersistence","Starting transaction:",t);var i=new fo(this.so.next());return this.Ti.Zc(),n(i).next((function(t){return r.Ti.ta(i).next((function(){return t}))})).kn().then((function(t){return i.Vs(),t}))},t.prototype.ea=function(t,e){return Qn.$n(Object.values(this.Yc).map((function(n){return function(){return n.Oi(t,e)}})))},t}(),fo=function(t){function e(e){var n=this;return(n=t.call(this)||this).bs=e,n}return Object(a.__extends)(e,t),e}(lr),lo=function(){function t(t){this.persistence=t,this.na=new ro,this.sa=null}return t.ia=function(e){return new t(e)},Object.defineProperty(t.prototype,"ra",{get:function(){if(this.sa)return this.sa;throw v()},enumerable:!1,configurable:!0}),t.prototype.nr=function(t,e,n){return this.na.nr(n,e),this.ra.delete(n.toString()),Qn.resolve()},t.prototype.ir=function(t,e,n){return this.na.ir(n,e),this.ra.add(n.toString()),Qn.resolve()},t.prototype.Ni=function(t,e){return this.ra.add(e.toString()),Qn.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.na.Oc(e.targetId).forEach((function(t){return n.ra.add(t.toString())}));var r=this.persistence.Sr();return r.rr(t,e.targetId).next((function(t){t.forEach((function(t){return n.ra.add(t.toString())}))})).next((function(){return r.Ji(t,e)}))},t.prototype.Zc=function(){this.sa=new Set},t.prototype.ta=function(t){var e=this,n=this.persistence.Fr().Nr();return Qn.forEach(this.ra,(function(r){var i=F._t(r);return e.oa(t,i).next((function(t){t||n.li(i)}))})).next((function(){return e.sa=null,n.apply(t)}))},t.prototype.Or=function(t,e){var n=this;return this.oa(t,e).next((function(t){t?n.ra.delete(e.toString()):n.ra.add(e.toString())}))},t.prototype.Xc=function(t){return 0},t.prototype.oa=function(t,e){var n=this;return Qn.$n([function(){return Qn.resolve(n.na.Oi(e))},function(){return n.persistence.Sr().Oi(t,e)},function(){return n.persistence.ea(t,e)}])},t}();function ho(t,e){return"firestore_clients_"+t+"_"+e}function po(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.m()&&(r+="_"+e.uid),r}function vo(t,e){return"firestore_targets_"+t+"_"+e}var yo=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.ca=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),a=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(a=new S(i.error.code,i.error.message)),o?new t(e,n,i.state,a):(h("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),go=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.ca=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new S(r.error.code,r.error.message)),i?new t(e,r.state,o):(h("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),mo=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.ca=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=on(),a=0;i&&a<r.activeTargetIds.length;++a)i=tt(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(h("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),bo=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.ca=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(h("SharedClientState","Failed to parse online state: "+e),null)},t}(),wo=function(){function t(){this.activeTargetIds=on()}return t.prototype.ua=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.aa=function(){var t={activeTargetIds:this.activeTargetIds.it(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),_o=function(){function t(t,e,n,r,i){this.window=t,this.Zr=e,this.persistenceKey=n,this.la=r,this._a=null,this.fa=null,this.M=null,this.da=this.wa.bind(this),this.Ea=new qe(w),this.Er=!1,this.Ta=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ia=ho(this.persistenceKey,this.la),this.ma=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ea=this.Ea.zt(this.la,new wo),this.Aa=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Ra=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.Pa=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.ya=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.ga=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.da)}return t.Kn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(a.__awaiter)(this,void 0,void 0,(function(){var t,e,n,r,i,o,s,u,c,f,l,h=this;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return[4,this._a.Uo()];case 1:for(t=a.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.la&&(i=this.getItem(ho(this.persistenceKey,r)))&&(o=mo.ca(r,i))&&(this.Ea=this.Ea.zt(o.clientId,o));for(this.Va(),(s=this.storage.getItem(this.ya))&&(u=this.pa(s))&&this.ba(u),c=0,f=this.Ta;c<f.length;c++)l=f[c],this.wa(l);return this.Ta=[],this.window.addEventListener("unload",(function(){return h.Mo()})),this.Er=!0,[2]}}))}))},t.prototype.B=function(t){this.setItem(this.ma,JSON.stringify(t))},t.prototype.va=function(){return this.Sa(this.Ea)},t.prototype.Da=function(t){var e=!1;return this.Ea.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.Ca=function(t){this.xa(t,"pending")},t.prototype.Na=function(t,e,n){this.xa(t,e,n),this.Fa(t)},t.prototype.Oa=function(t){var e="not-current";if(this.Da(t)){var n=this.storage.getItem(vo(this.persistenceKey,t));if(n){var r=go.ca(t,n);r&&(e=r.state)}}return this.ka.ua(t),this.Va(),e},t.prototype.Ma=function(t){this.ka.ha(t),this.Va()},t.prototype.La=function(t){return this.ka.activeTargetIds.has(t)},t.prototype.$a=function(t){this.removeItem(vo(this.persistenceKey,t))},t.prototype.Ba=function(t,e,n){this.qa(t,e,n)},t.prototype.Ua=function(t,e,n){var r=this;e.forEach((function(t){r.Fa(t)})),this.currentUser=t,n.forEach((function(t){r.Ca(t)}))},t.prototype.Qa=function(t){this.Ka(t)},t.prototype.Wa=function(){this.ja()},t.prototype.Mo=function(){this.Er&&(this.window.removeEventListener("storage",this.da),this.removeItem(this.Ia),this.Er=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return l("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){l("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){l("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.wa=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(l("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ia)return void h("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Zr.po((function(){return Object(a.__awaiter)(e,void 0,void 0,(function(){var t,e,r,i,o,s;return Object(a.__generator)(this,(function(a){if(this.Er){if(null!==n.key)if(this.Aa.test(n.key)){if(null==n.newValue)return t=this.Ga(n.key),[2,this.za(t,null)];if(e=this.Ha(n.key,n.newValue))return[2,this.za(e.clientId,e)]}else if(this.Ra.test(n.key)){if(null!==n.newValue&&(r=this.Ja(n.key,n.newValue)))return[2,this.Ya(r)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(i=this.Xa(n.key,n.newValue)))return[2,this.Za(i)]}else if(n.key===this.ya){if(null!==n.newValue&&(o=this.pa(n.newValue)))return[2,this.ba(o)]}else if(n.key===this.ma)(s=function(t){var e=C.q;if(null!=t)try{var n=JSON.parse(t);y("number"==typeof n),e=n}catch(t){h("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==C.q&&this.M(s);else if(n.key===this.ga)return[2,this._a.tu()]}else this.Ta.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"ka",{get:function(){return this.Ea.get(this.la)},enumerable:!1,configurable:!0}),t.prototype.Va=function(){this.setItem(this.Ia,this.ka.aa())},t.prototype.xa=function(t,e,n){var r=new yo(this.currentUser,t,e,n),i=po(this.persistenceKey,this.currentUser,t);this.setItem(i,r.aa())},t.prototype.Fa=function(t){var e=po(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Ka=function(t){var e={clientId:this.la,onlineState:t};this.storage.setItem(this.ya,JSON.stringify(e))},t.prototype.qa=function(t,e,n){var r=vo(this.persistenceKey,t),i=new go(t,e,n);this.setItem(r,i.aa())},t.prototype.ja=function(){this.setItem(this.ga,"value-not-used")},t.prototype.Ga=function(t){var e=this.Aa.exec(t);return e?e[1]:null},t.prototype.Ha=function(t,e){var n=this.Ga(t);return mo.ca(n,e)},t.prototype.Ja=function(t,e){var n=this.Ra.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return yo.ca(new x(i),r,e)},t.prototype.Xa=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return go.ca(r,e)},t.prototype.pa=function(t){return bo.ca(t)},t.prototype.Ya=function(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){return Object(a.__generator)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this._a.eu(t.batchId,t.state,t.error)]:(l("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.Za=function(t){return this._a.nu(t.targetId,t.state,t.error)},t.prototype.za=function(t,e){var n=this,r=e?this.Ea.zt(t,e):this.Ea.remove(t),i=this.Sa(this.Ea),o=this.Sa(r),a=[],s=[];return o.forEach((function(t){i.has(t)||a.push(t)})),i.forEach((function(t){o.has(t)||s.push(t)})),this._a.su(a,s).then((function(){n.Ea=r}))},t.prototype.ba=function(t){this.Ea.get(t.clientId)&&this.fa(t.onlineState)},t.prototype.Sa=function(t){var e=on();return t.forEach((function(t,n){e=e.Pe(n.activeTargetIds)})),e},t}(),Eo=function(){function t(){this.iu=new wo,this.ru={},this.fa=null,this.M=null}return t.prototype.Ca=function(t){},t.prototype.Na=function(t,e,n){},t.prototype.Oa=function(t){return this.iu.ua(t),this.ru[t]||"not-current"},t.prototype.Ba=function(t,e,n){this.ru[t]=e},t.prototype.Ma=function(t){this.iu.ha(t)},t.prototype.La=function(t){return this.iu.activeTargetIds.has(t)},t.prototype.$a=function(t){delete this.ru[t]},t.prototype.va=function(){return this.iu.activeTargetIds},t.prototype.Da=function(t){return this.iu.activeTargetIds.has(t)},t.prototype.start=function(){return this.iu=new wo,Promise.resolve()},t.prototype.Ua=function(t,e,n){},t.prototype.Qa=function(t){},t.prototype.Mo=function(){},t.prototype.B=function(t){},t.prototype.Wa=function(){},t}(),Oo=function(){function t(){}return t.prototype.ou=function(t){},t.prototype.Mo=function(){},t}(),Io=function(){function t(){var t=this;this.cu=function(){return t.au()},this.uu=function(){return t.hu()},this.lu=[],this._u()}return t.prototype.ou=function(t){this.lu.push(t)},t.prototype.Mo=function(){window.removeEventListener("online",this.cu),window.removeEventListener("offline",this.uu)},t.prototype._u=function(){window.addEventListener("online",this.cu),window.addEventListener("offline",this.uu)},t.prototype.au=function(){l("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.lu;t<e.length;t++)(0,e[t])(0)},t.prototype.hu=function(){l("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.lu;t<e.length;t++)(0,e[t])(1)},t.Kn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),So={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},To=function(){function t(t){this.fu=t.fu,this.du=t.du}return t.prototype.wu=function(t){this.Eu=t},t.prototype.Tu=function(t){this.Iu=t},t.prototype.onMessage=function(t){this.mu=t},t.prototype.close=function(){this.du()},t.prototype.send=function(t){this.fu(t)},t.prototype.Au=function(){this.Eu()},t.prototype.Ru=function(t){this.Iu(t)},t.prototype.Pu=function(t){this.mu(t)},t}(),xo=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.i=e.i,n}return Object(a.__extends)(e,t),e.prototype.Su=function(t,e,n,r){return new Promise((function(i,a){var s=new o.f;s.listenOnce(o.c.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case o.a.NO_ERROR:var e=s.getResponseJson();l("Connection","XHR received:",JSON.stringify(e)),i(e);break;case o.a.TIMEOUT:l("Connection",'RPC "'+t+'" timed out'),a(new S(I.DEADLINE_EXCEEDED,"Request time out"));break;case o.a.HTTP_ERROR:var n=s.getStatus();if(l("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var u=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(e)>=0?e:I.UNKNOWN}(r.status);a(new S(u,r.message))}else a(new S(I.UNKNOWN,"Server responded with status "+s.getStatus()))}else a(new S(I.UNAVAILABLE,"Connection failed."));break;default:v()}}finally{l("Connection",'RPC "'+t+'" completed.')}}));var u=JSON.stringify(r);s.send(e,"POST",u,n,15)}))},e.prototype.Cu=function(t,e){var n=[this.gu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=Object(o.g)(),a=Object(o.h)(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.vu(s.initMessageHeaders,e),Object(i.l)()||Object(i.n)()||Object(i.j)()||Object(i.k)()||Object(i.o)()||Object(i.i)()||(s.httpHeadersOverwriteParam="$httpHeaders");var u=n.join("");l("Connection","Creating WebChannel: "+u,s);var c=r.createWebChannel(u,s),f=!1,h=!1,p=new To({fu:function(t){h?l("Connection","Not sending because WebChannel is closed:",t):(f||(l("Connection","Opening WebChannel transport."),c.open(),f=!0),l("Connection","WebChannel sending:",t),c.send(t))},du:function(){return c.close()}}),v=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return v(c,o.e.EventType.OPEN,(function(){h||l("Connection","WebChannel transport opened.")})),v(c,o.e.EventType.CLOSE,(function(){h||(h=!0,l("Connection","WebChannel transport closed"),p.Ru())})),v(c,o.e.EventType.ERROR,(function(t){h||(h=!0,d("Connection","WebChannel transport errored:",t),p.Ru(new S(I.UNAVAILABLE,"The operation could not be completed")))})),v(c,o.e.EventType.MESSAGE,(function(t){var e;if(!h){var n=t.data[0];y(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){l("Connection","WebChannel received error:",i);var o=i.status,a=function(t){var e=Le[t];if(void 0!==e)return He(e)}(o),s=i.message;void 0===a&&(a=I.INTERNAL,s="Unknown error status: "+o+" with message "+i.message),h=!0,p.Ru(new S(a,s)),c.close()}else l("Connection","WebChannel received:",n),p.Pu(n)}})),v(a,o.b.STAT_EVENT,(function(t){t.stat===o.d.PROXY?l("Connection","Detected buffering proxy"):t.stat===o.d.NOPROXY&&l("Connection","Detected no buffering proxy")})),setTimeout((function(){p.Au()}),0),p},e}(function(){function t(t){this.yu=t,this.t=t.t;var e=t.ssl?"https":"http";this.gu=e+"://"+t.host,this.Vu="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.pu=function(t,e,n,r){var i=this.bu(t,e);l("RestConnection","Sending: ",i,n);var o={};return this.vu(o,r),this.Su(t,i,o,n).then((function(t){return l("RestConnection","Received: ",t),t}),(function(e){throw d("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Du=function(t,e,n,r){return this.pu(t,e,n,r)},t.prototype.vu=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.6",t["Content-Type"]="text/plain",e)for(var n in e.g)e.g.hasOwnProperty(n)&&(t[n]=e.g[n])},t.prototype.bu=function(t,e){var n=So[t];return this.gu+"/v1/"+e+":"+n},t}());function ko(){return"undefined"!=typeof window?window:null}function jo(){return"undefined"!=typeof document?document:null}function Ao(t){return new wn(t,!0)}var No=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Zr=t,this.fs=e,this.xu=n,this.Nu=r,this.Fu=i,this.Ou=0,this.ku=null,this.Mu=Date.now(),this.reset()}return t.prototype.reset=function(){this.Ou=0},t.prototype.Lu=function(){this.Ou=this.Fu},t.prototype.$u=function(t){var e=this;this.cancel();var n=Math.floor(this.Ou+this.Bu()),r=Math.max(0,Date.now()-this.Mu),i=Math.max(0,n-r);i>0&&l("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Ou+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.ku=this.Zr.Tr(this.fs,i,(function(){return e.Mu=Date.now(),t()})),this.Ou*=this.Nu,this.Ou<this.xu&&(this.Ou=this.xu),this.Ou>this.Fu&&(this.Ou=this.Fu)},t.prototype.qu=function(){null!==this.ku&&(this.ku.Rs(),this.ku=null)},t.prototype.cancel=function(){null!==this.ku&&(this.ku.cancel(),this.ku=null)},t.prototype.Bu=function(){return(Math.random()-.5)*this.Ou},t}(),Po=function(){function t(t,e,n,r,i,o){this.Zr=t,this.Uu=n,this.Qu=r,this.Ku=i,this.listener=o,this.state=0,this.Wu=0,this.ju=null,this.stream=null,this.Gu=new No(t,e)}return t.prototype.zu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Hu=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Ju()},t.prototype.stop=function(){return Object(a.__awaiter)(this,void 0,void 0,(function(){return Object(a.__generator)(this,(function(t){switch(t.label){case 0:return this.zu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.Yu=function(){this.state=0,this.Gu.reset()},t.prototype.Xu=function(){var t=this;this.Hu()&&null===this.ju&&(this.ju=this.Zr.Tr(this.Uu,6e4,(function(){return t.Zu()})))},t.prototype.th=function(t){this.eh(),this.stream.send(t)},t.prototype.Zu=function(){return Object(a.__awaiter)(this,void 0,void 0,(function(){return Object(a.__generator)(this,(function(t){return this.Hu()?[2,this.close(0)]:[2]}))}))},t.prototype.eh=function(){this.ju&&(this.ju.cancel(),this.ju=null)},t.prototype.close=function(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){return Object(a.__generator)(this,(function(n){switch(n.label){case 0:return this.eh(),this.Gu.cancel(),this.Wu++,3!==t?this.Gu.reset():e&&e.code===I.RESOURCE_EXHAUSTED?(h(e.toString()),h("Using maximum backoff delay to prevent overloading the backend."),this.Gu.Lu()):e&&e.code===I.UNAUTHENTICATED&&this.Ku.p(),null!==this.stream&&(this.nh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Tu(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.nh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.sh(this.Wu),n=this.Wu;this.Ku.getToken().then((function(e){t.Wu===n&&t.ih(e)}),(function(n){e((function(){var e=new S(I.UNKNOWN,"Fetching auth token failed: "+n.message);return t.rh(e)}))}))},t.prototype.ih=function(t){var e=this,n=this.sh(this.Wu);this.stream=this.oh(t),this.stream.wu((function(){n((function(){return e.state=2,e.listener.wu()}))})),this.stream.Tu((function(t){n((function(){return e.rh(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.Ju=function(){var t=this;this.state=4,this.Gu.$u((function(){return Object(a.__awaiter)(t,void 0,void 0,(function(){return Object(a.__generator)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.rh=function(t){return l("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.sh=function(t){var e=this;return function(n){e.Zr.Ps((function(){return e.Wu===t?n():(l("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),Co=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).Qt=i,a}return Object(a.__extends)(e,t),e.prototype.oh=function(t){return this.Qu.Cu("Listen",t)},e.prototype.onMessage=function(t){this.Gu.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:v()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.Bt?(y(void 0===e||"string"==typeof e),O.fromBase64String(e||"")):(y(void 0===e||e instanceof Uint8Array),O.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=(s=e.targetChange.cause)&&function(t){var e=void 0===t.code?I.UNKNOWN:He(t.code);return new S(e,t.message||"")}(s);n=new dn(r,i,o,a||null)}else if("documentChange"in e){e.documentChange,(r=e.documentChange).document,r.document.name,r.document.updateTime,i=kn(t,r.document.name),o=In(r.document.updateTime);var s=new pt({mapValue:{fields:r.document.fields}}),u=(a=new mt(i,o,s,{}),r.targetIds||[]),c=r.removedTargetIds||[];n=new ln(u,c,a.key,a)}else if("documentDelete"in e)e.documentDelete,(r=e.documentDelete).document,i=kn(t,r.document),o=r.readTime?In(r.readTime):D.min(),s=new bt(i,o),a=r.removedTargetIds||[],n=new ln([],a,s.key,s);else if("documentRemove"in e)e.documentRemove,(r=e.documentRemove).document,i=kn(t,r.document),o=r.removedTargetIds||[],n=new ln([],o,i,null);else{if(!("filter"in e))return v();e.filter;var f=e.filter;f.targetId,r=f.count||0,i=new Fe(r),o=f.targetId,n=new hn(o,i)}return n}(this.Qt,t),n=function(t){if(!("targetChange"in t))return D.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?D.min():e.readTime?In(e.readTime):D.min()}(t);return this.listener.ah(e,n)},e.prototype.uh=function(t){var e={};e.database=Nn(this.Qt),e.addTarget=function(t,e){var n,r=e.target;return(n=St(r)?{documents:Mn(t,r)}:{query:Un(t,r)}).targetId=e.targetId,e.resumeToken.l()>0?n.resumeToken=En(t,e.resumeToken):e.kt._(D.min())>0&&(n.readTime=_n(t,e.kt.j())),n}(this.Qt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return v()}}(0,e.Ot);return null==n?null:{"goog-listen-tags":n}}(this.Qt,t);n&&(e.labels=n),this.th(e)},e.prototype.hh=function(t){var e={};e.database=Nn(this.Qt),e.removeTarget=t,this.th(e)},e}(Po),Ro=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).Qt=i,a.lh=!1,a}return Object(a.__extends)(e,t),Object.defineProperty(e.prototype,"_h",{get:function(){return this.lh},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.lh=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.nh=function(){this.lh&&this.fh([])},e.prototype.oh=function(t){return this.Qu.Cu("Write",t)},e.prototype.onMessage=function(t){if(y(!!t.streamToken),this.lastStreamToken=t.streamToken,this.lh){this.Gu.reset();var e=function(t,e){return t&&t.length>0?(y(void 0!==e),t.map((function(t){return function(t,e){var n=t.updateTime?In(t.updateTime):In(e);n.isEqual(D.min())&&(n=In(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new _e(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=In(t.commitTime);return this.listener.dh(n,e)}return y(!t.writeResults||0===t.writeResults.length),this.lh=!0,this.listener.wh()},e.prototype.Eh=function(){var t={};t.database=Nn(this.Qt),this.th(t)},e.prototype.fh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return Dn(e.Qt,t)}))};this.th(n)},e}(Po),Do=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Qu=n,i.Qt=r,i.Th=!1,i}return Object(a.__extends)(e,t),e.prototype.Ih=function(){if(this.Th)throw new S(I.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.pu=function(t,e,n){var r=this;return this.Ih(),this.credentials.getToken().then((function(i){return r.Qu.pu(t,e,n,i)})).catch((function(t){throw t.code===I.UNAUTHENTICATED&&r.credentials.p(),t}))},e.prototype.Du=function(t,e,n){var r=this;return this.Ih(),this.credentials.getToken().then((function(i){return r.Qu.Du(t,e,n,i)})).catch((function(t){throw t.code===I.UNAUTHENTICATED&&r.credentials.p(),t}))},e.prototype.terminate=function(){this.Th=!1},e}((function(){})),Lo=function(){function t(t,e){this._s=t,this.fa=e,this.state="Unknown",this.mh=0,this.Ah=null,this.Rh=!0}return t.prototype.Ph=function(){var t=this;0===this.mh&&(this.yh("Unknown"),this.Ah=this._s.Tr("online_state_timeout",1e4,(function(){return t.Ah=null,t.gh("Backend didn't respond within 10 seconds."),t.yh("Offline"),Promise.resolve()})))},t.prototype.Vh=function(t){"Online"===this.state?this.yh("Unknown"):(this.mh++,this.mh>=1&&(this.ph(),this.gh("Connection failed 1 times. Most recent error: "+t.toString()),this.yh("Offline")))},t.prototype.set=function(t){this.ph(),this.mh=0,"Online"===t&&(this.Rh=!1),this.yh(t)},t.prototype.yh=function(t){t!==this.state&&(this.state=t,this.fa(t))},t.prototype.gh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Rh?(h(e),this.Rh=!1):l("OnlineStateTracker",e)},t.prototype.ph=function(){null!==this.Ah&&(this.Ah.cancel(),this.Ah=null)},t}(),Mo=function(t,e,n,r,i){var o=this;this.bh=t,this.Sh=e,this._s=n,this.Dh={},this.Ch=[],this.xh=new Map,this.Nh=new Set,this.Fh=[],this.Oh=i,this.Oh.ou((function(t){n.Ps((function(){return Object(a.__awaiter)(o,void 0,void 0,(function(){return Object(a.__generator)(this,(function(t){switch(t.label){case 0:return Ko(this)?(l("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e;return Object(a.__generator)(this,(function(n){switch(n.label){case 0:return(e=g(t)).Nh.add(4),[4,Bo(e)];case 1:return n.sent(),e.kh.set("Unknown"),e.Nh.delete(4),[4,Uo(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.kh=new Lo(n,r)};function Uo(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e,n;return Object(a.__generator)(this,(function(r){switch(r.label){case 0:if(!Ko(t))return[3,4];e=0,n=t.Fh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Bo(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e,n;return Object(a.__generator)(this,(function(r){switch(r.label){case 0:e=0,n=t.Fh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Fo(t,e){var n=g(t);n.xh.has(e.targetId)||(n.xh.set(e.targetId,e),Wo(n)?Go(n):sa(n).Hu()&&Ho(n,e))}function Vo(t,e){var n=g(t),r=sa(n);n.xh.delete(e),r.Hu()&&qo(n,e),0===n.xh.size&&(r.Hu()?r.Xu():Ko(n)&&n.kh.set("Unknown"))}function Ho(t,e){t.Mh.on(e.targetId),sa(t).uh(e)}function qo(t,e){t.Mh.on(e),sa(t).hh(e)}function Go(t){t.Mh=new vn({vn:function(e){return t.Dh.vn(e)},Sn:function(e){return t.xh.get(e)||null}}),sa(t).start(),t.kh.Ph()}function Wo(t){return Ko(t)&&!sa(t).zu()&&t.xh.size>0}function Ko(t){return 0===g(t).Nh.size}function zo(t){t.Mh=void 0}function Xo(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){return Object(a.__generator)(this,(function(e){return t.xh.forEach((function(e,n){Ho(t,e)})),[2]}))}))}function Yo(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){return Object(a.__generator)(this,(function(n){return zo(t),Wo(t)?(t.kh.Vh(e),Go(t)):t.kh.set("Unknown"),[2]}))}))}function $o(t,e,n){return Object(a.__awaiter)(this,void 0,void 0,(function(){var r,i,o;return Object(a.__generator)(this,(function(s){switch(s.label){case 0:if(t.kh.set("Online"),!(e instanceof dn&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:n=e.cause,r=0,i=e.targetIds,a.label=1;case 1:return r<i.length?(o=i[r],t.xh.has(o)?[4,t.Dh.Lh(o,n)]:[3,3]):[3,5];case 2:a.sent(),t.xh.delete(o),t.Mh.removeTarget(o),a.label=3;case 3:a.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),l("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Jo(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof ln?t.Mh.dn(e):e instanceof hn?t.Mh.Pn(e):t.Mh.Tn(e),n.isEqual(D.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Gi(t.bh)];case 8:return i=s.sent(),n._(i)>=0?[4,function(t,e){var n=t.Mh.Vn(e);return n.Fe.forEach((function(n,r){if(n.resumeToken.l()>0){var i=t.xh.get(r);i&&t.xh.set(r,i.Lt(n.resumeToken,e))}})),n.Oe.forEach((function(e){var n=t.xh.get(e);if(n){t.xh.set(e,n.Lt(O.T,n.kt)),qo(t,e);var r=new ie(n.target,e,1,n.sequenceNumber);Ho(t,r)}})),t.Dh.$h(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return l("RemoteStore","Failed to raise snapshot:",o=s.sent()),[4,Jo(t,o)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function Jo(t,e,n){return Object(a.__awaiter)(this,void 0,void 0,(function(){var r=this;return Object(a.__generator)(this,(function(i){switch(i.label){case 0:if(!rr(e))throw e;return t.Nh.add(1),[4,Bo(t)];case 1:return i.sent(),t.kh.set("Offline"),n||(n=function(){return Gi(t.bh)}),t._s.po((function(){return Object(a.__awaiter)(r,void 0,void 0,(function(){return Object(a.__generator)(this,(function(e){switch(e.label){case 0:return l("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Nh.delete(1),[4,Uo(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function Qo(t,e){return e().catch((function(n){return Jo(t,n,e)}))}function Zo(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i,o;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:e=g(t),n=ua(e),r=e.Ch.length>0?e.Ch[e.Ch.length-1].batchId:-1,a.label=1;case 1:if(!function(t){return Ko(t)&&t.Ch.length<10}(e))return[3,7];a.label=2;case 2:return a.trys.push([2,4,,6]),[4,zi(e.bh,r)];case 3:return null===(i=a.sent())?(0===e.Ch.length&&n.Xu(),[3,7]):(r=i.batchId,function(t,e){t.Ch.push(e);var n=ua(t);n.Hu()&&n._h&&n.fh(e.mutations)}(e,i),[3,6]);case 4:return o=a.sent(),[4,Jo(e,o)];case 5:return a.sent(),[3,6];case 6:return[3,1];case 7:return ta(e)&&ea(e),[2]}}))}))}function ta(t){return Ko(t)&&!ua(t).zu()&&t.Ch.length>0}function ea(t){ua(t).start()}function na(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){return Object(a.__generator)(this,(function(e){return ua(t).Eh(),[2]}))}))}function ra(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i;return Object(a.__generator)(this,(function(o){for(e=ua(t),n=0,r=t.Ch;n<r.length;n++)i=r[n],e.fh(i.mutations);return[2]}))}))}function ia(t,e,n){return Object(a.__awaiter)(this,void 0,void 0,(function(){var r,i;return Object(a.__generator)(this,(function(o){switch(o.label){case 0:return r=t.Ch.shift(),i=Lr.from(r,e,n),[4,Qo(t,(function(){return t.Dh.Bh(i)}))];case 1:return o.sent(),[4,Zo(t)];case 2:return o.sent(),[2]}}))}))}function oa(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){return Object(a.__generator)(this,(function(n){switch(n.label){case 0:return e&&ua(t)._h?[4,function(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(a.__generator)(this,(function(i){switch(i.label){case 0:return Ve(r=e.code)&&r!==I.ABORTED?(n=t.Ch.shift(),ua(t).Yu(),[4,Qo(t,(function(){return t.Dh.qh(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,Zo(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return ta(t)&&ea(t),[2]}}))}))}function aa(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n;return Object(a.__generator)(this,(function(r){switch(r.label){case 0:return n=g(t),e?(n.Nh.delete(2),[4,Uo(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Nh.add(2),[4,Bo(n)]);case 3:r.sent(),n.kh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function sa(t){var e=this;return t.Uh||(t.Uh=function(t,e,n){var r=g(t);return r.Ih(),new Co(e,r.Qu,r.credentials,r.Qt,n)}(t.Sh,t._s,{wu:Xo.bind(null,t),Tu:Yo.bind(null,t),ah:$o.bind(null,t)}),t.Fh.push((function(n){return Object(a.__awaiter)(e,void 0,void 0,(function(){return Object(a.__generator)(this,(function(e){switch(e.label){case 0:return n?(t.Uh.Yu(),Wo(t)?Go(t):t.kh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Uh.stop()];case 2:e.sent(),zo(t),e.label=3;case 3:return[2]}}))}))}))),t.Uh}function ua(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=g(t);return r.Ih(),new Ro(e,r.Qu,r.credentials,r.Qt,n)}(t.Sh,t._s,{wu:na.bind(null,t),Tu:oa.bind(null,t),wh:ra.bind(null,t),dh:ia.bind(null,t)}),t.Fh.push((function(n){return Object(a.__awaiter)(e,void 0,void 0,(function(){return Object(a.__generator)(this,(function(e){switch(e.label){case 0:return n?(t.Qh.Yu(),[4,Zo(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qh.stop()];case 3:e.sent(),t.Ch.length>0&&(l("RemoteStore","Stopping write stream with "+t.Ch.length+" pending writes"),t.Ch=[]),e.label=4;case 4:return[2]}}))}))}))),t.Qh}var ca=function(){this.Kh=void 0,this.listeners=[]},fa=function(){this.queries=new ii((function(t){return Zt(t)}),Qt),this.onlineState="Unknown",this.Wh=new Set};function la(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,s,u,c;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:if(n=g(t),r=e.query,i=!1,(o=n.queries.get(r))||(i=!0,o=new ca),!i)return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),s=o,[4,n.jh(r)];case 2:return s.Kh=a.sent(),[3,4];case 3:return u=a.sent(),c=cr(u,"Initialization of query '"+te(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.queries.set(r,o),o.listeners.push(e),e.Gh(n.onlineState),o.Kh&&e.zh(o.Kh)&&va(n),[2]}}))}))}function ha(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(a.__generator)(this,(function(a){return n=g(t),r=e.query,i=!1,(o=n.queries.get(r))&&(s=o.listeners.indexOf(e))>=0&&(o.listeners.splice(s,1),i=0===o.listeners.length),i?[2,(n.queries.delete(r),n.Hh(r))]:[2]}))}))}function da(t,e){for(var n=g(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,f=u.listeners;c<f.length;c++)f[c].zh(a)&&(r=!0);u.Kh=a}}r&&va(n)}function pa(t,e,n){var r=g(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}function va(t){t.Wh.forEach((function(t){t.next()}))}var ya=function(){function t(t,e,n){this.query=t,this.Jh=e,this.Yh=!1,this.Xh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.zh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new un(t.query,t.docs,t.Se,e,t.De,t.fromCache,t.Ce,!0)}var o=!1;return this.Yh?this.Zh(t)&&(this.Jh.next(t),o=!0):this.tl(t,this.onlineState)&&(this.el(t),o=!0),this.Xh=t,o},t.prototype.onError=function(t){this.Jh.error(t)},t.prototype.Gh=function(t){this.onlineState=t;var e=!1;return this.Xh&&!this.Yh&&this.tl(this.Xh,t)&&(this.el(this.Xh),e=!0),e},t.prototype.tl=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.nl&&n||t.docs.et()&&"Offline"!==e)},t.prototype.Zh=function(t){if(t.docChanges.length>0)return!0;var e=this.Xh&&this.Xh.hasPendingWrites!==t.hasPendingWrites;return!(!t.Ce&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.el=function(t){t=un.Ne(t.query,t.docs,t.De,t.fromCache),this.Yh=!0,this.Jh.next(t)},t}(),ga=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.sl=function(){return"metadata"in this.payload},t}(),ma=function(){function t(t){this.Qt=t}return t.prototype.Pc=function(t){return kn(this.Qt,t)},t.prototype.yc=function(t){return t.metadata.exists?Rn(this.Qt,t.document,!1):new bt(this.Pc(t.metadata.name),this.gc(t.metadata.readTime))},t.prototype.gc=function(t){return In(t)},t}();!function(){function t(t,e,n){this.il=t,this.bh=e,this.Qt=n,this.queries=[],this.documents=[],this.progress=ba(t)}t.prototype.rl=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.ol=function(t){for(var e=new Map,n=new ma(this.Qt),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.Pc(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],f=(e.get(c)||nn()).add(a);e.set(c,f)}}return e},t.prototype.complete=function(){return Object(a.__awaiter)(this,void 0,void 0,(function(){var t,e,n,r,i;return Object(a.__generator)(this,(function(o){switch(o.label){case 0:return[4,to(this.bh,new ma(this.Qt),this.documents,this.il.id)];case 1:t=o.sent(),e=this.ol(this.documents),n=0,r=this.queries,o.label=2;case 2:return n<r.length?(i=r[n],[4,eo(this.bh,i,e.get(i.name))]):[3,5];case 3:o.sent(),o.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Li(Object.assign({},this.progress),t))]}}))}))}}();function ba(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var wa=function(t){this.key=t},_a=function(t){this.key=t},Ea=function(){function t(t,e){this.query=t,this.cl=e,this.al=null,this.Be=!1,this.ul=nn(),this.De=nn(),this.hl=ne(t),this.ll=new an(this.hl)}return Object.defineProperty(t.prototype,"_l",{get:function(){return this.cl},enumerable:!1,configurable:!0}),t.prototype.fl=function(t,e){var n=this,r=e?e.dl:new sn,i=e?e.ll:this.ll,o=e?e.De:this.De,a=i,s=!1,u=Gt(this.query)&&i.size===this.query.limit?i.last():null,c=Wt(this.query)&&i.size===this.query.limit?i.first():null;if(t.Xt((function(t,e){var f=i.get(t),l=e instanceof mt?e:null;l&&(l=ee(n.query,l)?l:null);var h=!!f&&n.De.has(f.key),d=!!l&&(l.Vt||n.De.has(l.key)&&l.hasCommittedMutations),p=!1;f&&l?f.data().isEqual(l.data())?h!==d&&(r.track({type:3,doc:l}),p=!0):n.wl(f,l)||(r.track({type:2,doc:l}),p=!0,(u&&n.hl(l,u)>0||c&&n.hl(l,c)<0)&&(s=!0)):!f&&l?(r.track({type:0,doc:l}),p=!0):f&&!l&&(r.track({type:1,doc:f}),p=!0,(u||c)&&(s=!0)),p&&(l?(a=a.add(l),o=d?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))})),Gt(this.query)||Wt(this.query))for(;a.size>this.query.limit;){var f=Gt(this.query)?a.last():a.first();a=a.delete(f.key),o=o.delete(f.key),r.track({type:1,doc:f})}return{ll:a,dl:r,lc:s,De:o}},t.prototype.wl=function(t,e){return t.Vt&&e.hasCommittedMutations&&!e.Vt},t.prototype.wi=function(t,e,n){var r=this,i=this.ll;this.ll=t.ll,this.De=t.De;var o=t.dl.ve();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return v()}};return n(t)-n(e)}(t.type,e.type)||r.hl(t.doc,e.doc)})),this.El(n);var a=e?this.Tl():[],s=0===this.ul.size&&this.Be?1:0,u=s!==this.al;return this.al=s,0!==o.length||u?{snapshot:new un(this.query,t.ll,i,o,t.De,0===s,u,!1),Il:a}:{Il:a}},t.prototype.Gh=function(t){return this.Be&&"Offline"===t?(this.Be=!1,this.wi({ll:this.ll,dl:new sn,De:this.De,lc:!1},!1)):{Il:[]}},t.prototype.ml=function(t){return!this.cl.has(t)&&!!this.ll.has(t)&&!this.ll.get(t).Vt},t.prototype.El=function(t){var e=this;t&&(t.qe.forEach((function(t){return e.cl=e.cl.add(t)})),t.Ue.forEach((function(t){})),t.Qe.forEach((function(t){return e.cl=e.cl.delete(t)})),this.Be=t.Be)},t.prototype.Tl=function(){var t=this;if(!this.Be)return[];var e=this.ul;this.ul=nn(),this.ll.forEach((function(e){t.ml(e.key)&&(t.ul=t.ul.add(e.key))}));var n=[];return e.forEach((function(e){t.ul.has(e)||n.push(new _a(e))})),this.ul.forEach((function(t){e.has(t)||n.push(new wa(t))})),n},t.prototype.Al=function(t){this.cl=t.Rc,this.ul=nn();var e=this.fl(t.documents);return this.wi(e,!0)},t.prototype.Rl=function(){return un.Ne(this.query,this.ll,this.De,0===this.al)},t}(),Oa=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Ia=function(t){this.key=t,this.Pl=!1},Sa=function(){function t(t,e,n,r,i,o){this.bh=t,this.yl=e,this.gl=n,this.Vl=r,this.currentUser=i,this.pl=o,this.bl={},this.vl=new ii((function(t){return Zt(t)}),Qt),this.Sl=new Map,this.Dl=[],this.Cl=new qe(F.H),this.xl=new Map,this.Nl=new ro,this.Fl={},this.Ol=new Map,this.kl=di.$i(),this.onlineState="Unknown",this.Ml=void 0}return Object.defineProperty(t.prototype,"Ll",{get:function(){return!0===this.Ml},enumerable:!1,configurable:!0}),t}();function Ta(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,s,u;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return n=es(t),(o=n.vl.get(e))?(r=o.targetId,n.Vl.Oa(r),i=o.view.Rl(),[3,4]):[3,1];case 1:return[4,Xi(n.bh,$t(e))];case 2:return s=a.sent(),u=n.Vl.Oa(s.targetId),r=s.targetId,[4,xa(n,e,r,"current"===u)];case 3:i=a.sent(),n.Ll&&Fo(n.yl,s),a.label=4;case 4:return[2,i]}}))}))}function xa(t,e,n,r){return Object(a.__awaiter)(this,void 0,void 0,(function(){var i,o,s,u,c,f;return Object(a.__generator)(this,(function(l){switch(l.label){case 0:return t.$l=function(e,n,r){return function(t,e,n,r){return Object(a.__awaiter)(this,void 0,void 0,(function(){var i,o,s;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return(i=e.view.fl(n)).lc?[4,$i(t.bh,e.query,!1).then((function(t){var n=t.documents;return e.view.fl(n,i)}))]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return o=r&&r.Fe.get(e.targetId),s=e.view.wi(i,t.Ll,o),[2,(Fa(t,e.targetId,s.Il),s.snapshot)]}}))}))}(t,e,n,r)},[4,$i(t.bh,e,!0)];case 1:return i=l.sent(),o=new Ea(e,i.Rc),s=o.fl(i.documents),u=fn.$e(n,r&&"Offline"!==t.onlineState),c=o.wi(s,t.Ll,u),Fa(t,n,c.Il),f=new Oa(e,n,o),[2,(t.vl.set(e,f),t.Sl.has(n)?t.Sl.get(n).push(e):t.Sl.set(n,[e]),c.snapshot)]}}))}))}function ka(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return Object(a.__generator)(this,(function(o){switch(o.label){case 0:return n=g(t),r=n.vl.get(e),(i=n.Sl.get(r.targetId)).length>1?[2,(n.Sl.set(r.targetId,i.filter((function(t){return!Qt(t,e)}))),void n.vl.delete(e))]:n.Ll?(n.Vl.Ma(r.targetId),n.Vl.Da(r.targetId)?[3,2]:[4,Yi(n.bh,r.targetId,!1).then((function(){n.Vl.$a(r.targetId),Vo(n.yl,r.targetId),Ua(n,r.targetId)})).catch(ri)]):[3,3];case 1:o.sent(),o.label=2;case 2:return[3,5];case 3:return Ua(n,r.targetId),[4,Yi(n.bh,r.targetId,!0)];case 4:o.sent(),o.label=5;case 5:return[2]}}))}))}function ja(t,e,n){return Object(a.__awaiter)(this,void 0,void 0,(function(){var r,i,o,s;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:r=ns(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=g(t),i=R.now(),o=e.reduce((function(t,e){return t.add(e.key)}),nn());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Tc.Xo(t,o).next((function(o){n=o;for(var a=[],s=0,u=e;s<u.length;s++){var c=u[s],f=xe(c,n.get(c.key));null!=f&&a.push(new Ne(c.key,f,yt(f.proto.mapValue),Ee.exists(!0)))}return r.zo.Ri(t,i,a,e)}))})).then((function(t){var e=t.xs(n);return{batchId:t.batchId,ri:e}}))}(r.bh,e)];case 2:return i=a.sent(),r.Vl.Ca(i.batchId),function(t,e,n){var r=t.Fl[t.currentUser.A()];r||(r=new qe(w)),r=r.zt(e,n),t.Fl[t.currentUser.A()]=r}(r,i.batchId,n),[4,qa(r,i.ri)];case 3:return a.sent(),[4,Zo(r.yl)];case 4:return a.sent(),[3,6];case 5:return o=a.sent(),s=cr(o,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}}))}))}function Aa(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(a.__generator)(this,(function(i){switch(i.label){case 0:n=g(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Wi(n.bh,e)];case 2:return r=i.sent(),e.Fe.forEach((function(t,e){var r=n.xl.get(e);r&&(y(t.qe.size+t.Ue.size+t.Qe.size<=1),t.qe.size>0?r.Pl=!0:t.Ue.size>0?y(r.Pl):t.Qe.size>0&&(y(r.Pl),r.Pl=!1))})),[4,qa(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,ri(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Na(t,e,n){var r=g(t);if(r.Ll&&0===n||!r.Ll&&1===n){var i=[];r.vl.forEach((function(t,n){var r=n.view.Gh(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=g(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].Gh(e)&&(r=!0)})),r&&va(n)}(r.gl,e),i.length&&r.bl.ah(i),r.onlineState=e,r.Ll&&r.Vl.Qa(e)}}function Pa(t,e,n){return Object(a.__awaiter)(this,void 0,void 0,(function(){var r,i,o,s,u,c;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return(r=g(t)).Vl.Ba(e,"rejected",n),i=r.xl.get(e),(o=i&&i.key)?(s=(s=new qe(F.H)).zt(o,new bt(o,D.min())),u=nn().add(o),c=new cn(D.min(),new Map,new Ke(w),s,u),[4,Aa(r,c)]):[3,2];case 1:return a.sent(),r.Cl=r.Cl.remove(o),r.xl.delete(e),Ha(r),[3,4];case 2:return[4,Yi(r.bh,e,!1).then((function(){return Ua(r,e,n)})).catch(ri)];case 3:a.sent(),a.label=4;case 4:return[2]}}))}))}function Ca(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return Object(a.__generator)(this,(function(o){switch(o.label){case 0:n=g(t),r=e.batch.batchId,o.label=1;case 1:return o.trys.push([1,4,,6]),[4,qi(n.bh,e)];case 2:return i=o.sent(),Ma(n,r,null),La(n,r),n.Vl.Na(r,"acknowledged"),[4,qa(n,i)];case 3:return o.sent(),[3,6];case 4:return[4,ri(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Ra(t,e,n){return Object(a.__awaiter)(this,void 0,void 0,(function(){var r,i;return Object(a.__generator)(this,(function(o){switch(o.label){case 0:r=g(t),o.label=1;case 1:return o.trys.push([1,4,,6]),[4,function(t,e){var n=g(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n.zo.Pi(t,e).next((function(e){return y(null!==e),r=e.keys(),n.zo.Ci(t,e)})).next((function(){return n.zo.Fi(t)})).next((function(){return n.Tc.Xo(t,r)}))}))}(r.bh,e)];case 2:return i=o.sent(),Ma(r,e,n),La(r,e),r.Vl.Na(e,"rejected",n),[4,qa(r,i)];case 3:return o.sent(),[3,6];case 4:return[4,ri(o.sent())];case 5:return o.sent(),[3,6];case 6:return[2]}}))}))}function Da(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,s;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:Ko((n=g(t)).yl)||l("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=g(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e.zo.Vi(t)}))}(n.bh)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Ol.get(r)||[]).push(e),n.Ol.set(r,i),[3,4]);case 3:return o=a.sent(),s=cr(o,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}}))}))}function La(t,e){(t.Ol.get(e)||[]).forEach((function(t){t.resolve()})),t.Ol.delete(e)}function Ma(t,e,n){var r=g(t),i=r.Fl[r.currentUser.A()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Fl[r.currentUser.A()]=i}}function Ua(t,e,n){void 0===n&&(n=null),t.Vl.Ma(e);for(var r=0,i=t.Sl.get(e);r<i.length;r++){var o=i[r];t.vl.delete(o),n&&t.bl.Bl(o,n)}t.Sl.delete(e),t.Ll&&t.Nl.Oc(e).forEach((function(e){t.Nl.Oi(e)||Ba(t,e)}))}function Ba(t,e){var n=t.Cl.get(e);null!==n&&(Vo(t.yl,n),t.Cl=t.Cl.remove(e),t.xl.delete(n),Ha(t))}function Fa(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof wa?(t.Nl.nr(o.key,e),Va(t,o)):o instanceof _a?(l("SyncEngine","Document no longer in limbo: "+o.key),t.Nl.ir(o.key,e),t.Nl.Oi(o.key)||Ba(t,o.key)):v()}}function Va(t,e){var n=e.key;t.Cl.get(n)||(l("SyncEngine","New document in limbo: "+n),t.Dl.push(n),Ha(t))}function Ha(t){for(;t.Dl.length>0&&t.Cl.size<t.pl;){var e=t.Dl.shift(),n=t.kl.next();t.xl.set(n,new Ia(e)),t.Cl=t.Cl.zt(e,n),Fo(t.yl,new ie($t(qt(e.path)),n,2,C.q))}}function qa(t,e,n){return Object(a.__awaiter)(this,void 0,void 0,(function(){var r,i,o,s;return Object(a.__generator)(this,(function(u){switch(u.label){case 0:return r=g(t),i=[],o=[],s=[],r.vl.et()?[3,3]:(r.vl.forEach((function(t,a){s.push(r.$l(a,e,n).then((function(t){if(t){r.Ll&&r.Vl.Ba(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Ui.oc(a.targetId,t);o.push(e)}})))})),[4,Promise.all(s)]);case 1:return u.sent(),r.bl.ah(i),[4,function(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,s,u,c,f,h;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:n=g(t),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return Qn.forEach(e,(function(e){return Qn.forEach(e.ic,(function(r){return n.persistence.Ti.nr(t,e.targetId,r)})).next((function(){return Qn.forEach(e.rc,(function(r){return n.persistence.Ti.ir(t,e.targetId,r)}))}))}))}))];case 2:return a.sent(),[3,4];case 3:if(!rr(r=a.sent()))throw r;return l("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,o=e;i<o.length;i++)s=o[i],u=s.targetId,s.fromCache||(c=n.fc.get(u),f=c.kt,h=c.$t(f),n.fc=n.fc.zt(u,h));return[2]}}))}))}(r.bh,o)];case 2:u.sent(),u.label=3;case 3:return[2]}}))}))}function Ga(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(a.__generator)(this,(function(i){switch(i.label){case 0:return(n=g(t)).currentUser.isEqual(e)?[3,3]:(l("SyncEngine","User change. New user:",e.A()),[4,Hi(n.bh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Ol.forEach((function(t){t.forEach((function(t){t.reject(new S(I.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.Ol.clear()}(n),n.Vl.Ua(e,r.mc,r.Ac),[4,qa(n,r.Ic)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Wa(t,e){var n=g(t),r=n.xl.get(e);if(r&&r.Pl)return nn().add(r.key);var i=nn(),o=n.Sl.get(e);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.vl.get(u);i=i.Pe(c.view._l)}return i}function Ka(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return Object(a.__generator)(this,(function(o){switch(o.label){case 0:return[4,$i((n=g(t)).bh,e.query,!0)];case 1:return r=o.sent(),i=e.view.Al(r),[2,(n.Ll&&Fa(n,e.targetId,i.Il),i)]}}))}))}function za(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e;return Object(a.__generator)(this,(function(n){return[2,Qi((e=g(t)).bh).then((function(t){return qa(e,t)}))]}))}))}function Xa(t,e,n,r){return Object(a.__awaiter)(this,void 0,void 0,(function(){var i,o;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return[4,function(t,e){var n=g(t),r=g(n.zo);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.yi(t,e).next((function(e){return e?n.Tc.Xo(t,e):Qn.resolve(null)}))}))}((i=g(t)).bh,e)];case 1:return null===(o=a.sent())?[3,6]:"pending"!==n?[3,3]:[4,Zo(i.yl)];case 2:return a.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Ma(i,e,r||null),La(i,e),function(t,e){g(g(t).zo).xi(e)}(i.bh,e)):v(),a.label=4;case 4:return[4,qa(i,o)];case 5:return a.sent(),[3,7];case 6:l("SyncEngine","Cannot apply mutation batch with id: "+e),a.label=7;case 7:return[2]}}))}))}function Ya(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,s,u,c,f;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return es(n=g(t)),ns(n),!0!==e||!0===n.Ml?[3,3]:(r=n.Vl.va(),[4,$a(n,r.it())]);case 1:return i=a.sent(),n.Ml=!0,[4,aa(n.yl,!0)];case 2:for(a.sent(),o=0,s=i;o<s.length;o++)u=s[o],Fo(n.yl,u);return[3,7];case 3:return!1!==e||!1===n.Ml?[3,7]:(c=[],f=Promise.resolve(),n.Sl.forEach((function(t,e){n.Vl.La(e)?c.push(e):f=f.then((function(){return Ua(n,e),Yi(n.bh,e,!0)})),Vo(n.yl,e)})),[4,f]);case 4:return a.sent(),[4,$a(n,c)];case 5:return a.sent(),function(t){var e=g(t);e.xl.forEach((function(t,n){Vo(e.yl,n)})),e.Nl.kc(),e.xl=new Map,e.Cl=new qe(F.H)}(n),n.Ml=!1,[4,aa(n.yl,!1)];case 6:a.sent(),a.label=7;case 7:return[2]}}))}))}function $a(t,e,n){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,s,u,c,f,l,h,d,p,v,y;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:n=g(t),r=[],i=[],o=0,s=e,a.label=1;case 1:return o<s.length?(u=s[o],c=void 0,(f=n.Sl.get(u))&&0!==f.length?[4,Xi(n.bh,$t(f[0]))]:[3,7]):[3,13];case 2:c=a.sent(),l=0,h=f,a.label=3;case 3:return l<h.length?(d=h[l],p=n.vl.get(d),[4,Ka(n,p)]):[3,6];case 4:(v=a.sent()).snapshot&&i.push(v.snapshot),a.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Ji(n.bh,u)];case 8:return y=a.sent(),[4,Xi(n.bh,y)];case 9:return c=a.sent(),[4,xa(n,Ja(y),u,!1)];case 10:a.sent(),a.label=11;case 11:r.push(c),a.label=12;case 12:return o++,[3,1];case 13:return[2,(n.bl.ah(i),r)]}}))}))}function Ja(t){return Ht(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Qa(t){var e=g(t);return g(g(e.bh).persistence).Uo()}function Za(t,e,n,r){return Object(a.__awaiter)(this,void 0,void 0,(function(){var i,o,s;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return(i=g(t)).Ml?(l("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Sl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Qi(i.bh)];case 3:return o=a.sent(),s=cn.Le(e,"current"===n),[4,qa(i,o,s)];case 4:return a.sent(),[3,8];case 5:return[4,Yi(i.bh,e,!0)];case 6:return a.sent(),Ua(i,e,r),[3,8];case 7:v(),a.label=8;case 8:return[2]}}))}))}function ts(t,e,n){return Object(a.__awaiter)(this,void 0,void 0,(function(){var r,i,o,s,u,c,f,h,d,p;return Object(a.__generator)(this,(function(v){switch(v.label){case 0:if(!(r=es(t)).Ml)return[3,10];i=0,o=e,v.label=1;case 1:return i<o.length?(s=o[i],r.Sl.has(s)?(l("SyncEngine","Adding an already active target "+s),[3,5]):[4,Ji(r.bh,s)]):[3,6];case 2:return u=v.sent(),[4,Xi(r.bh,u)];case 3:return c=v.sent(),[4,xa(r,Ja(u),c.targetId,!1)];case 4:v.sent(),Fo(r.yl,c),v.label=5;case 5:return i++,[3,1];case 6:f=function(t){return Object(a.__generator)(this,(function(e){switch(e.label){case 0:return r.Sl.has(t)?[4,Yi(r.bh,t,!1).then((function(){Vo(r.yl,t),Ua(r,t)})).catch(ri)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},h=0,d=n,v.label=7;case 7:return h<d.length?(p=d[h],[5,f(p)]):[3,10];case 8:v.sent(),v.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))}function es(t){var e=g(t);return e.yl.Dh.$h=Aa.bind(null,e),e.yl.Dh.vn=Wa.bind(null,e),e.yl.Dh.Lh=Pa.bind(null,e),e.bl.ah=da.bind(null,e.gl),e.bl.Bl=pa.bind(null,e.gl),e}function ns(t){var e=g(t);return e.yl.Dh.Bh=Ca.bind(null,e),e.yl.Dh.qh=Ra.bind(null,e),e}var rs=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){return Object(a.__generator)(this,(function(e){switch(e.label){case 0:return this.Qt=Ao(t.yu.t),this.Vl=this.Wl(t),this.persistence=this.jl(t),[4,this.persistence.start()];case 1:return e.sent(),this.Gl=this.zl(t),this.bh=this.Hl(t),[2]}}))}))},t.prototype.zl=function(t){return null},t.prototype.Hl=function(t){return Vi(this.persistence,new Bi,t.Jl,this.Qt)},t.prototype.jl=function(t){return new co(lo.ia,this.Qt)},t.prototype.Wl=function(t){return new Eo},t.prototype.terminate=function(){return Object(a.__awaiter)(this,void 0,void 0,(function(){return Object(a.__generator)(this,(function(t){switch(t.label){case 0:return this.Gl&&this.Gl.stop(),[4,this.Vl.Mo()];case 1:return t.sent(),[4,this.persistence.Mo()];case 2:return t.sent(),[2]}}))}))},t}(),is=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Yl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(a.__extends)(e,t),e.prototype.initialize=function(e){return Object(a.__awaiter)(this,void 0,void 0,(function(){return Object(a.__generator)(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Zi(this.bh)];case 2:return n.sent(),[4,this.Yl.initialize(this,e)];case 3:return n.sent(),[4,ns(this.Yl._a)];case 4:return n.sent(),[4,Zo(this.Yl.yl)];case 5:return n.sent(),[2]}}))}))},e.prototype.Hl=function(t){return Vi(this.persistence,new Bi,t.Jl,this.Qt)},e.prototype.zl=function(t){var e=this.persistence.Ti.lr;return new wi(e,t._s)},e.prototype.jl=function(t){var e=Di(t.yu.t,t.yu.persistenceKey),n=void 0!==this.cacheSizeBytes?ni.Ys(this.cacheSizeBytes):ni.ti;return new Pi(this.synchronizeTabs,e,t.clientId,n,t._s,ko(),jo(),this.Qt,this.Vl,!!this.forceOwnership)},e.prototype.Wl=function(t){return new Eo},e}(rs),os=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Yl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(a.__extends)(e,t),e.prototype.initialize=function(e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,r=this;return Object(a.__generator)(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Yl._a,this.Vl instanceof _o?(this.Vl._a={eu:Xa.bind(null,n),nu:Za.bind(null,n),su:ts.bind(null,n),Uo:Qa.bind(null,n),tu:za.bind(null,n)},[4,this.Vl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Ro((function(t){return Object(a.__awaiter)(r,void 0,void 0,(function(){return Object(a.__generator)(this,(function(e){switch(e.label){case 0:return[4,Ya(this.Yl._a,t)];case 1:return e.sent(),this.Gl&&(t&&!this.Gl.Er?this.Gl.start(this.bh):t||this.Gl.stop()),[2]}}))}))}))];case 4:return i.sent(),[2]}}))}))},e.prototype.Wl=function(t){var e=ko();if(!_o.Kn(e))throw new S(I.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Di(t.yu.t,t.yu.persistenceKey);return new _o(e,t._s,n,t.clientId,t.Jl)},e}(is),as=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n=this;return Object(a.__generator)(this,(function(r){switch(r.label){case 0:return this.bh?[3,2]:(this.bh=t.bh,this.Vl=t.Vl,this.Sh=this.Xl(e),this.yl=this.Zl(e),this.gl=this.t_(e),this._a=this.e_(e,!t.synchronizeTabs),this.Vl.fa=function(t){return Na(n._a,t,1)},this.yl.Dh.n_=Ga.bind(null,this._a),[4,aa(this.yl,this._a.Ll)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.t_=function(t){return new fa},t.prototype.Xl=function(t){var e,n=Ao(t.yu.t),r=(e=t.yu,new xo(e));return function(t,e,n){return new Do(t,e,n)}(t.credentials,r,n)},t.prototype.Zl=function(t){var e,n,r,i,o,a=this;return e=this.bh,n=this.Sh,r=t._s,i=function(t){return Na(a._a,t,0)},o=Io.Kn()?new Io:new Oo,new Mo(e,n,r,i,o)},t.prototype.e_=function(t,e){return function(t,e,n,r,i,o,a){var s=new Sa(t,e,n,r,i,o);return a&&(s.Ml=!0),s}(this.bh,this.yl,this.gl,this.Vl,t.Jl,t.pl,e)},t.prototype.terminate=function(){return function(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e;return Object(a.__generator)(this,(function(n){switch(n.label){case 0:return e=g(t),l("RemoteStore","RemoteStore shutting down."),e.Nh.add(5),[4,Bo(e)];case 1:return n.sent(),e.Oh.Mo(),e.kh.set("Unknown"),[2]}}))}))}(this.yl)},t}();var ss=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.s_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.s_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.i_=function(){this.muted=!0},t.prototype.s_=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),us=(function(){function t(t,e){var n=this;this.r_=t,this.Qt=e,this.metadata=new Jn,this.buffer=new Uint8Array,this.o_=new TextDecoder("utf-8"),this.c_().then((function(t){t&&t.sl()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}t.prototype.close=function(){return this.r_.cancel()},t.prototype.getMetadata=function(){return Object(a.__awaiter)(this,void 0,void 0,(function(){return Object(a.__generator)(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Ql=function(){return Object(a.__awaiter)(this,void 0,void 0,(function(){return Object(a.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.c_())]}}))}))},t.prototype.c_=function(){return Object(a.__awaiter)(this,void 0,void 0,(function(){var t,e,n,r;return Object(a.__generator)(this,(function(i){switch(i.label){case 0:return[4,this.a_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.o_.decode(t),n=Number(e),isNaN(n)&&this.u_("length string ("+e+") is not valid number"),[4,this.h_(n)]);case 2:return r=i.sent(),[2,new ga(JSON.parse(r),t.length+n)]}}))}))},t.prototype.l_=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.a_=function(){return Object(a.__awaiter)(this,void 0,void 0,(function(){var t,e;return Object(a.__generator)(this,(function(n){switch(n.label){case 0:return this.l_()<0?[4,this.__()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.l_())<0&&this.u_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.h_=function(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e;return Object(a.__generator)(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.__()]:[3,3];case 1:n.sent()&&this.u_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.o_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.u_=function(t){throw this.r_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.__=function(){return Object(a.__awaiter)(this,void 0,void 0,(function(){var t,e;return Object(a.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.r_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new S(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.f_=new B(t)}return t.prototype.isEqual=function(t){return this.f_.isEqual(t.f_)},t}()),cs=function(t){this._methodName=t},fs=function(t){this.d_=t};function ls(t,e,n){if(!n)throw new S(I.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function hs(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new S(I.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function ds(t,e,n,r){if(!0===e&&!0===r)throw new S(I.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function ps(t){if(!F.wt(t))throw new S(I.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function vs(t){if(F.wt(t))throw new S(I.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function ys(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":v()}function gs(t,e){if("_delegate"in t&&(t=t.d_),!(t instanceof e)){if(e.name===t.constructor.name)throw new S(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=ys(t);throw new S(I.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function ms(t,e){if(e<=0)throw new S(I.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var bs=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new S(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new S(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,ds("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),ws=new Map,_s=function(){function t(t,e){this.w_="(lite)",this.E_=new bs({}),this.T_=!1,t instanceof u?(this.I_=t,this.m_=new j):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new S(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new u(t.options.projectId)}(t),this.m_=new A(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new S(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new S(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new bs(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new j;switch(t.type){case"gapi":var e=t.client;return y(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new P(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new S(I.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.toJSON=function(){return{app:this.A_,t:this.I_,settings:this.E_}},t.prototype.b_=function(){return this,(t=ws.get(this))&&(l("ComponentProvider","Removing Datastore"),ws.delete(this),t.terminate()),Promise.resolve();var t},t}(),Es=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Is(this.firestore,this.v_,this.S_.path.X())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),Os=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),Is=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,qt(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Object(a.__extends)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.X();return t.et()?null:new Es(this.firestore,null,new F(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(Os);function Ss(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof fs&&(t=t.d_),ls("collection","path",e),t instanceof _s)return vs(n=M.ot.apply(M,Object(a.__spreadArrays)([e],r))),new Is(t,null,n);if(!(t instanceof Es||t instanceof Is))throw new S(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return vs(n=M.ot.apply(M,Object(a.__spreadArrays)([t.path],r)).child(M.ot(e))),new Is(t.firestore,null,n)}function Ts(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof fs&&(t=t.d_),1===arguments.length&&(e=b.u()),ls("doc","path",e),t instanceof _s)return ps(n=M.ot.apply(M,Object(a.__spreadArrays)([e],r))),new Es(t,null,new F(n));if(!(t instanceof Es||t instanceof Is))throw new S(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return ps(n=t.D_.child(M.ot.apply(M,Object(a.__spreadArrays)([e],r)))),new Es(t.firestore,t instanceof Is?t.v_:null,new F(n))}function xs(t,e){return t instanceof fs&&(t=t.d_),e instanceof fs&&(e=e.d_),(t instanceof Es||t instanceof Is)&&(e instanceof Es||e instanceof Is)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function ks(t,e){return t instanceof fs&&(t=t.d_),e instanceof fs&&(e=e.d_),t instanceof Os&&e instanceof Os&&t.firestore===e.firestore&&Qt(t.C_,e.C_)&&t.v_===e.v_}var js=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new S(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new S(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.U=function(t){return w(this.x_,t.x_)||w(this.N_,t.N_)},t}(),As=/^__.*__$/,Ns=function(){function t(t,e,n){this.data=t,this.Gt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return null!==this.Gt?new Ne(t,this.data,this.Gt,e,this.fieldTransforms):new Ae(t,this.data,e,this.fieldTransforms)},t}(),Ps=function(){function t(t,e,n){this.data=t,this.Gt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return new Ne(t,this.data,this.Gt,e,this.fieldTransforms)},t}();function Cs(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw v()}}var Rs=function(){function t(t,e,n,r,i,o){this.settings=t,this.t=e,this.Qt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.O_(),this.fieldTransforms=i||[],this.Gt=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.Qt,this.ignoreUndefinedProperties,this.fieldTransforms,this.Gt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.O_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return tu(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(t){return void 0!==this.Gt.find((function(e){return t.nt(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.nt(e.field)}))},t.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(Cs(this.k_)&&As.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),Ds=function(){function t(t,e,n){this.t=t,this.ignoreUndefinedProperties=e,this.Qt=n||Ao(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new Rs({k_:t,methodName:e,j_:n,path:B.ct(),B_:!1,W_:r},this.t,this.Qt,this.ignoreUndefinedProperties)},t}();function Ls(t){var e=t.p_(),n=Ao(t.I_);return new Ds(t.I_,!!e.ignoreUndefinedProperties,n)}function Ms(t,e,n,r,i,o){void 0===o&&(o={});var a=t.G_(o.merge||o.mergeFields?2:0,e,n,i);$s("Data must be an object, but it was:",a,r);var s,u,c=Xs(r,a);if(o.merge)s=new G(a.Gt),u=a.fieldTransforms;else if(o.mergeFields){for(var f=[],l=0,h=o.mergeFields;l<h.length;l++){var d=Js(e,h[l],n);if(!a.contains(d))throw new S(I.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");eu(f,d)||f.push(d)}s=new G(f),u=a.fieldTransforms.filter((function(t){return s.Tt(t.field)}))}else s=null,u=a.fieldTransforms;return new Ns(new pt(c),s,u)}var Us=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw 1===t.k_?t.K_(this._methodName+"() can only appear at the top level of your update data"):t.K_(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.Gt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(cs);function Bs(t,e,n){return new Rs({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.t,e.Qt,e.ignoreUndefinedProperties)}var Fs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(e,t),e.prototype.z_=function(t){return new we(t.path,new he)},e.prototype.isEqual=function(t){return t instanceof e},e}(cs),Vs=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(a.__extends)(e,t),e.prototype.z_=function(t){var e=Bs(this,t,!0),n=this.H_.map((function(t){return zs(t,e)})),r=new de(n);return new we(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(cs),Hs=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(a.__extends)(e,t),e.prototype.z_=function(t){var e=Bs(this,t,!0),n=this.H_.map((function(t){return zs(t,e)})),r=new ve(n);return new we(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(cs),qs=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Object(a.__extends)(e,t),e.prototype.z_=function(t){var e=new ge(t.Qt,se(t.Qt,this.J_));return new we(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(cs);function Gs(t,e,n,r){var i=t.G_(1,e,n);$s("Data must be an object, but it was:",i,r);var o=[],a=new vt;H(r,(function(t,r){var s=Zs(e,t,n);r instanceof fs&&(r=r.d_);var u=i.U_(s);if(r instanceof Us)o.push(s);else{var c=zs(r,u);null!=c&&(o.push(s),a.set(s,c))}}));var s=new G(o);return new Ps(a.Pt(),s,i.fieldTransforms)}function Ws(t,e,n,r,i,o){var a=t.G_(1,e,n),s=[Js(e,r,n)],u=[i];if(o.length%2!=0)throw new S(I.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)s.push(Js(e,o[c])),u.push(o[c+1]);for(var f=[],l=new vt,h=s.length-1;h>=0;--h)if(!eu(f,s[h])){var d=s[h],p=u[h];p instanceof fs&&(p=p.d_);var v=a.U_(d);if(p instanceof Us)f.push(d);else{var y=zs(p,v);null!=y&&(f.push(d),l.set(d,y))}}var g=new G(f);return new Ps(l.Pt(),g,a.fieldTransforms)}function Ks(t,e,n,r){return void 0===r&&(r=!1),zs(n,t.G_(r?4:3,e))}function zs(t,e){if(t instanceof fs&&(t=t.d_),Ys(t))return $s("Unsupported field value:",e,t),Xs(t,e);if(t instanceof cs)return function(t,e){if(!Cs(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.Gt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=zs(o[i],e.Q_(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof fs&&(t=t.d_),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return se(e.Qt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=R.fromDate(t);return{timestampValue:_n(e.Qt,n)}}if(t instanceof R)return n=new R(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:_n(e.Qt,n)};if(t instanceof js)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof T)return{bytesValue:En(e.Qt,t.I)};if(t instanceof Es){n=e.t;var r=t.firestore.I_;if(!r.isEqual(n))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Sn(t.firestore.I_||e.t,t.S_.path)}}throw e.K_("Unsupported field value: "+ys(t))}(t,e)}function Xs(t,e){var n={};return q(t)?e.path&&e.path.length>0&&e.Gt.push(e.path):H(t,(function(t,r){var i=zs(r,e.L_(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function Ys(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof R||t instanceof js||t instanceof T||t instanceof Es||t instanceof cs)}function $s(t,e,n){if(!Ys(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=ys(n);throw"an object"===r?e.K_(t+" a custom object"):e.K_(t+" "+r)}}function Js(t,e,n){if(e instanceof fs&&(e=e.d_),e instanceof us)return e.f_;if("string"==typeof e)return Zs(t,e);throw tu("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Qs=new RegExp("[~\\*/\\[\\]]");function Zs(t,e,n){if(e.search(Qs)>=0)throw tu("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(us.bind.apply(us,Object(a.__spreadArrays)([void 0],e.split("."))))).f_}catch(r){throw tu("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function tu(t,e,n,r,i){var o=r&&!r.et(),a=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new S(I.INVALID_ARGUMENT,(s+=". ")+t+u)}function eu(t,e){return t.some((function(t){return t.isEqual(e)}))}var nu=function(){function t(t){this.Sh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e,n=this;return Object(a.__generator)(this,(function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new S(I.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,s,u;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return n=g(t),r=Nn(n.Qt)+"/documents",i={documents:e.map((function(t){return xn(n.Qt,t)}))},[4,n.Du("BatchGetDocuments",r,i)];case 1:return o=a.sent(),s=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){y(!!e.found),e.found.name,e.found.updateTime;var n=kn(t,e.found.name),r=In(e.found.updateTime),i=new pt({mapValue:{fields:e.found.fields}});return new mt(n,r,i,{})}(t,e):"missing"in e?function(t,e){y(!!e.missing),y(!!e.readTime);var n=kn(t,e.missing),r=In(e.readTime);return new bt(n,r)}(t,e):v()}(n.Qt,t);s.set(e.key.toString(),e)})),u=[],[2,(e.forEach((function(t){var e=s.get(t.toString());y(!!e),u.push(e)})),u)]}}))}))}(this.Sh,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof bt||t instanceof mt?n.sf(t):v()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.F_(t,this.jt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new Ue(t,this.jt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object(a.__awaiter)(this,void 0,void 0,(function(){var t,e=this;return Object(a.__generator)(this,(function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=F._t(n);e.mutations.push(new Be(r,e.jt(r)))})),[4,function(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,r,i;return Object(a.__generator)(this,(function(o){switch(o.label){case 0:return n=g(t),r=Nn(n.Qt)+"/documents",i={writes:e.map((function(t){return Dn(n.Qt,t)}))},[4,n.pu("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.Sh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}}))}))},t.prototype.sf=function(t){var e;if(t instanceof mt)e=t.version;else{if(!(t instanceof bt))throw v();e=D.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new S(I.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.jt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?Ee.updateTime(e):Ee.Kt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(D.min()))throw new S(I.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ee.updateTime(e)}return Ee.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),ru=function(){function t(t,e,n,r){this._s=t,this.Sh=e,this.updateFunction=n,this.Es=r,this.cf=5,this.Gu=new No(this._s,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.Gu.$u((function(){return Object(a.__awaiter)(t,void 0,void 0,(function(){var t,e,n=this;return Object(a.__generator)(this,(function(r){return t=new nu(this.Sh),(e=this.uf(t))&&e.then((function(e){n._s.Ps((function(){return t.commit().then((function(){n.Es.resolve(e)})).catch((function(t){n.hf(t)}))}))})).catch((function(t){n.hf(t)})),[2]}))}))}))},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!Q(e)&&e.catch&&e.then?e:(this.Es.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Es.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this._s.Ps((function(){return e.af(),Promise.resolve()}))):this.Es.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Ve(e)}return!1},t}(),iu=function(){function t(t,e,n){var r=this;this.credentials=t,this._s=e,this.yu=n,this.user=x.UNAUTHENTICATED,this.clientId=b.u(),this._f=function(){},this.C=new Jn,this.credentials.v((function(t){l("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.C.resolve()}))}return t.prototype.getConfiguration=function(){return Object(a.__awaiter)(this,void 0,void 0,(function(){return Object(a.__generator)(this,(function(t){switch(t.label){case 0:return[4,this.C.promise];case 1:return[2,(t.sent(),{_s:this._s,yu:this.yu,clientId:this.clientId,credentials:this.credentials,Jl:this.user,pl:100})]}}))}))},t.prototype.ff=function(t){var e=this;this._f=t,this.C.promise.then((function(){return e._f(e.user)}))},t.prototype.df=function(){if(this._s.wf)throw new S(I.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this._s.Ef();var e=new Jn;return this._s.Tf((function(){return Object(a.__awaiter)(t,void 0,void 0,(function(){var t,n;return Object(a.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.S(),e.resolve(),[3,6];case 5:return t=r.sent(),n=cr(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function ou(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,r,i=this;return Object(a.__generator)(this,(function(o){switch(o.label){case 0:return t._s.Af(),l("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=o.sent(),[4,e.initialize(n)];case 2:return o.sent(),r=n.Jl,t.ff((function(n){r.isEqual(n)||(r=n,t._s.po((function(){return Object(a.__awaiter)(i,void 0,void 0,(function(){return Object(a.__generator)(this,(function(t){switch(t.label){case 0:return[4,Hi(e.bh,n)];case 1:return t.sent(),[2]}}))}))})))})),e.persistence.Po((function(){return t.terminate()})),t.mf=e,[2]}}))}))}function au(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(a.__generator)(this,(function(i){switch(i.label){case 0:return t._s.Af(),[4,su(t)];case 1:return n=i.sent(),l("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff((function(n){return t._s.po((function(){return function(t,e){return Object(a.__awaiter)(this,void 0,void 0,(function(){var n,r;return Object(a.__generator)(this,(function(i){switch(i.label){case 0:return(n=g(t))._s.Af(),l("RemoteStore","RemoteStore received new credentials"),r=Ko(n),n.Nh.add(3),[4,Bo(n)];case 1:return i.sent(),r&&n.kh.set("Unknown"),[4,n.Dh.n_(e)];case 2:return i.sent(),n.Nh.delete(3),[4,Uo(n)];case 3:return i.sent(),[2]}}))}))}(e.yl,n)}))})),t.If=e,[2]}}))}))}function su(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){return Object(a.__generator)(this,(function(e){switch(e.label){case 0:return t.mf?[3,2]:(l("FirestoreClient","Using default OfflineComponentProvider"),[4,ou(t,new rs)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}}))}))}function uu(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){return Object(a.__generator)(this,(function(e){switch(e.label){case 0:return t.If?[3,2]:(l("FirestoreClient","Using default OnlineComponentProvider"),[4,au(t,new as)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}}))}))}function cu(t){return su(t).then((function(t){return t.persistence}))}function fu(t){return su(t).then((function(t){return t.bh}))}function lu(t){return uu(t).then((function(t){return t.yl}))}function hu(t){return uu(t).then((function(t){return t._a}))}function du(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e,n;return Object(a.__generator)(this,(function(r){switch(r.label){case 0:return[4,uu(t)];case 1:return e=r.sent(),[2,((n=e.gl).jh=Ta.bind(null,e._a),n.Hh=ka.bind(null,e._a),n)]}}))}))}function pu(t,e,n){var r=this;void 0===n&&(n={});var i=new Jn;return t._s.Ps((function(){return Object(a.__awaiter)(r,void 0,void 0,(function(){var r;return Object(a.__generator)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new ss({next:function(o){e.Ps((function(){return ha(t,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new S(I.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new S(I.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new ya(qt(n.path),o,{includeMetadataChanges:!0,nl:!0});return la(t,a)},[4,du(t)];case 1:return[2,r.apply(void 0,[o.sent(),t._s,e,n,i])]}}))}))})),i.promise}function vu(t,e,n){var r=this;void 0===n&&(n={});var i=new Jn;return t._s.Ps((function(){return Object(a.__awaiter)(r,void 0,void 0,(function(){var r;return Object(a.__generator)(this,(function(o){switch(o.label){case 0:return r=function(t,e,n,r,i){var o=new ss({next:function(n){e.Ps((function(){return ha(t,a)})),n.fromCache&&"server"===r.source?i.reject(new S(I.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new ya(n,o,{includeMetadataChanges:!0,nl:!0});return la(t,a)},[4,du(t)];case 1:return[2,r.apply(void 0,[o.sent(),t._s,e,n,i])]}}))}))})),i.promise}var yu=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.Gu=new No(this,"async_queue_retry"),this.vf=function(){var e=jo();e&&l("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Gu.qu()};var e=jo();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.Ps=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=jo();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise((function(t){})):this.Df(t)},t.prototype.po=function(t){var e=this;this.Ps((function(){return e.Pf.push(t),e.Cf()}))},t.prototype.Cf=function(){return Object(a.__awaiter)(this,void 0,void 0,(function(){var t,e=this;return Object(a.__generator)(this,(function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.Gu.reset(),[3,4];case 3:if(!rr(t=n.sent()))throw t;return l("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.Gu.$u((function(){return e.Cf()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Df=function(t){var e=this,n=this.Rf.then((function(){return e.pf=!0,t().catch((function(t){throw e.Vf=t,e.pf=!1,h("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.pf=!1,t}))}));return this.Rf=n,n},t.prototype.Tr=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=ur.Ts(this,t,e,n,(function(t){return r.xf(t)}));return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&v()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object(a.__awaiter)(this,void 0,void 0,(function(){var t;return Object(a.__generator)(this,(function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Ff=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].fs===t)return!0;return!1},t.prototype.Of=function(t){var e=this;return this.Nf().then((function(){e.gf.sort((function(t,e){return t.ds-e.ds}));for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Rs(),"all"!==t&&i.fs===t)break}return e.Nf()}))},t.prototype.kf=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}();function gu(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this.Mf={},this.Lf=new Jn,this.$f={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.Mf={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.Lf.promise.catch(t)},t.prototype.then=function(t,e){return this.Lf.promise.then(t,e)},t.prototype.ql=function(t){this.Ul(t),this.Mf.complete&&this.Mf.complete(),this.Lf.resolve(t)},t.prototype.Kl=function(t){this.$f.taskState="Error",this.Mf.next&&this.Mf.next(this.$f),this.Mf.error&&this.Mf.error(t),this.Lf.reject(t)},t.prototype.Ul=function(t){this.$f=t,this.Mf.next&&this.Mf.next(t)}}();var mu=-1,bu=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Bf=new yu,r.w_="name"in e?e.name:"[DEFAULT]",r}return Object(a.__extends)(e,t),e.prototype.b_=function(){return this.qf||_u(this),this.qf.terminate()},e}(_s);function wu(t){return t.qf||_u(t),t.qf.df(),t.qf}function _u(t){var e=t.p_(),n=function(t,e,n){return new s(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.qf=new iu(t.m_,t.Bf,n)}function Eu(t,e,n){var r=this,i=new Jn;return t._s.enqueue((function(){return Object(a.__awaiter)(r,void 0,void 0,(function(){var r;return Object(a.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),[4,ou(t,n)];case 1:return o.sent(),[4,au(t,e)];case 2:return o.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===I.FAILED_PRECONDITION||t.code===I.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=o.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return i.promise}))}function Ou(t){if(t.R_||t.P_)throw new S(I.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Iu=function(){function t(){}return t.prototype.Uf=function(t,e){switch(void 0===e&&(e="none"),et(t)){case 0:return null;case 1:return t.booleanValue;case 2:return z(t.integerValue||t.doubleValue);case 3:return this.Qf(t.timestampValue);case 4:return this.Kf(t,e);case 5:return t.stringValue;case 6:return this.Wf(X(t.bytesValue));case 7:return this.jf(t.referenceValue);case 8:return this.Gf(t.geoPointValue);case 9:return this.zf(t.arrayValue,e);case 10:return this.Hf(t.mapValue,e);default:throw v()}},t.prototype.Hf=function(t,e){var n=this,r={};return H(t.fields||{},(function(t,i){r[t]=n.Uf(i,e)})),r},t.prototype.Gf=function(t){return new js(z(t.latitude),z(t.longitude))},t.prototype.zf=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.Uf(t,e)}))},t.prototype.Kf=function(t,e){switch(e){case"previous":var n=$(t);return null==n?null:this.Uf(n,e);case"estimate":return this.Qf(J(t));default:return null}},t.prototype.Qf=function(t){var e=K(t);return new R(e.seconds,e.nanos)},t.prototype.Jf=function(t,e){var n=M.ot(t);y($n(n));var r=new u(n.get(1),n.get(3)),i=new F(n.Y(5));return r.isEqual(e)||h("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),Su=function(){function t(t,e,n,r,i){this.Yf=t,this.Xf=e,this.S_=n,this.Zf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new Es(this.Yf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Zf},t.prototype.data=function(){if(this.Zf){if(this.v_){var t=new Tu(this.Yf,this.Xf,this.S_,this.Zf,null);return this.v_.fromFirestore(t)}return this.Xf.Uf(this.Zf.bt())}},t.prototype.get=function(t){if(this.Zf){var e=this.Zf.data().field(xu("DocumentSnapshot.get",t));if(null!==e)return this.Xf.Uf(e)}},t}(),Tu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Su);function xu(t,e){return"string"==typeof e?Zs(t,e):e instanceof fs?e.d_.f_:e.f_}function ku(t){if(Wt(t)&&0===t.xt.length)throw new S(I.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ju=function(){};function Au(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o.td(t)}return t}var Nu=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).ed=e,i.nd=n,i.sd=r,i.type="where",i}return Object(a.__extends)(e,t),e.prototype.td=function(t){var e=Ls(t.firestore),n=function(t,e,n,r,i,o,a){var s;if(i.ut()){if("array-contains"===o||"array-contains-any"===o)throw new S(I.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){Uu(a,o);for(var u=[],c=0,f=a;c<f.length;c++){var l=f[c];u.push(Mu(r,t,l))}s={arrayValue:{values:u}}}else s=Mu(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Uu(a,o),s=Ks(n,"where",a,"in"===o||"not-in"===o);var h=Tt.create(i,o,s);return function(t,e){if(e.Ct()){var n=zt(t);if(null!==n&&!n.isEqual(e.field))throw new S(I.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Kt(t);null!==r&&Bu(t,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new S(I.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new S(I.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.I_,this.ed,this.nd,this.sd);return new Os(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new Vt(t.path,t.collectionGroup,t.xt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(ju),Pu=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ed=e,r.rd=n,r.type="orderBy",r}return Object(a.__extends)(e,t),e.prototype.td=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new S(I.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new S(I.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Mt(e,n);return function(t,e){if(null===Kt(t)){var n=zt(t);null!==n&&Bu(t,n,e.field)}}(t,r),r}(t.C_,this.ed,this.rd);return new Os(t.firestore,t.v_,function(t,e){var n=t.xt.concat([e]);return new Vt(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(ju),Cu=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.od=n,i.ad=r,i}return Object(a.__extends)(e,t),e.prototype.td=function(t){return new Os(t.firestore,t.v_,Jt(t.C_,this.od,this.ad))},e}(ju),Ru=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ud=n,i.hd=r,i}return Object(a.__extends)(e,t),e.prototype.td=function(t){var e=Lu(t,this.type,this.ud,this.hd);return new Os(t.firestore,t.v_,function(t,e){return new Vt(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(ju),Du=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ud=n,i.hd=r,i}return Object(a.__extends)(e,t),e.prototype.td=function(t){var e=Lu(t,this.type,this.ud,this.hd);return new Os(t.firestore,t.v_,function(t,e){return new Vt(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(ju);function Lu(t,e,n,r){if(n[0]instanceof fs&&(n[0]=n[0].d_),n[0]instanceof Su)return function(t,e,n,r,i){if(!r)throw new S(I.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=Yt(t);a<s.length;a++){var u=s[a];if(u.field.ut())o.push(ut(e,r.key));else{var c=r.field(u.field);if(Y(c))throw new S(I.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var f=u.field.rt();throw new S(I.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+f+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Dt(o,i)}(t.C_,t.firestore.I_,e,n[0].Zf,r);var i=Ls(t.firestore);return function(t,e,n,r,i,o){var a=t.xt;if(i.length>a.length)throw new S(I.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.ut()){if("string"!=typeof c)throw new S(I.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Xt(t)&&-1!==c.indexOf("/"))throw new S(I.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var f=t.path.child(M.ot(c));if(!F.wt(f))throw new S(I.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+f+"' is not because it contains an odd number of segments.");var l=new F(f);s.push(ut(e,l))}else{var h=Ks(n,r,c);s.push(h)}}return new Dt(s,o)}(t.C_,t.firestore.I_,i,e,n,r)}function Mu(t,e,n){if(n instanceof fs&&(n=n.d_),"string"==typeof n){if(""===n)throw new S(I.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Xt(e)&&-1!==n.indexOf("/"))throw new S(I.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(M.ot(n));if(!F.wt(r))throw new S(I.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return ut(t,new F(r))}if(n instanceof Es)return ut(t,n.S_);throw new S(I.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+ys(n)+".")}function Uu(t,e){if(!Array.isArray(t)||0===t.length)throw new S(I.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new S(I.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Bu(t,e,n){if(!n.isEqual(e))throw new S(I.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function Fu(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Vu=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(a.__extends)(e,t),e.prototype.Wf=function(t){return new T(t)},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return new Es(this.firestore,null,e)},e}(Iu),Hu=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),qu=function(t){function e(e,n,r,i,o,a){var s=this;return(s=t.call(this,e,n,r,i,a)||this).Yf=e,s.ld=e,s.metadata=o,s}return Object(a.__extends)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Zf){if(this.v_){var e=new Gu(this.Yf,this.Xf,this.S_,this.Zf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Xf.Uf(this.Zf.bt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Zf){var n=this.Zf.data().field(xu("DocumentSnapshot.get",t));if(null!==n)return this.Xf.Uf(n,e.serverTimestamps)}},e}(Su),Gu=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(qu),Wu=function(){function t(t,e,n,r){this.Yf=t,this.Xf=e,this._d=r,this.metadata=new Hu(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._d.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._d.docs.forEach((function(r){t.call(e,new Gu(n.Yf,n.Xf,r.key,r,new Hu(n._d.De.has(r.key),n._d.fromCache),n.query.v_))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._d.xe)throw new S(I.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.fd&&this.dd===e||(this.fd=function(t,e){if(t._d.Se.et()){var n=0;return t._d.docChanges.map((function(e){var r=new Gu(t.Yf,t.Xf,e.doc.key,e.doc,new Hu(t._d.De.has(e.doc.key),t._d.fromCache),t.query.v_);return e.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=t._d.Se;return t._d.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new Gu(t.Yf,t.Xf,e.doc.key,e.doc,new Hu(t._d.De.has(e.doc.key),t._d.fromCache),t.query.v_),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Ku(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this.dd=e),this.fd},t}();function Ku(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return v()}}function zu(t,e){return t instanceof qu&&e instanceof qu?t.Yf===e.Yf&&t.S_.isEqual(e.S_)&&(null===t.Zf?null===e.Zf:t.Zf.isEqual(e.Zf))&&t.v_===e.v_:t instanceof Wu&&e instanceof Wu&&t.Yf===e.Yf&&ks(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._d.isEqual(e._d)}var Xu=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(a.__extends)(e,t),e.prototype.Wf=function(t){return new T(t)},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return new Es(this.firestore,null,e)},e}(Iu);function Yu(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=gs(t,Es);var o=gs(t.firestore,bu),a=Ls(o);return e instanceof fs&&(e=e.d_),Ju(o,[("string"==typeof e||e instanceof us?Ws(a,"updateDoc",t.S_,e,n,r):Gs(a,"updateDoc",t.S_,e)).F_(t.S_,Ee.exists(!0))])}function $u(t){for(var e,n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];t instanceof fs&&(t=t.d_);var s={includeMetadataChanges:!1},u=0;"object"!=typeof i[u]||gu(i[u])||(s=i[u],u++);var c,f,l,h={includeMetadataChanges:s.includeMetadataChanges};if(gu(i[u])){var d=i[u];i[u]=null===(e=d.next)||void 0===e?void 0:e.bind(d),i[u+1]=null===(n=d.error)||void 0===n?void 0:n.bind(d),i[u+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}if(t instanceof Es)f=gs(t.firestore,bu),l=qt(t.S_.path),c={next:function(e){i[u]&&i[u](Qu(f,t,e))},error:i[u+1],complete:i[u+2]};else{var p=gs(t,Os);f=gs(p.firestore,bu),l=p.C_;var v=new Xu(f);c={next:function(t){i[u]&&i[u](new Wu(f,v,p,t))},error:i[u+1],complete:i[u+2]},ku(t.C_)}return function(t,e,n,r){var i=this,o=new ss(r),s=new ya(e,o,n);return t._s.Ps((function(){return Object(a.__awaiter)(i,void 0,void 0,(function(){var e;return Object(a.__generator)(this,(function(n){switch(n.label){case 0:return e=la,[4,du(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))})),function(){o.i_(),t._s.Ps((function(){return Object(a.__awaiter)(i,void 0,void 0,(function(){var e;return Object(a.__generator)(this,(function(n){switch(n.label){case 0:return e=ha,[4,du(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))}))}}(wu(f),l,h,c)}function Ju(t,e){return function(t,e){var n=this,r=new Jn;return t._s.Ps((function(){return Object(a.__awaiter)(n,void 0,void 0,(function(){var n;return Object(a.__generator)(this,(function(i){switch(i.label){case 0:return n=ja,[4,hu(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(wu(t),e)}function Qu(t,e,n){var r=n.docs.get(e.S_),i=new Xu(t);return new qu(t,i,e.S_,r,new Hu(n.hasPendingWrites,n.fromCache),e.v_)}var Zu=function(){function t(t,e){this.Yf=t,this.wd=e,this.Ed=[],this.Td=!1,this.Id=Ls(t)}return t.prototype.set=function(t,e,n){this.md();var r=tc(t,this.Yf),i=Fu(r.v_,e,n),o=Ms(this.Id,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.Ed.push(o.F_(r.S_,Ee.Kt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.md();var o,a=tc(t,this.Yf);return e instanceof fs&&(e=e.d_),o="string"==typeof e||e instanceof us?Ws(this.Id,"WriteBatch.update",a.S_,e,n,r):Gs(this.Id,"WriteBatch.update",a.S_,e),this.Ed.push(o.F_(a.S_,Ee.exists(!0))),this},t.prototype.delete=function(t){this.md();var e=tc(t,this.Yf);return this.Ed=this.Ed.concat(new Ue(e.S_,Ee.Kt())),this},t.prototype.commit=function(){return this.md(),this.Td=!0,this.Ed.length>0?this.wd(this.Ed):Promise.resolve()},t.prototype.md=function(){if(this.Td)throw new S(I.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function tc(t,e){if(t instanceof fs&&(t=t.d_),t.firestore!==e)throw new S(I.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var ec=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Yf=e,r}return Object(a.__extends)(e,t),e.prototype.get=function(e){var n=this,r=tc(e,this.Yf),i=new Xu(this.Yf);return t.prototype.get.call(this,e).then((function(t){return new qu(n.Yf,i,r.S_,t.Zf,new Hu(!1,!1),r.v_)}))},e}(function(){function t(t,e){this.Yf=t,this.Ad=e,this.Id=Ls(t)}return t.prototype.get=function(t){var e=this,n=tc(t,this.Yf),r=new Vu(this.Yf);return this.Ad.ef([n.S_]).then((function(t){if(!t||1!==t.length)return v();var i=t[0];if(i instanceof bt)return new Su(e.Yf,r,n.S_,null,n.v_);if(i instanceof mt)return new Su(e.Yf,r,i.key,i,n.v_);throw v()}))},t.prototype.set=function(t,e,n){var r=tc(t,this.Yf),i=Fu(r.v_,e,n),o=Ms(this.Id,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Ad.set(r.S_,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a=tc(t,this.Yf);return e instanceof fs&&(e=e.d_),o="string"==typeof e||e instanceof us?Ws(this.Id,"Transaction.update",a.S_,e,n,r):Gs(this.Id,"Transaction.update",a.S_,e),this.Ad.update(a.S_,o),this},t.prototype.delete=function(t){var e=tc(t,this.Yf);return this.Ad.delete(e.S_),this},t}());function nc(){if("undefined"==typeof Uint8Array)throw new S(I.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function rc(){if("undefined"==typeof atob)throw new S(I.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var ic=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(e,t),e.fromBase64String=function(t){return rc(),new e(T.fromBase64String(t))},e.fromUint8Array=function(t){return nc(),new e(T.fromUint8Array(t))},e.prototype.toBase64=function(){return rc(),this.d_.toBase64()},e.prototype.toUint8Array=function(){return nc(),this.d_.toUint8Array()},e.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(fs),oc=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){Ou(t=gs(t,bu));var n=wu(t),r=t.p_(),i=new as;return Eu(n,i,new is(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t.d_,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){Ou(t=gs(t,bu));var e=wu(t),n=t.p_(),r=new as;return Eu(e,r,new os(r,n.cacheSizeBytes))}(t.d_)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new S(I.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Jn;return t.Bf.Tf((function(){return Object(a.__awaiter)(e,void 0,void 0,(function(){var e;return Object(a.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e;return Object(a.__generator)(this,(function(n){switch(n.label){case 0:return tr.Kn()?(e=t+"main",[4,tr.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(Di(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t.d_)},t}(),ac=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Rd=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof u||(i.Pd=e),i}return Object(a.__extends)(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this.d_.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.d_.V_()),t)).merge,this.d_.g_(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=gs(t,_s)).V_();"firestore.googleapis.com"!==r.host&&r.host!==e&&d("Host has been set in both settings() and useEmulator(), emulator host will be used"),t.g_(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this.d_,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t._s.enqueue((function(){return Object(a.__awaiter)(e,void 0,void 0,(function(){var e,n;return Object(a.__generator)(this,(function(r){switch(r.label){case 0:return[4,cu(t)];case 1:return e=r.sent(),[4,lu(t)];case 2:return n=r.sent(),[2,(e.yo(!0),function(t){var e=g(t);return e.Nh.delete(0),Uo(e)}(n))]}}))}))}))}(wu(gs(this.d_,bu)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t._s.enqueue((function(){return Object(a.__awaiter)(e,void 0,void 0,(function(){var e,n;return Object(a.__generator)(this,(function(r){switch(r.label){case 0:return[4,cu(t)];case 1:return e=r.sent(),[4,lu(t)];case 2:return n=r.sent(),[2,(e.yo(!1),function(t){return Object(a.__awaiter)(this,void 0,void 0,(function(){var e;return Object(a.__generator)(this,(function(n){switch(n.label){case 0:return(e=g(t)).Nh.add(0),[4,Bo(e)];case 1:return n.sent(),e.kh.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(wu(gs(this.d_,bu)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&ds("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Rd.enableMultiTabIndexedDbPersistence(this):this.Rd.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Rd.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.Pd&&(this.Pd._removeServiceInstance("firestore"),this.Pd._removeServiceInstance("firestore-exp")),this.d_._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Jn;return t._s.Ps((function(){return Object(a.__awaiter)(e,void 0,void 0,(function(){var e;return Object(a.__generator)(this,(function(r){switch(r.label){case 0:return e=Da,[4,hu(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(wu(gs(this.d_,bu)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new ss(e);return t._s.Ps((function(){return Object(a.__awaiter)(n,void 0,void 0,(function(){var e;return Object(a.__generator)(this,(function(n){switch(n.label){case 0:return e=function(t,e){g(t).Wh.add(e),e.next()},[4,du(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.i_(),t._s.Ps((function(){return Object(a.__awaiter)(n,void 0,void 0,(function(){var e;return Object(a.__generator)(this,(function(n){switch(n.label){case 0:return e=function(t,e){g(t).Wh.delete(e)},[4,du(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}(wu(t=gs(t,bu)),gu(e)?e:{next:e})}(this.d_,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Pd)throw new S(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Pd},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new _c(this,Ss(this.d_,t))}catch(t){throw dc(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new hc(this,Ts(this.d_,t))}catch(t){throw dc(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new mc(this,function(t,e){if(t=gs(t,_s),ls("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new S(I.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Os(t,null,function(t){return new Vt(M.ct(),t)}(e))}(this.d_,t))}catch(t){throw dc(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Jn;return t._s.Ps((function(){return Object(a.__awaiter)(n,void 0,void 0,(function(){var n;return Object(a.__generator)(this,(function(i){switch(i.label){case 0:return[4,function(t){return uu(t).then((function(t){return t.Sh}))}(t)];case 1:return n=i.sent(),new ru(t._s,n,e,r).run(),[2]}}))}))})),r.promise}(wu(t),(function(n){return e(new ec(t,n))}))}(this.d_,(function(n){return t(new cc(e,n))}))},e.prototype.batch=function(){var t=this;return wu(this.d_),new fc(new Zu(this.d_,(function(e){return Ju(t.d_,e)})))},e.prototype.loadBundle=function(t){throw new S(I.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new S(I.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(fs),sc=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(a.__extends)(e,t),e.prototype.Wf=function(t){return new ic(new T(t))},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return hc.yd(e,this.firestore,null)},e}(Iu);function uc(t){var e;e=t,c.setLogLevel(e)}var cc=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r.Xf=new sc(e),r}return Object(a.__extends)(e,t),e.prototype.get=function(t){var e=this,n=Ec(t);return this.d_.get(n).then((function(t){return new yc(e.Yf,new qu(e.Yf.d_,e.Xf,t.S_,t.Zf,t.metadata,n.v_))}))},e.prototype.set=function(t,e,n){var r=Ec(t);return n?(hs("Transaction.set",n),this.d_.set(r,e,n)):this.d_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Ec(t);return 2===arguments.length?this.d_.update(s,e):(r=this.d_).update.apply(r,Object(a.__spreadArrays)([s,e,n],i)),this},e.prototype.delete=function(t){var e=Ec(t);return this.d_.delete(e),this},e}(fs),fc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(e,t),e.prototype.set=function(t,e,n){var r=Ec(t);return n?(hs("WriteBatch.set",n),this.d_.set(r,e,n)):this.d_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],o=3;o<arguments.length;o++)i[o-3]=arguments[o];var s=Ec(t);return 2===arguments.length?this.d_.update(s,e):(r=this.d_).update.apply(r,Object(a.__spreadArrays)([s,e,n],i)),this},e.prototype.delete=function(t){var e=Ec(t);return this.d_.delete(e),this},e.prototype.commit=function(){return this.d_.commit()},e}(fs),lc=function(t){function e(e,n,r){var i=this;return(i=t.call(this,r)||this).Yf=e,i.Xf=n,i}return Object(a.__extends)(e,t),e.prototype.fromFirestore=function(t,e){var n=new Gu(this.Yf.d_,this.Xf,t.S_,t.Zf,t.metadata,null);return this.d_.fromFirestore(new gc(this.Yf,n),null!=e?e:{})},e.prototype.toFirestore=function(t,e){return e?this.d_.toFirestore(t,e):this.d_.toFirestore(t)},e.gd=function(t,n){var r=e.Vd,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new sc(t),n),i.set(n,o)),o},e}(fs);lc.Vd=new WeakMap;var hc=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Xf=new sc(e),r}return Object(a.__extends)(e,t),e.pd=function(t,n,r){if(t.length%2!=0)throw new S(I.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.rt()+" has "+t.length);return new e(n,new Es(n.d_,r,new F(t)))},e.yd=function(t,n,r){return new e(n,new Es(n.d_,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new _c(this.firestore,this.d_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new _c(this.firestore,Ss(this.d_,t))}catch(t){throw dc(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof fs&&(t=t.d_),t instanceof Es&&xs(this.d_,t)},e.prototype.set=function(t,e){e=hs("DocumentReference.set",e);try{return function(t,e,n){t=gs(t,Es);var r=gs(t.firestore,bu),i=Fu(t.v_,e,n);return Ju(r,[Ms(Ls(r),"setDoc",t.S_,i,null!==t.v_,n).F_(t.S_,Ee.Kt())])}(this.d_,t,e)}catch(t){throw dc(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Yu(this.d_,t):Yu.apply(void 0,Object(a.__spreadArrays)([this.d_,t,e],n))}catch(t){throw dc(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Ju(gs((t=this.d_).firestore,bu),[new Ue(t.S_,Ee.Kt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=pc(e),i=vc(e,(function(e){return new yc(t.firestore,new qu(t.firestore.d_,t.Xf,e.S_,e.Zf,e.metadata,t.d_.v_))}));return $u(this.d_,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=gs(t,Es);var e=gs(t.firestore,bu),n=wu(e),r=new Xu(e);return function(t,e){var n=this,r=new Jn;return t._s.Ps((function(){return Object(a.__awaiter)(n,void 0,void 0,(function(){var n;return Object(a.__generator)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(a.__awaiter)(this,void 0,void 0,(function(){var r,i;return Object(a.__generator)(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,function(t,e){var n=g(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Tc.Ho(t,e)}))}(t,e)];case 1:return(i=o.sent())instanceof mt?n.resolve(i):i instanceof bt?n.resolve(null):n.reject(new S(I.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=o.sent(),i=cr(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}}))}))},[4,fu(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.S_).then((function(n){return new qu(e,r,t.S_,n,new Hu(n instanceof mt&&n.Vt,!0),t.v_)}))}(this.d_):"server"===(null==t?void 0:t.source)?function(t){t=gs(t,Es);var e=gs(t.firestore,bu);return pu(wu(e),t.S_,{source:"server"}).then((function(n){return Qu(e,t,n)}))}(this.d_):function(t){t=gs(t,Es);var e=gs(t.firestore,bu);return pu(wu(e),t.S_).then((function(n){return Qu(e,t,n)}))}(this.d_)).then((function(t){return new yc(e.firestore,new qu(e.firestore.d_,e.Xf,t.S_,t.Zf,t.metadata,e.d_.v_))}))},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(lc.gd(this.firestore,t)))},e}(fs);function dc(t,e,n){return t.message=t.message.replace(e,n),t}function pc(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!gu(r))return r}return{}}function vc(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=gu(t[0])?t[0]:gu(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var yc=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Object(a.__extends)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new hc(this.Yf,this.d_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this.d_.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this.d_.data(t)},e.prototype.get=function(t,e){return this.d_.get(t,e)},e.prototype.isEqual=function(t){return zu(this.d_,t.d_)},e}(fs),gc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(e,t),e.prototype.data=function(t){return this.d_.data(t)},e}(yc),mc=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Xf=new sc(e),r}return Object(a.__extends)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,Au(this.d_,function(t,e,n){var r=e,i=xu("where",t);return new Nu(i,r,n)}(t,n,r)))}catch(t){throw dc(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Au(this.d_,function(t,e){void 0===e&&(e="asc");var n=e,r=xu("orderBy",t);return new Pu(r,n)}(t,n)))}catch(t){throw dc(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Au(this.d_,function(t){return ms("limit",t),new Cu("limit",t,"F")}(t)))}catch(t){throw dc(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Au(this.d_,function(t){return ms("limitToLast",t),new Cu("limitToLast",t,"L")}(t)))}catch(t){throw dc(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Au(this.d_,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ru("startAt",t,!0)}.apply(void 0,t)))}catch(t){throw dc(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Au(this.d_,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ru("startAfter",t,!1)}.apply(void 0,t)))}catch(t){throw dc(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Au(this.d_,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Du("endBefore",t,!0)}.apply(void 0,t)))}catch(t){throw dc(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Au(this.d_,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Du("endAt",t,!1)}.apply(void 0,t)))}catch(t){throw dc(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return ks(this.d_,t.d_)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=gs(t,Os);var e=gs(t.firestore,bu),n=wu(e),r=new Xu(e);return function(t,e){var n=this,r=new Jn;return t._s.Ps((function(){return Object(a.__awaiter)(n,void 0,void 0,(function(){var n;return Object(a.__generator)(this,(function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(a.__awaiter)(this,void 0,void 0,(function(){var r,i,o,s,u;return Object(a.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,$i(t,e,!0)];case 1:return u=a.sent(),r=new Ea(e,u.Rc),i=r.fl(u.documents),o=r.wi(i,!1),n.resolve(o.snapshot),[3,3];case 2:return s=a.sent(),u=cr(s,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}}))}))},[4,fu(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}(n,t.C_).then((function(n){return new Wu(e,r,t,n)}))}(this.d_):"server"===(null==t?void 0:t.source)?function(t){t=gs(t,Os);var e=gs(t.firestore,bu),n=wu(e),r=new Xu(e);return vu(n,t.C_,{source:"server"}).then((function(n){return new Wu(e,r,t,n)}))}(this.d_):function(t){t=gs(t,Os);var e=gs(t.firestore,bu),n=wu(e),r=new Xu(e);return ku(t.C_),vu(n,t.C_).then((function(n){return new Wu(e,r,t,n)}))}(this.d_)).then((function(t){return new wc(e.firestore,new Wu(e.firestore.d_,e.Xf,e.d_,t._d))}))},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=pc(e),i=vc(e,(function(e){return new wc(t.firestore,new Wu(t.firestore.d_,t.Xf,t.d_,e._d))}));return $u(this.d_,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(lc.gd(this.firestore,t)))},e}(fs),bc=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Object(a.__extends)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.d_.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new gc(this.Yf,this.d_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this.d_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this.d_.newIndex},enumerable:!1,configurable:!0}),e}(fs),wc=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Object(a.__extends)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new mc(this.Yf,this.d_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.d_.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.d_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this.d_.docs.map((function(e){return new gc(t.Yf,e)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this.d_.docChanges(t).map((function(t){return new bc(e.Yf,t)}))},e.prototype.forEach=function(t,e){var n=this;this.d_.forEach((function(r){t.call(e,new gc(n.Yf,r))}))},e.prototype.isEqual=function(t){return zu(this.d_,t.d_)},e}(fs),_c=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r.d_=n,r}return Object(a.__extends)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.d_.parent;return t?new hc(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new hc(this.firestore,void 0===t?Ts(this.d_):Ts(this.d_,t))}catch(t){throw dc(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=gs(t.firestore,bu),r=Ts(t),i=Fu(t.v_,e);return Ju(n,[Ms(Ls(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).F_(r.S_,Ee.exists(!1))]).then((function(){return r}))}(this.d_,t).then((function(t){return new hc(e.firestore,t)}))},e.prototype.isEqual=function(t){return xs(this.d_,t.d_)},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(lc.gd(this.firestore,t)))},e}(mc);function Ec(t){return t instanceof fs&&(t=t.d_),gs(t,Es)}var Oc=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(us.bind.apply(us,Object(a.__spreadArrays)([void 0],e))))||this}return Object(a.__extends)(e,t),e.documentId=function(){return new e(B.ht().rt())},e.prototype.isEqual=function(t){return t instanceof fs&&(t=t.d_),t instanceof us&&this.d_.f_.isEqual(t.f_)},e}(fs),Ic=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a.__extends)(e,t),e.serverTimestamp=function(){var t=new Fs("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Us("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Vs("arrayUnion",t)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Hs("arrayRemove",t)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new qs("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},e}(fs)}).call(this,n(30))},1566:function(t,e,n){"use strict";function r(t){return t&&"object"==typeof t&&"default"in t?t.default:t}Object.defineProperty(e,"__esModule",{value:!0});var i=r(n(650)),o=r(n(1283)),a=r(n(456)),s=r(n(1125)),u=r(n(1126)),c=r(n(1567)),f=n(96),l=r(n(464)),h=n(11),d=n(0),p=r(d),v=n(1402);function y(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function g(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){y(o,r,i,a,s,"next",t)}function s(t){y(o,r,i,a,s,"throw",t)}a(void 0)}))}}function m(){return(m=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var b=function(t,e){return t(e={exports:{}},e.exports),e.exports}((function(t){var e=function(t){var e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var i=Object.create((e&&e.prototype instanceof l?e:l).prototype),o=new O(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=w(a,n);if(s){if(s===f)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,o),i}function c(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var f={};function l(){}function h(){}function d(){}var p={};p[i]=function(){return this};var v=Object.getPrototypeOf,y=v&&v(v(I([])));y&&y!==e&&n.call(y,i)&&(p=y);var g=d.prototype=l.prototype=Object.create(p);function m(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var r;this._invoke=function(i,o){function a(){return new e((function(r,a){!function r(i,o,a,s){var u=c(t[i],t,o);if("throw"!==u.type){var f=u.arg,l=f.value;return l&&"object"==typeof l&&n.call(l,"__await")?e.resolve(l.__await).then((function(t){r("next",t,a,s)}),(function(t){r("throw",t,a,s)})):e.resolve(l).then((function(t){f.value=t,a(f)}),(function(t){return r("throw",t,a,s)}))}s(u.arg)}(i,o,r,a)}))}return r=r?r.then(a,a):a()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=c(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,f;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function _(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(_,this),this.reset(!0)}function I(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:S}}function S(){return{value:void 0,done:!0}}return h.prototype=g.constructor=d,d.constructor=h,h.displayName=s(d,a,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,s(t,a,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},m(b.prototype),b.prototype[o]=function(){return this},t.AsyncIterator=b,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new b(u(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},m(g),s(g,a,"Generator"),g[i]=function(){return this},g.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=I,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:I(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}(t.exports);try{regeneratorRuntime=e}catch(t){Function("r","regeneratorRuntime = r")(e)}})),w=d.createContext({enabledChains:{},targetNetwork:h.RenNetwork.Mainnet,setTargetNetwork:function(){},activateConnector:function(){throw new Error("Multiwallet not ready")}}),_=function(t){var e=t.connector,n=t.chain,r=t.status,i=t.update,o=t.targetNetwork,a=t.name,s=d.useCallback((function(t){i({name:a,connector:e,account:t.account,chain:n,provider:t.provider,status:t.renNetwork!==o?"wrong_network":"connected"})}),[i,n,e,o]),u=d.useCallback((function(t){console.warn(t),i({name:a,connector:e,chain:n,error:t,provider:void 0,status:"disconnected"}),e.emitter.removeAllListeners()}),[i,n,e]),c=d.useCallback((function(t){console.debug(t),i({name:a,connector:e,chain:n,provider:void 0,status:"disconnected"})}),[i,n,e]),f=d.useCallback((function(){g(b.mark((function t(){var r;return b.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.activate();case 2:i({name:a,connector:e,chain:n,account:(r=t.sent).account,provider:r.provider,status:r.renNetwork!==o?"wrong_network":"connected"});case 4:case"end":return t.stop()}}),t)})))().catch((function(t){console.error(t),i({name:a,connector:e,chain:n,status:"disconnected",error:t})}))}),[e,i,n,o]);d.useEffect((function(){return e.emitter.addListener(v.ConnectorEvents.UPDATE,s),e.emitter.addListener(v.ConnectorEvents.ERROR,u),e.emitter.addListener(v.ConnectorEvents.DEACTIVATE,c),function(){e.emitter.removeAllListeners()}}),[e,c,u,s]);var l=d.useState(""),h=l[0],p=l[1];return d.useEffect((function(){h!=o&&(p(o),f())}),[f,o,h]),d.useEffect((function(){"reconnecting"===r&&(i({name:a,connector:e,chain:n,status:"connecting"}),f())}),[r]),null},E=function(){return d.useContext(w)},O=f.makeStyles({root:{maxWidth:400,minWidth:380},header:{display:"flex",alignItems:"center",justifyContent:"space-between"},headerTitle:{},headerCloseIcon:{},body:{textTransform:"capitalize"},chainTitle:{textTransform:"capitalize"}}),I=function(t){var e=t.classes,n=t.onClose;return p.createElement(c,{pl:2,className:e.header,flexDirection:"row"},p.createElement(u,{className:e.headerTitle},t.title),p.createElement(s,{className:e.headerCloseIcon,onClick:n,"aria-label":"close"},p.createElement(l,null)))},S=function(t){var e=t.chain,n=t.config,r=t.onClose,i=t.connecting,o=t.wrongNetwork,s=t.targetNetwork,f=t.connectingClasses,l=t.walletClasses,h=t.pickerClasses,d=t.DefaultInfo,v=t.ConnectingInfo,y=t.WrongNetworkInfo,g=t.WalletEntryButton,b=t.WalletChainLabel,w=t.children,_=m({},O(),h),E=n.chains[e],S=p.useState(""),T=S[0],k=S[1],N=p.useState(d?function(){return p.createElement(d,{onClose:r,name:T,acknowledge:function(){return P(void 0)}})}:void 0),P=N[1];return p.createElement(a,{className:_.root},N[0]||i&&(v?p.createElement(v,{name:T,chain:e,onClose:r}):p.createElement(p.Fragment,null,p.createElement(I,{classes:_,onClose:r,title:"Connecting"}),p.createElement(j,{name:T,classes:f,chain:e})))||o&&(y?p.createElement(y,{chain:e,targetNetwork:s,onClose:r}):p.createElement(p.Fragment,null,p.createElement(I,{classes:_,onClose:r,title:"Wrong Network"}),p.createElement(A,{classes:f,name:T,chain:e,targetNetwork:s})))||p.createElement(p.Fragment,null,p.createElement(I,{classes:_,onClose:r,title:"Connect a wallet"}),p.createElement(c,{p:2,className:_.body},b?p.createElement(b,{chain:e}):p.createElement(u,{className:_.chainTitle},e),E.map((function(t){return p.createElement(x,Object.assign({key:t.name},t,{classes:l,onClose:r,onPrev:function(){return P(void 0)},chain:e,setInfo:P,setName:k,WalletEntryButton:g}))})))),w)},T=f.makeStyles((function(t){return{button:{width:"100%",display:"flex",padding:t.spacing(2)},body:{padding:t.spacing(2),flexGrow:1,display:"flex",alignItems:"center",flexDirection:"row",justifyContent:"space-between",textTransform:"capitalize"}}})),x=function(t){var e=t.name,n=t.chain,r=t.logo,o=t.connector,s=t.info,c=t.classes,f=t.onClose,l=t.onPrev,h=t.setInfo,v=t.setName,y=t.WalletEntryButton,g=E().activateConnector,b=d.useCallback((function(t){return h((function(){return p.createElement(t,{onClose:f,onPrev:l,name:e,acknowledge:function(){h(void 0),g(n,o,e)}})}))}),[h,g,f,n,o]),w=m({},T(),c),_=d.useCallback((function(){console.log(e),v(e),s?b(s):g(n,o,e)}),[g,b,s,n,o]);return y?p.createElement(y,{chain:n,onClick:_,name:e,logo:r}):p.createElement(i,{className:w.button,onClick:_},p.createElement(a,{className:w.body},p.createElement(u,null,e)," ",p.createElement("img",{alt:e+" logo",src:r})))},k=f.makeStyles((function(t){return{root:{display:"flex",padding:t.spacing(2),justifyContent:"center"}}})),j=function(t){var e=t.chain,n=t.classes,r=t.name,i=k();return p.createElement(a,{classes:n||i},p.createElement(u,null,"Connecting to ",e,", using ",r))},A=function(t){var e=t.chain,n=t.classes,r=t.targetNetwork,i=t.name,o=k();return p.createElement(a,{classes:n||o},p.createElement(u,null,"Connected to ",e," on the wrong network, please connect to"," ",r," with ",i))};e.ConnectorWatcher=_,e.MultiwalletProvider=function(t){var e=t.children,n=w.Provider,r=d.useState(h.RenNetwork.Mainnet),i=r[0],o=r[1],a=d.useState({}),s=a[0],u=a[1],c=d.useCallback((function(t){u((function(e){var n;return m({},e,((n={})[t.chain]=t,n))}))}),[u]),f=d.useCallback(function(){var t=g(b.mark((function t(e,n,r){var i;return b.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!s.hasOwnProperty(e)){t.next=17;break}if((i=s[e]).name!==r||["disconnected","wrong_network"].includes(null==i?void 0:i.status)){t.next=4;break}return t.abrupt("return");case 4:if("disconnected"===i.status){t.next=13;break}return t.prev=5,t.next=8,i.connector.deactivate();case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(5),console.warn("failed to deactivate old connector",t.t0);case 13:delete s[e],c({connector:n,chain:e,name:r,status:"reconnecting"}),t.next=18;break;case 17:c({connector:n,chain:e,name:r,status:"connecting"});case 18:case"end":return t.stop()}}),t,null,[[5,10]])})));return function(e,n,r){return t.apply(this,arguments)}}(),[s,u,c]);return p.createElement(p.Fragment,null,Object.entries(s).map((function(t){return p.createElement(_,Object.assign({key:t[0]},t[1],{update:c,targetNetwork:i}))})),p.createElement(n,{value:{enabledChains:s,activateConnector:f,targetNetwork:i,setTargetNetwork:o}},e))},e.WalletPicker=S,e.WalletPickerHeader=I,e.WalletPickerModal=function(t){var e,n,r,i=t.open,a=t.options,s=E(),u=s.enabledChains,f=s.targetNetwork,l=s.setTargetNetwork,v="connecting"===(null==(e=u[a.chain])?void 0:e.status),y="connected"===(null==(n=u[a.chain])?void 0:n.status),m="wrong_network"===(null==(r=u[a.chain])?void 0:r.status);d.useEffect((function(){y&&a.onClose()}),[y,a]),d.useEffect((function(){if(a.targetNetwork!==f)switch(a.targetNetwork){case"testnet":l(h.RenNetwork.Testnet);break;case"mainnet":l(h.RenNetwork.Mainnet);break;default:l(a.targetNetwork)}}),[a.targetNetwork,f,l]);var w=d.useCallback(g(b.mark((function t(){var e;return b.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!v&&!m){t.next=9;break}return t.prev=1,t.next=4,null==(e=u[a.chain])?void 0:e.connector.deactivate();case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),console.error(t.t0);case 9:a.onClose();case 10:case"end":return t.stop()}}),t,null,[[1,6]])}))),[v,m,u,a]);return p.createElement(o,{open:i||!1},p.createElement(c,{height:"100vh",width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},p.createElement(S,Object.assign({},a,{onClose:w,connecting:v,wrongNetwork:m}))))},e.useMultiwallet=E},1567:function(t,e,n){"use strict";n.r(e);var r=n(657);n.d(e,"default",(function(){return r.a})),n.d(e,"styleFunction",(function(){return r.b}))},1568:function(t,e,n){"use strict";var r=n(0),i=n.n(r);function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(){return(a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function s(t){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(){}function l(){}l.resetWarningCache=f;var h=function(t,e){return t(e={exports:{}},e.exports),e.exports}((function(t){t.exports=function(){function t(t,e,n,r,i,o){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==o){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:l,resetWarningCache:f};return n.PropTypes=n,n}()}));function d(){}function p(t){return!!(t||"").match(/\d/)}function v(t){return null===t||void 0===t}function y(t){return t.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function g(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n="-"===t[0],r=n&&e,i=(t=t.replace("-","")).split("."),o=i[0],a=i[1]||"";return{beforeDecimal:o,afterDecimal:a,hasNagation:n,addNegation:r}}function m(t,e,n){for(var r="",i=n?"0":"",o=0;o<=e-1;o++)r+=t[o]||i;return r}function b(t,e){if(t.value=t.value,null!==t){if(t.createTextRange){var n=t.createTextRange();return n.move("character",e),n.select(),!0}return t.selectionStart||0===t.selectionStart?(t.focus(),t.setSelectionRange(e,e),!0):(t.focus(),!1)}}function w(t,e,n){return Math.min(Math.max(t,e),n)}function _(t){return Math.max(t.selectionStart,t.selectionEnd)}var E={thousandSeparator:h.oneOfType([h.string,h.oneOf([!0])]),decimalSeparator:h.string,allowedDecimalSeparators:h.arrayOf(h.string),thousandsGroupStyle:h.oneOf(["thousand","lakh","wan"]),decimalScale:h.number,fixedDecimalScale:h.bool,displayType:h.oneOf(["input","text"]),prefix:h.string,suffix:h.string,format:h.oneOfType([h.string,h.func]),removeFormatting:h.func,mask:h.oneOfType([h.string,h.arrayOf(h.string)]),value:h.oneOfType([h.number,h.string]),defaultValue:h.oneOfType([h.number,h.string]),isNumericString:h.bool,customInput:h.elementType,allowNegative:h.bool,allowEmptyFormatting:h.bool,allowLeadingZeros:h.bool,onValueChange:h.func,onKeyDown:h.func,onMouseUp:h.func,onChange:h.func,onFocus:h.func,onBlur:h.func,type:h.oneOf(["text","tel","password"]),isAllowed:h.func,renderText:h.func,getInputRef:h.oneOfType([h.func,h.shape({current:h.any})])},O={displayType:"input",decimalSeparator:".",thousandsGroupStyle:"thousand",fixedDecimalScale:!1,prefix:"",suffix:"",allowNegative:!0,allowEmptyFormatting:!1,allowLeadingZeros:!1,isNumericString:!1,type:"text",onValueChange:d,onChange:d,onKeyDown:d,onMouseUp:d,onFocus:d,onBlur:d,isAllowed:function(){return!0}},I=function(t){function e(t){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),n=function(t,e){return!e||"object"!==typeof e&&"function"!==typeof e?c(t):e}(this,s(e).call(this,t));var r=t.defaultValue;n.validateProps();var i=n.formatValueProp(r);return n.state={value:i,numAsString:n.removeFormatting(i),mounted:!1},n.selectionBeforeInput={selectionStart:0,selectionEnd:0},n.onChange=n.onChange.bind(c(n)),n.onKeyDown=n.onKeyDown.bind(c(n)),n.onMouseUp=n.onMouseUp.bind(c(n)),n.onFocus=n.onFocus.bind(c(n)),n.onBlur=n.onBlur.bind(c(n)),n}var n,r,f;return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,t),n=e,(r=[{key:"componentDidMount",value:function(){this.setState({mounted:!0})}},{key:"componentDidUpdate",value:function(t){this.updateValueIfRequired(t)}},{key:"componentWillUnmount",value:function(){clearTimeout(this.focusTimeout)}},{key:"updateValueIfRequired",value:function(t){var e=this.props,n=this.state,r=this.focusedElm,i=n.value,o=n.numAsString,a=void 0===o?"":o;if(t!==e){this.validateProps();var s=this.formatNumString(a),u=v(e.value)?s:this.formatValueProp(),c=this.removeFormatting(u),f=parseFloat(c),l=parseFloat(a);(isNaN(f)&&isNaN(l)||f===l)&&s===i&&(null!==r||u===i)||this.updateValue({formattedValue:u,numAsString:c,input:r})}}},{key:"getFloatString",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=this.props.decimalScale,n=this.getSeparators(),r=n.decimalSeparator,i=this.getNumberRegex(!0),o="-"===t[0];o&&(t=t.replace("-","")),r&&0===e&&(t=t.split(r)[0]);var a=(t=(t.match(i)||[]).join("").replace(r,".")).indexOf(".");return-1!==a&&(t="".concat(t.substring(0,a),".").concat(t.substring(a+1,t.length).replace(new RegExp(y(r),"g"),""))),o&&(t="-"+t),t}},{key:"getNumberRegex",value:function(t,e){var n=this.props,r=n.format,i=n.decimalScale,o=this.getSeparators().decimalSeparator;return new RegExp("\\d"+(!o||0===i||e||r?"":"|"+y(o)),t?"g":void 0)}},{key:"getSeparators",value:function(){var t=this.props.decimalSeparator,e=this.props,n=e.thousandSeparator,r=e.allowedDecimalSeparators;return!0===n&&(n=","),r||(r=[t,"."]),{decimalSeparator:t,thousandSeparator:n,allowedDecimalSeparators:r}}},{key:"getMaskAtIndex",value:function(t){var e=this.props.mask,n=void 0===e?" ":e;return"string"===typeof n?n:n[t]||" "}},{key:"getValueObject",value:function(t,e){var n=parseFloat(e);return{formattedValue:t,value:e,floatValue:isNaN(n)?void 0:n}}},{key:"validateProps",value:function(){var t=this.props.mask,e=this.getSeparators(),n=e.decimalSeparator,r=e.thousandSeparator;if(n===r)throw new Error("\n          Decimal separator can't be same as thousand separator.\n          thousandSeparator: ".concat(r,' (thousandSeparator = {true} is same as thousandSeparator = ",")\n          decimalSeparator: ').concat(n," (default value for decimalSeparator is .)\n       "));if(t&&("string"===t?t:t.toString()).match(/\d/g))throw new Error("\n          Mask ".concat(t," should not contain numeric character;\n        "))}},{key:"setPatchedCaretPosition",value:function(t,e,n){b(t,e),setTimeout((function(){t.value===n&&b(t,e)}),0)}},{key:"correctCaretPosition",value:function(t,e,n){var r=this.props,i=r.prefix,o=r.suffix,a=r.format;if(""===t)return 0;if(e=w(e,0,t.length),!a){var s="-"===t[0];return w(e,i.length+(s?1:0),t.length-o.length)}if("function"===typeof a)return e;if("#"===a[e]&&p(t[e]))return e;if("#"===a[e-1]&&p(t[e-1]))return e;var u=a.indexOf("#");e=w(e,u,a.lastIndexOf("#")+1);for(var c=a.substring(e,a.length).indexOf("#"),f=e,l=e+(-1===c?0:c);f>u&&("#"!==a[f]||!p(t[f]));)f-=1;return!p(t[l])||"left"===n&&e!==u||e-f<l-e?p(t[f])?f+1:f:l}},{key:"getCaretPosition",value:function(t,e,n){var r,i,o=this.props.format,a=this.state.value,s=this.getNumberRegex(!0),u=(t.match(s)||[]).join(""),c=(e.match(s)||[]).join("");for(r=0,i=0;i<n;i++){var f=t[i]||"",l=e[r]||"";if((f.match(s)||f===l)&&("0"!==f||!l.match(s)||"0"===l||u.length===c.length)){for(;f!==e[r]&&r<e.length;)r++;r++}}return"string"!==typeof o||a||(r=e.length),r=this.correctCaretPosition(e,r)}},{key:"removePrefixAndSuffix",value:function(t){var e=this.props,n=e.format,r=e.prefix,i=e.suffix;if(!n&&t){var o="-"===t[0];o&&(t=t.substring(1,t.length));var a=(t=r&&0===t.indexOf(r)?t.substring(r.length,t.length):t).lastIndexOf(i);t=i&&-1!==a&&a===t.length-i.length?t.substring(0,a):t,o&&(t="-"+t)}return t}},{key:"removePatternFormatting",value:function(t){for(var e=this.props.format.split("#").filter((function(t){return""!==t})),n=0,r="",i=0,o=e.length;i<=o;i++){var a=e[i]||"",s=i===o?t.length:t.indexOf(a,n);if(-1===s){r=t;break}r+=t.substring(n,s),n=s+a.length}return(r.match(/\d/g)||[]).join("")}},{key:"removeFormatting",value:function(t){var e=this.props,n=e.format,r=e.removeFormatting;return t?(n?t="string"===typeof n?this.removePatternFormatting(t):"function"===typeof r?r(t):(t.match(/\d/g)||[]).join(""):(t=this.removePrefixAndSuffix(t),t=this.getFloatString(t)),t):t}},{key:"formatWithPattern",value:function(t){for(var e=this.props.format,n=0,r=e.split(""),i=0,o=e.length;i<o;i++)"#"===e[i]&&(r[i]=t[n]||this.getMaskAtIndex(n),n+=1);return r.join("")}},{key:"formatAsNumber",value:function(t){var e=this.props,n=e.decimalScale,r=e.fixedDecimalScale,i=e.prefix,o=e.suffix,a=e.allowNegative,s=e.thousandsGroupStyle,u=this.getSeparators(),c=u.thousandSeparator,f=u.decimalSeparator,l=-1!==t.indexOf(".")||n&&r,h=g(t,a),d=h.beforeDecimal,p=h.afterDecimal,v=h.addNegation;return void 0!==n&&(p=m(p,n,r)),c&&(d=function(t,e,n){var r=function(t){switch(t){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;case"thousand":default:return/(\d)(?=(\d{3})+(?!\d))/g}}(n),i=t.search(/[1-9]/);return i=-1===i?t.length:i,t.substring(0,i)+t.substring(i,t.length).replace(r,"$1"+e)}(d,c,s)),i&&(d=i+d),o&&(p+=o),v&&(d="-"+d),t=d+(l&&f||"")+p}},{key:"formatNumString",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=this.props,n=e.format,r=e.allowEmptyFormatting,i=t;return i=""!==t||r?"-"!==t||n?"string"===typeof n?this.formatWithPattern(i):"function"===typeof n?n(i):this.formatAsNumber(i):"-":""}},{key:"formatValueProp",value:function(t){var e=this.props,n=e.format,r=e.decimalScale,i=e.fixedDecimalScale,o=e.allowEmptyFormatting,a=this.props,s=a.value,u=a.isNumericString,c=!(s=v(s)?t:s)&&0!==s;return c&&o&&(s=""),c&&!o?"":("number"===typeof s&&(s=s.toString(),u=!0),"Infinity"===s&&u&&(s=""),u&&!n&&"number"===typeof r&&(s=function(t,e,n){if(-1!==["","-"].indexOf(t))return t;var r=-1!==t.indexOf(".")&&e,i=g(t),o=i.beforeDecimal,a=i.afterDecimal,s=i.hasNagation,u=parseFloat("0.".concat(a||"0")).toFixed(e).split("."),c=o.split("").reverse().reduce((function(t,e,n){return t.length>n?(Number(t[0])+Number(e)).toString()+t.substring(1,t.length):e+t}),u[0]),f=m(u[1]||"",Math.min(e,a.length),n),l=r?".":"";return"".concat(s?"-":"").concat(c).concat(l).concat(f)}(s,r,i)),u?this.formatNumString(s):this.formatInput(s))}},{key:"formatNegation",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=this.props.allowNegative,n=new RegExp("(-)"),r=new RegExp("(-)(.)*(-)"),i=n.test(t),o=r.test(t);return t=t.replace(/-/g,""),i&&!o&&e&&(t="-"+t),t}},{key:"formatInput",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=this.props.format;return e||(t=this.removePrefixAndSuffix(t),t=this.formatNegation(t)),t=this.removeFormatting(t),this.formatNumString(t)}},{key:"isCharacterAFormat",value:function(t,e){var n=this.props,r=n.format,i=n.prefix,o=n.suffix,a=n.decimalScale,s=n.fixedDecimalScale,u=this.getSeparators().decimalSeparator;return"string"===typeof r&&"#"!==r[t]||!(r||!(t<i.length||t>=e.length-o.length||a&&s&&e[t]===u))}},{key:"checkIfFormatGotDeleted",value:function(t,e,n){for(var r=t;r<e;r++)if(this.isCharacterAFormat(r,n))return!0;return!1}},{key:"correctInputValue",value:function(t,e,n){var r=this.props,i=r.format,o=r.allowNegative,a=r.prefix,s=r.suffix,u=r.decimalScale,c=this.getSeparators(),f=c.allowedDecimalSeparators,l=c.decimalSeparator,h=this.state.numAsString||"",d=this.selectionBeforeInput,p=d.selectionStart,v=d.selectionEnd,y=function(t,e){for(var n=0,r=0,i=t.length,o=e.length;t[n]===e[n]&&n<i;)n++;for(;t[i-1-r]===e[o-1-r]&&o-r>n&&i-r>n;)r++;return{start:n,end:i-r}}(e,n),m=y.start,b=y.end;if(!i&&m===b&&-1!==f.indexOf(n[p])){var w=0===u?"":l;return n.substr(0,p)+w+n.substr(p+1,n.length)}var _=i?0:a.length,E=e.length-(i?0:s.length);if(n.length>e.length||!n.length||m===b||0===p&&v===e.length||p===_&&v===E)return n;if(this.checkIfFormatGotDeleted(m,b,e)&&(n=e),!i){var O=this.removeFormatting(n),I=g(O,o),S=I.beforeDecimal,T=I.afterDecimal,x=I.addNegation,k=t<n.indexOf(l)+1;if(O.length<h.length&&k&&""===S&&!parseFloat(T))return x?"-":""}return n}},{key:"updateValue",value:function(t){var e=t.formattedValue,n=t.input,r=t.setCaretPosition,i=void 0===r||r,o=t.numAsString,a=t.caretPos,s=this.props.onValueChange,u=this.state.value;if(n)if(i){if(!a){var c=t.inputValue||n.value,f=_(n);n.value=e,a=this.getCaretPosition(c,e,f)}this.setPatchedCaretPosition(n,a,e)}else n.value=e;void 0===o&&(o=this.removeFormatting(e)),e!==u&&(this.setState({value:e,numAsString:o}),s(this.getValueObject(e,o)))}},{key:"onChange",value:function(t){var e=t.target,n=e.value,r=this.state,i=this.props,o=i.isAllowed,a=r.value||"",s=_(e);n=this.correctInputValue(s,a,n);var u=this.formatInput(n)||"",c=this.removeFormatting(u);o(this.getValueObject(u,c))||(u=a),this.updateValue({formattedValue:u,numAsString:c,inputValue:n,input:e}),i.onChange(t)}},{key:"onBlur",value:function(t){var e=this.props,n=this.state,r=e.format,i=e.onBlur,o=e.allowLeadingZeros,a=n.numAsString,s=n.value;if(this.focusedElm=null,clearTimeout(this.focusTimeout),!r){isNaN(parseFloat(a))&&(a=""),o||(a=function(t){if(!t)return t;var e="-"===t[0];e&&(t=t.substring(1,t.length));var n=t.split("."),r=n[0].replace(/^0+/,"")||"0",i=n[1]||"";return"".concat(e?"-":"").concat(r).concat(i?".".concat(i):"")}(a));var u=this.formatNumString(a);if(u!==s)return this.updateValue({formattedValue:u,numAsString:a,input:t.target,setCaretPosition:!1}),void i(t)}i(t)}},{key:"onKeyDown",value:function(t){var e,n=t.target,r=t.key,i=n.selectionStart,o=n.selectionEnd,a=n.value,s=void 0===a?"":a,u=this.props,c=u.decimalScale,f=u.fixedDecimalScale,l=u.prefix,h=u.suffix,d=u.format,p=u.onKeyDown,v=void 0!==c&&f,y=this.getNumberRegex(!1,v),g=new RegExp("-"),m="string"===typeof d;if(this.selectionBeforeInput={selectionStart:i,selectionEnd:o},"ArrowLeft"===r||"Backspace"===r?e=i-1:"ArrowRight"===r?e=i+1:"Delete"===r&&(e=i),void 0!==e&&i===o){var b=e,w=m?d.indexOf("#"):l.length,_=m?d.lastIndexOf("#")+1:s.length-h.length;if("ArrowLeft"===r||"ArrowRight"===r){var E="ArrowLeft"===r?"left":"right";b=this.correctCaretPosition(s,e,E)}else if("Delete"!==r||y.test(s[e])||g.test(s[e])){if("Backspace"===r&&!y.test(s[e]))if(i<=w+1&&"-"===s[0]&&"undefined"===typeof d){var O=s.substring(1);this.updateValue({formattedValue:O,caretPos:b,input:n})}else if(!g.test(s[e])){for(;!y.test(s[b-1])&&b>w;)b--;b=this.correctCaretPosition(s,b,"left")}}else for(;!y.test(s[b])&&b<_;)b++;(b!==e||e<w||e>_)&&(t.preventDefault(),this.setPatchedCaretPosition(n,b,s)),t.isUnitTestRun&&this.setPatchedCaretPosition(n,b,s),p(t)}else p(t)}},{key:"onMouseUp",value:function(t){var e=t.target,n=e.selectionStart,r=e.selectionEnd,i=e.value,o=void 0===i?"":i;if(n===r){var a=this.correctCaretPosition(o,n);a!==n&&this.setPatchedCaretPosition(e,a,o)}this.props.onMouseUp(t)}},{key:"onFocus",value:function(t){var e=this;t.persist(),this.focusedElm=t.target,this.focusTimeout=setTimeout((function(){var n=t.target,r=n.selectionStart,i=n.selectionEnd,o=n.value,a=void 0===o?"":o,s=e.correctCaretPosition(a,r);s===r||0===r&&i===a.length||e.setPatchedCaretPosition(n,s,a),e.props.onFocus(t)}),0)}},{key:"render",value:function(){var t=this.props,e=t.type,n=t.displayType,r=t.customInput,o=t.renderText,s=t.getInputRef,u=t.format,c=this.state,f=c.value,l=c.mounted,h=function(t,e){var n={};return Object.keys(t).forEach((function(r){e[r]||(n[r]=t[r])})),n}(this.props,E),d=a({inputMode:l&&function(t){return t||!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}(u)?"numeric":void 0},h,{type:e,value:f,onChange:this.onChange,onKeyDown:this.onKeyDown,onMouseUp:this.onMouseUp,onFocus:this.onFocus,onBlur:this.onBlur});if("text"===n)return o?o(f)||null:i.a.createElement("span",a({},h,{ref:s}),f);if(r){var p=r;return i.a.createElement(p,a({},d,{ref:s}))}return i.a.createElement("input",a({},d,{ref:s}))}}])&&o(n.prototype,r),f&&o(n,f),e}(i.a.Component);I.propTypes=E,I.defaultProps=O,e.a=I},1569:function(t,e,n){var r,i;void 0===(i="function"===typeof(r=function(){var t,e,n="2.0.6",r={},i={},o={currentLocale:"en",zeroFormat:null,nullFormat:null,defaultFormat:"0,0",scalePercentBy100:!0},a={currentLocale:o.currentLocale,zeroFormat:o.zeroFormat,nullFormat:o.nullFormat,defaultFormat:o.defaultFormat,scalePercentBy100:o.scalePercentBy100};function s(t,e){this._input=t,this._value=e}return(t=function(n){var i,o,u,c;if(t.isNumeral(n))i=n.value();else if(0===n||"undefined"===typeof n)i=0;else if(null===n||e.isNaN(n))i=null;else if("string"===typeof n)if(a.zeroFormat&&n===a.zeroFormat)i=0;else if(a.nullFormat&&n===a.nullFormat||!n.replace(/[^0-9]+/g,"").length)i=null;else{for(o in r)if((c="function"===typeof r[o].regexps.unformat?r[o].regexps.unformat():r[o].regexps.unformat)&&n.match(c)){u=r[o].unformat;break}i=(u=u||t._.stringToNumber)(n)}else i=Number(n)||null;return new s(n,i)}).version=n,t.isNumeral=function(t){return t instanceof s},t._=e={numberToFormat:function(e,n,r){var o,a,s,u,c,f,l,h=i[t.options.currentLocale],d=!1,p=!1,v=0,y="",g=1e12,m=1e9,b=1e6,w=1e3,_="",E=!1;if(e=e||0,a=Math.abs(e),t._.includes(n,"(")?(d=!0,n=n.replace(/[\(|\)]/g,"")):(t._.includes(n,"+")||t._.includes(n,"-"))&&(c=t._.includes(n,"+")?n.indexOf("+"):e<0?n.indexOf("-"):-1,n=n.replace(/[\+|\-]/g,"")),t._.includes(n,"a")&&(o=!!(o=n.match(/a(k|m|b|t)?/))&&o[1],t._.includes(n," a")&&(y=" "),n=n.replace(new RegExp(y+"a[kmbt]?"),""),a>=g&&!o||"t"===o?(y+=h.abbreviations.trillion,e/=g):a<g&&a>=m&&!o||"b"===o?(y+=h.abbreviations.billion,e/=m):a<m&&a>=b&&!o||"m"===o?(y+=h.abbreviations.million,e/=b):(a<b&&a>=w&&!o||"k"===o)&&(y+=h.abbreviations.thousand,e/=w)),t._.includes(n,"[.]")&&(p=!0,n=n.replace("[.]",".")),s=e.toString().split(".")[0],u=n.split(".")[1],f=n.indexOf(","),v=(n.split(".")[0].split(",")[0].match(/0/g)||[]).length,u?(t._.includes(u,"[")?(u=(u=u.replace("]","")).split("["),_=t._.toFixed(e,u[0].length+u[1].length,r,u[1].length)):_=t._.toFixed(e,u.length,r),s=_.split(".")[0],_=t._.includes(_,".")?h.delimiters.decimal+_.split(".")[1]:"",p&&0===Number(_.slice(1))&&(_="")):s=t._.toFixed(e,0,r),y&&!o&&Number(s)>=1e3&&y!==h.abbreviations.trillion)switch(s=String(Number(s)/1e3),y){case h.abbreviations.thousand:y=h.abbreviations.million;break;case h.abbreviations.million:y=h.abbreviations.billion;break;case h.abbreviations.billion:y=h.abbreviations.trillion}if(t._.includes(s,"-")&&(s=s.slice(1),E=!0),s.length<v)for(var O=v-s.length;O>0;O--)s="0"+s;return f>-1&&(s=s.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+h.delimiters.thousands)),0===n.indexOf(".")&&(s=""),l=s+_+(y||""),d?l=(d&&E?"(":"")+l+(d&&E?")":""):c>=0?l=0===c?(E?"-":"+")+l:l+(E?"-":"+"):E&&(l="-"+l),l},stringToNumber:function(t){var e,n,r,o=i[a.currentLocale],s=t,u={thousand:3,million:6,billion:9,trillion:12};if(a.zeroFormat&&t===a.zeroFormat)n=0;else if(a.nullFormat&&t===a.nullFormat||!t.replace(/[^0-9]+/g,"").length)n=null;else{for(e in n=1,"."!==o.delimiters.decimal&&(t=t.replace(/\./g,"").replace(o.delimiters.decimal,".")),u)if(r=new RegExp("[^a-zA-Z]"+o.abbreviations[e]+"(?:\\)|(\\"+o.currency.symbol+")?(?:\\))?)?$"),s.match(r)){n*=Math.pow(10,u[e]);break}n*=(t.split("-").length+Math.min(t.split("(").length-1,t.split(")").length-1))%2?1:-1,t=t.replace(/[^0-9\.]+/g,""),n*=Number(t)}return n},isNaN:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return"number"===typeof t&&isNaN(t)})),includes:function(t,e){return-1!==t.indexOf(e)},insert:function(t,e,n){return t.slice(0,n)+e+t.slice(n)},reduce:function(t,e){if(null===this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!==typeof e)throw new TypeError(e+" is not a function");var n,r=Object(t),i=r.length>>>0,o=0;if(3===arguments.length)n=arguments[2];else{for(;o<i&&!(o in r);)o++;if(o>=i)throw new TypeError("Reduce of empty array with no initial value");n=r[o++]}for(;o<i;o++)o in r&&(n=e(n,r[o],o,r));return n},multiplier:function(t){var e=t.toString().split(".");return e.length<2?1:Math.pow(10,e[1].length)},correctionFactor:function(){return Array.prototype.slice.call(arguments).reduce((function(t,n){var r=e.multiplier(n);return t>r?t:r}),1)},toFixed:function(t,e,n,r){var i,o,a,s,u=t.toString().split("."),c=e-(r||0);return i=2===u.length?Math.min(Math.max(u[1].length,c),e):c,a=Math.pow(10,i),s=(n(t+"e+"+i)/a).toFixed(i),r>e-i&&(o=new RegExp("\\.?0{1,"+(r-(e-i))+"}$"),s=s.replace(o,"")),s}},t.options=a,t.formats=r,t.locales=i,t.locale=function(t){return t&&(a.currentLocale=t.toLowerCase()),a.currentLocale},t.localeData=function(t){if(!t)return i[a.currentLocale];if(t=t.toLowerCase(),!i[t])throw new Error("Unknown locale : "+t);return i[t]},t.reset=function(){for(var t in o)a[t]=o[t]},t.zeroFormat=function(t){a.zeroFormat="string"===typeof t?t:null},t.nullFormat=function(t){a.nullFormat="string"===typeof t?t:null},t.defaultFormat=function(t){a.defaultFormat="string"===typeof t?t:"0.0"},t.register=function(t,e,n){if(e=e.toLowerCase(),this[t+"s"][e])throw new TypeError(e+" "+t+" already registered.");return this[t+"s"][e]=n,n},t.validate=function(e,n){var r,i,o,a,s,u,c,f;if("string"!==typeof e&&(e+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",e)),(e=e.trim()).match(/^\d+$/))return!0;if(""===e)return!1;try{c=t.localeData(n)}catch(l){c=t.localeData(t.locale())}return o=c.currency.symbol,s=c.abbreviations,r=c.delimiters.decimal,i="."===c.delimiters.thousands?"\\.":c.delimiters.thousands,(null===(f=e.match(/^[^\d]+/))||(e=e.substr(1),f[0]===o))&&(null===(f=e.match(/[^\d]+$/))||(e=e.slice(0,-1),f[0]===s.thousand||f[0]===s.million||f[0]===s.billion||f[0]===s.trillion))&&(u=new RegExp(i+"{2}"),!e.match(/[^\d.,]/g)&&!((a=e.split(r)).length>2)&&(a.length<2?!!a[0].match(/^\d+.*\d$/)&&!a[0].match(u):1===a[0].length?!!a[0].match(/^\d+$/)&&!a[0].match(u)&&!!a[1].match(/^\d+$/):!!a[0].match(/^\d+.*\d$/)&&!a[0].match(u)&&!!a[1].match(/^\d+$/)))},t.fn=s.prototype={clone:function(){return t(this)},format:function(e,n){var i,o,s,u=this._value,c=e||a.defaultFormat;if(n=n||Math.round,0===u&&null!==a.zeroFormat)o=a.zeroFormat;else if(null===u&&null!==a.nullFormat)o=a.nullFormat;else{for(i in r)if(c.match(r[i].regexps.format)){s=r[i].format;break}o=(s=s||t._.numberToFormat)(u,c,n)}return o},value:function(){return this._value},input:function(){return this._input},set:function(t){return this._value=Number(t),this},add:function(t){var n=e.correctionFactor.call(null,this._value,t);function r(t,e,r,i){return t+Math.round(n*e)}return this._value=e.reduce([this._value,t],r,0)/n,this},subtract:function(t){var n=e.correctionFactor.call(null,this._value,t);function r(t,e,r,i){return t-Math.round(n*e)}return this._value=e.reduce([t],r,Math.round(this._value*n))/n,this},multiply:function(t){function n(t,n,r,i){var o=e.correctionFactor(t,n);return Math.round(t*o)*Math.round(n*o)/Math.round(o*o)}return this._value=e.reduce([this._value,t],n,1),this},divide:function(t){function n(t,n,r,i){var o=e.correctionFactor(t,n);return Math.round(t*o)/Math.round(n*o)}return this._value=e.reduce([this._value,t],n),this},difference:function(e){return Math.abs(t(this._value).subtract(e).value())}},t.register("locale","en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(t){var e=t%10;return 1===~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th"},currency:{symbol:"$"}}),t.register("format","bps",{regexps:{format:/(BPS)/,unformat:/(BPS)/},format:function(e,n,r){var i,o=t._.includes(n," BPS")?" ":"";return e*=1e4,n=n.replace(/\s?BPS/,""),i=t._.numberToFormat(e,n,r),t._.includes(i,")")?((i=i.split("")).splice(-1,0,o+"BPS"),i=i.join("")):i=i+o+"BPS",i},unformat:function(e){return+(1e-4*t._.stringToNumber(e)).toFixed(15)}}),function(){var e={base:1e3,suffixes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"]},n={base:1024,suffixes:["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]},r=e.suffixes.concat(n.suffixes.filter((function(t){return e.suffixes.indexOf(t)<0}))).join("|");r="("+r.replace("B","B(?!PS)")+")",t.register("format","bytes",{regexps:{format:/([0\s]i?b)/,unformat:new RegExp(r)},format:function(r,i,o){var a,s,u,c=t._.includes(i,"ib")?n:e,f=t._.includes(i," b")||t._.includes(i," ib")?" ":"";for(i=i.replace(/\s?i?b/,""),a=0;a<=c.suffixes.length;a++)if(s=Math.pow(c.base,a),u=Math.pow(c.base,a+1),null===r||0===r||r>=s&&r<u){f+=c.suffixes[a],s>0&&(r/=s);break}return t._.numberToFormat(r,i,o)+f},unformat:function(r){var i,o,a=t._.stringToNumber(r);if(a){for(i=e.suffixes.length-1;i>=0;i--){if(t._.includes(r,e.suffixes[i])){o=Math.pow(e.base,i);break}if(t._.includes(r,n.suffixes[i])){o=Math.pow(n.base,i);break}}a*=o||1}return a}})}(),t.register("format","currency",{regexps:{format:/(\$)/},format:function(e,n,r){var i,o,a=t.locales[t.options.currentLocale],s={before:n.match(/^([\+|\-|\(|\s|\$]*)/)[0],after:n.match(/([\+|\-|\)|\s|\$]*)$/)[0]};for(n=n.replace(/\s?\$\s?/,""),i=t._.numberToFormat(e,n,r),e>=0?(s.before=s.before.replace(/[\-\(]/,""),s.after=s.after.replace(/[\-\)]/,"")):e<0&&!t._.includes(s.before,"-")&&!t._.includes(s.before,"(")&&(s.before="-"+s.before),o=0;o<s.before.length;o++)switch(s.before[o]){case"$":i=t._.insert(i,a.currency.symbol,o);break;case" ":i=t._.insert(i," ",o+a.currency.symbol.length-1)}for(o=s.after.length-1;o>=0;o--)switch(s.after[o]){case"$":i=o===s.after.length-1?i+a.currency.symbol:t._.insert(i,a.currency.symbol,-(s.after.length-(1+o)));break;case" ":i=o===s.after.length-1?i+" ":t._.insert(i," ",-(s.after.length-(1+o)+a.currency.symbol.length-1))}return i}}),t.register("format","exponential",{regexps:{format:/(e\+|e-)/,unformat:/(e\+|e-)/},format:function(e,n,r){var i=("number"!==typeof e||t._.isNaN(e)?"0e+0":e.toExponential()).split("e");return n=n.replace(/e[\+|\-]{1}0/,""),t._.numberToFormat(Number(i[0]),n,r)+"e"+i[1]},unformat:function(e){var n=t._.includes(e,"e+")?e.split("e+"):e.split("e-"),r=Number(n[0]),i=Number(n[1]);function o(e,n,r,i){var o=t._.correctionFactor(e,n);return e*o*(n*o)/(o*o)}return i=t._.includes(e,"e-")?i*=-1:i,t._.reduce([r,Math.pow(10,i)],o,1)}}),t.register("format","ordinal",{regexps:{format:/(o)/},format:function(e,n,r){var i=t.locales[t.options.currentLocale],o=t._.includes(n," o")?" ":"";return n=n.replace(/\s?o/,""),o+=i.ordinal(e),t._.numberToFormat(e,n,r)+o}}),t.register("format","percentage",{regexps:{format:/(%)/,unformat:/(%)/},format:function(e,n,r){var i,o=t._.includes(n," %")?" ":"";return t.options.scalePercentBy100&&(e*=100),n=n.replace(/\s?\%/,""),i=t._.numberToFormat(e,n,r),t._.includes(i,")")?((i=i.split("")).splice(-1,0,o+"%"),i=i.join("")):i=i+o+"%",i},unformat:function(e){var n=t._.stringToNumber(e);return t.options.scalePercentBy100?.01*n:n}}),t.register("format","time",{regexps:{format:/(:)/,unformat:/(:)/},format:function(t,e,n){var r=Math.floor(t/60/60),i=Math.floor((t-60*r*60)/60),o=Math.round(t-60*r*60-60*i);return r+":"+(i<10?"0"+i:i)+":"+(o<10?"0"+o:o)},unformat:function(t){var e=t.split(":"),n=0;return 3===e.length?(n+=60*Number(e[0])*60,n+=60*Number(e[1]),n+=Number(e[2])):2===e.length&&(n+=60*Number(e[0]),n+=Number(e[1])),Number(n)}}),t})?r.call(e,n,e,t):r)||(t.exports=i)},1570:function(t,e,n){"use strict";var r=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof r)return r;throw new Error("unable to locate global object")}();t.exports=e=r.fetch,r.fetch&&(e.default=r.fetch.bind(r)),e.Headers=r.Headers,e.Request=r.Request,e.Response=r.Response},1571:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Transaction=e.opcodes=e.Psbt=e.Block=e.script=e.payments=e.networks=e.crypto=e.address=void 0;var r=n(1403);e.address=r;var i=n(1210);e.crypto=i;var o=n(1199);e.networks=o;var a=n(1322);e.payments=a;var s=n(1191);e.script=s;var u=n(1584);Object.defineProperty(e,"Block",{enumerable:!0,get:function(){return u.Block}});var c=n(1587);Object.defineProperty(e,"Psbt",{enumerable:!0,get:function(){return c.Psbt}});var f=n(1323);Object.defineProperty(e,"opcodes",{enumerable:!0,get:function(){return f.OPS}});var l=n(1326);Object.defineProperty(e,"Transaction",{enumerable:!0,get:function(){return l.Transaction}})},1572:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.p2data=void 0;var r=n(1199),i=n(1191),o=n(1184),a=n(1218),s=i.OPS;e.p2data=function(t,e){if(!t.data&&!t.output)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,o.typeforce)({network:o.typeforce.maybe(o.typeforce.Object),output:o.typeforce.maybe(o.typeforce.Buffer),data:o.typeforce.maybe(o.typeforce.arrayOf(o.typeforce.Buffer))},t);var n={name:"embed",network:t.network||r.bitcoin};if(a.prop(n,"output",(function(){if(t.data)return i.compile([s.OP_RETURN].concat(t.data))})),a.prop(n,"data",(function(){if(t.output)return i.decompile(t.output).slice(1)})),e.validate&&t.output){var u=i.decompile(t.output);if(u[0]!==s.OP_RETURN)throw new TypeError("Output is invalid");if(!u.slice(1).every(o.typeforce.Buffer))throw new TypeError("Output is invalid");if(t.data&&!function(t,e){return t.length===e.length&&t.every((function(t,n){return t.equals(e[n])}))}(t.data,n.data))throw new TypeError("Data mismatch")}return Object.assign(n,t)}},1573:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.decode=e.encode=e.encodingLength=void 0;var r=n(1323);function i(t){return t<r.OPS.OP_PUSHDATA1?1:t<=255?2:t<=65535?3:5}e.encodingLength=i,e.encode=function(t,e,n){var o=i(e);return 1===o?t.writeUInt8(e,n):2===o?(t.writeUInt8(r.OPS.OP_PUSHDATA1,n),t.writeUInt8(e,n+1)):3===o?(t.writeUInt8(r.OPS.OP_PUSHDATA2,n),t.writeUInt16LE(e,n+1)):(t.writeUInt8(r.OPS.OP_PUSHDATA4,n),t.writeUInt32LE(e,n+1)),o},e.decode=function(t,e){var n,i,o=t.readUInt8(e);if(o<r.OPS.OP_PUSHDATA1)n=o,i=1;else if(o===r.OPS.OP_PUSHDATA1){if(e+2>t.length)return null;n=t.readUInt8(e+1),i=2}else if(o===r.OPS.OP_PUSHDATA2){if(e+3>t.length)return null;n=t.readUInt16LE(e+1),i=3}else{if(e+5>t.length)return null;if(o!==r.OPS.OP_PUSHDATA4)throw new Error("Unexpected opcode");n=t.readUInt32LE(e+1),i=5}return{opcode:o,number:n,size:i}}},1574:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.encode=e.decode=void 0,e.decode=function(t,e,n){e=e||4,n=void 0===n||n;var r=t.length;if(0===r)return 0;if(r>e)throw new TypeError("Script number overflow");if(n&&0===(127&t[r-1])&&(r<=1||0===(128&t[r-2])))throw new Error("Non-minimally encoded script number");if(5===r){var i=t.readUInt32LE(0),o=t.readUInt8(4);return 128&o?-(4294967296*(-129&o)+i):4294967296*o+i}for(var a=0,s=0;s<r;++s)a|=t[s]<<8*s;return 128&t[r-1]?-(a&~(128<<8*(r-1))):a},e.encode=function(e){for(var n=Math.abs(e),r=function(t){return t>2147483647?5:t>8388607?4:t>32767?3:t>127?2:t>0?1:0}(n),i=t.allocUnsafe(r),o=e<0,a=0;a<r;++a)i.writeUInt8(255&n,a),n>>=8;return 128&i[r-1]?i.writeUInt8(o?128:0,r-1):o&&(i[r-1]|=128),i}}).call(this,n(4).Buffer)},1575:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.encode=e.decode=void 0;var r=n(1404),i=n(1184),o=i.typeforce,a=t.alloc(1,0);function s(e){for(var n=0;0===e[n];)++n;return n===e.length?a:128&(e=e.slice(n))[0]?t.concat([a,e],1+e.length):e}function u(e){0===e[0]&&(e=e.slice(1));var n=t.alloc(32,0),r=Math.max(0,32-e.length);return e.copy(n,r),n}e.decode=function(e){var n=e.readUInt8(e.length-1),i=-129&n;if(i<=0||i>=4)throw new Error("Invalid hashType "+n);var o=r.decode(e.slice(0,-1)),a=u(o.r),s=u(o.s);return{signature:t.concat([a,s],64),hashType:n}},e.encode=function(e,n){o({signature:i.BufferN(64),hashType:i.UInt8},{signature:e,hashType:n});var a=-129&n;if(a<=0||a>=4)throw new Error("Invalid hashType "+n);var u=t.allocUnsafe(1);u.writeUInt8(n,0);var c=s(e.slice(0,32)),f=s(e.slice(32,64));return t.concat([r.encode(c,f),u])}}).call(this,n(4).Buffer)},1576:function(t,e,n){var r=n(1405),i=n(1324),o=r.tfJSON,a=r.TfTypeError,s=r.TfPropertyTypeError,u=r.tfSubError,c=r.getValueTypeName,f={arrayOf:function(t,e){function n(n,r){return!!i.Array(n)&&(!i.Nil(n)&&(!(void 0!==e.minLength&&n.length<e.minLength)&&(!(void 0!==e.maxLength&&n.length>e.maxLength)&&((void 0===e.length||n.length===e.length)&&n.every((function(e,n){try{return h(t,e,r)}catch(i){throw u(i,n)}}))))))}return t=l(t),e=e||{},n.toJSON=function(){var n="["+o(t)+"]";return void 0!==e.length?n+="{"+e.length+"}":void 0===e.minLength&&void 0===e.maxLength||(n+="{"+(void 0===e.minLength?0:e.minLength)+","+(void 0===e.maxLength?1/0:e.maxLength)+"}"),n},n},maybe:function t(e){function n(n,r){return i.Nil(n)||e(n,r,t)}return e=l(e),n.toJSON=function(){return"?"+o(e)},n},map:function(t,e){function n(n,r){if(!i.Object(n))return!1;if(i.Nil(n))return!1;for(var o in n){try{e&&h(e,o,r)}catch(s){throw u(s,o,"key")}try{var a=n[o];h(t,a,r)}catch(s){throw u(s,o)}}return!0}return t=l(t),e&&(e=l(e)),n.toJSON=e?function(){return"{"+o(e)+": "+o(t)+"}"}:function(){return"{"+o(t)+"}"},n},object:function(t){var e={};for(var n in t)e[n]=l(t[n]);function r(t,n){if(!i.Object(t))return!1;if(i.Nil(t))return!1;var r;try{for(r in e){h(e[r],t[r],n)}}catch(o){throw u(o,r)}if(n)for(r in t)if(!e[r])throw new s(void 0,r);return!0}return r.toJSON=function(){return o(e)},r},anyOf:function(){var t=[].slice.call(arguments).map(l);function e(e,n){return t.some((function(t){try{return h(t,e,n)}catch(r){return!1}}))}return e.toJSON=function(){return t.map(o).join("|")},e},allOf:function(){var t=[].slice.call(arguments).map(l);function e(e,n){return t.every((function(t){try{return h(t,e,n)}catch(r){return!1}}))}return e.toJSON=function(){return t.map(o).join(" & ")},e},quacksLike:function(t){function e(e){return t===c(e)}return e.toJSON=function(){return t},e},tuple:function(){var t=[].slice.call(arguments).map(l);function e(e,n){return!i.Nil(e)&&(!i.Nil(e.length)&&((!n||e.length===t.length)&&t.every((function(t,r){try{return h(t,e[r],n)}catch(i){throw u(i,r)}}))))}return e.toJSON=function(){return"("+t.map(o).join(", ")+")"},e},value:function(t){function e(e){return e===t}return e.toJSON=function(){return t},e}};function l(t){if(i.String(t))return"?"===t[0]?f.maybe(t.slice(1)):i[t]||f.quacksLike(t);if(t&&i.Object(t)){if(i.Array(t)){if(1!==t.length)throw new TypeError("Expected compile() parameter of type Array of length 1");return f.arrayOf(t[0])}return f.object(t)}return i.Function(t)?t:f.value(t)}function h(t,e,n,r){if(i.Function(t)){if(t(e,n))return!0;throw new a(r||t,e)}return h(l(t),e,n)}for(var d in f.oneOf=f.anyOf,i)h[d]=i[d];for(d in f)h[d]=f[d];var p=n(1577);for(d in p)h[d]=p[d];h.compile=l,h.TfTypeError=a,h.TfPropertyTypeError=s,t.exports=h},1577:function(t,e,n){(function(e){var r=n(1324),i=n(1405);function o(t){return e.isBuffer(t)}function a(t){return"string"===typeof t&&/^([0-9a-f]{2})+$/i.test(t)}function s(t,e){var n=t.toJSON();function r(r){if(!t(r))return!1;if(r.length===e)return!0;throw i.tfCustomError(n+"(Length: "+e+")",n+"(Length: "+r.length+")")}return r.toJSON=function(){return n},r}var u=s.bind(null,r.Array),c=s.bind(null,o),f=s.bind(null,a),l=s.bind(null,r.String);var h=Math.pow(2,53)-1;var d={ArrayN:u,Buffer:o,BufferN:c,Finite:function(t){return"number"===typeof t&&isFinite(t)},Hex:a,HexN:f,Int8:function(t){return t<<24>>24===t},Int16:function(t){return t<<16>>16===t},Int32:function(t){return(0|t)===t},Int53:function(t){return"number"===typeof t&&t>=-h&&t<=h&&Math.floor(t)===t},Range:function(t,e,n){function i(r,i){return n(r,i)&&r>t&&r<e}return n=n||r.Number,i.toJSON=function(){return"".concat(n.toJSON()," between [").concat(t,", ").concat(e,"]")},i},StringN:l,UInt8:function(t){return(255&t)===t},UInt16:function(t){return(65535&t)===t},UInt32:function(t){return t>>>0===t},UInt53:function(t){return"number"===typeof t&&t>=0&&t<=h&&Math.floor(t)===t}};for(var p in d)d[p].toJSON=function(t){return t}.bind(null,p);t.exports=d}).call(this,n(4).Buffer)},1578:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.p2ms=void 0;var r=n(1199),i=n(1191),o=n(1184),a=n(1218),s=i.OPS,u=s.OP_RESERVED;function c(t,e){return t.length===e.length&&t.every((function(t,n){return t.equals(e[n])}))}e.p2ms=function(t,e){if(!t.input&&!t.output&&(!t.pubkeys||void 0===t.m)&&!t.signatures)throw new TypeError("Not enough data");function n(t){return i.isCanonicalScriptSignature(t)||void 0!==(e.allowIncomplete&&t===s.OP_0)}e=Object.assign({validate:!0},e||{}),(0,o.typeforce)({network:o.typeforce.maybe(o.typeforce.Object),m:o.typeforce.maybe(o.typeforce.Number),n:o.typeforce.maybe(o.typeforce.Number),output:o.typeforce.maybe(o.typeforce.Buffer),pubkeys:o.typeforce.maybe(o.typeforce.arrayOf(o.isPoint)),signatures:o.typeforce.maybe(o.typeforce.arrayOf(n)),input:o.typeforce.maybe(o.typeforce.Buffer)},t);var f={network:t.network||r.bitcoin},l=[],h=!1;function d(t){h||(h=!0,l=i.decompile(t),f.m=l[0]-u,f.n=l[l.length-2]-u,f.pubkeys=l.slice(1,-2))}if(a.prop(f,"output",(function(){if(t.m&&f.n&&t.pubkeys)return i.compile([].concat(u+t.m,t.pubkeys,u+f.n,s.OP_CHECKMULTISIG))})),a.prop(f,"m",(function(){if(f.output)return d(f.output),f.m})),a.prop(f,"n",(function(){if(f.pubkeys)return f.pubkeys.length})),a.prop(f,"pubkeys",(function(){if(t.output)return d(t.output),f.pubkeys})),a.prop(f,"signatures",(function(){if(t.input)return i.decompile(t.input).slice(1)})),a.prop(f,"input",(function(){if(t.signatures)return i.compile([s.OP_0].concat(t.signatures))})),a.prop(f,"witness",(function(){if(f.input)return[]})),a.prop(f,"name",(function(){if(f.m&&f.n)return"p2ms(".concat(f.m," of ").concat(f.n,")")})),e.validate){if(t.output){if(d(t.output),!o.typeforce.Number(l[0]))throw new TypeError("Output is invalid");if(!o.typeforce.Number(l[l.length-2]))throw new TypeError("Output is invalid");if(l[l.length-1]!==s.OP_CHECKMULTISIG)throw new TypeError("Output is invalid");if(f.m<=0||f.n>16||f.m>f.n||f.n!==l.length-3)throw new TypeError("Output is invalid");if(!f.pubkeys.every((function(t){return(0,o.isPoint)(t)})))throw new TypeError("Output is invalid");if(void 0!==t.m&&t.m!==f.m)throw new TypeError("m mismatch");if(void 0!==t.n&&t.n!==f.n)throw new TypeError("n mismatch");if(t.pubkeys&&!c(t.pubkeys,f.pubkeys))throw new TypeError("Pubkeys mismatch")}if(t.pubkeys){if(void 0!==t.n&&t.n!==t.pubkeys.length)throw new TypeError("Pubkey count mismatch");if(f.n=t.pubkeys.length,f.n<f.m)throw new TypeError("Pubkey count cannot be less than m")}if(t.signatures){if(t.signatures.length<f.m)throw new TypeError("Not enough signatures provided");if(t.signatures.length>f.m)throw new TypeError("Too many signatures provided")}if(t.input){if(t.input[0]!==s.OP_0)throw new TypeError("Input is invalid");if(0===f.signatures.length||!f.signatures.every(n))throw new TypeError("Input has invalid signature(s)");if(t.signatures&&!c(t.signatures,f.signatures))throw new TypeError("Signature mismatch");if(void 0!==t.m&&t.m!==t.signatures.length)throw new TypeError("Signature count mismatch")}}return Object.assign(f,t)}},1579:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.p2pk=void 0;var r=n(1199),i=n(1191),o=n(1184),a=n(1218),s=i.OPS;e.p2pk=function(t,e){if(!t.input&&!t.output&&!t.pubkey&&!t.input&&!t.signature)throw new TypeError("Not enough data");e=Object.assign({validate:!0},e||{}),(0,o.typeforce)({network:o.typeforce.maybe(o.typeforce.Object),output:o.typeforce.maybe(o.typeforce.Buffer),pubkey:o.typeforce.maybe(o.isPoint),signature:o.typeforce.maybe(i.isCanonicalScriptSignature),input:o.typeforce.maybe(o.typeforce.Buffer)},t);var n=a.value((function(){return i.decompile(t.input)})),u={name:"p2pk",network:t.network||r.bitcoin};if(a.prop(u,"output",(function(){if(t.pubkey)return i.compile([t.pubkey,s.OP_CHECKSIG])})),a.prop(u,"pubkey",(function(){if(t.output)return t.output.slice(1,-1)})),a.prop(u,"signature",(function(){if(t.input)return n()[0]})),a.prop(u,"input",(function(){if(t.signature)return i.compile([t.signature])})),a.prop(u,"witness",(function(){if(u.input)return[]})),e.validate){if(t.output){if(t.output[t.output.length-1]!==s.OP_CHECKSIG)throw new TypeError("Output is invalid");if(!(0,o.isPoint)(u.pubkey))throw new TypeError("Output pubkey is invalid");if(t.pubkey&&!t.pubkey.equals(u.pubkey))throw new TypeError("Pubkey mismatch")}if(t.signature&&t.input&&!t.input.equals(u.input))throw new TypeError("Signature mismatch");if(t.input){if(1!==n().length)throw new TypeError("Input is invalid");if(!i.isCanonicalScriptSignature(u.signature))throw new TypeError("Input has invalid signature")}}return Object.assign(u,t)}},1580:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.p2pkh=void 0;var r=n(1210),i=n(1199),o=n(1191),a=n(1184),s=n(1218),u=n(349),c=o.OPS;e.p2pkh=function(e,n){if(!e.address&&!e.hash&&!e.output&&!e.pubkey&&!e.input)throw new TypeError("Not enough data");n=Object.assign({validate:!0},n||{}),(0,a.typeforce)({network:a.typeforce.maybe(a.typeforce.Object),address:a.typeforce.maybe(a.typeforce.String),hash:a.typeforce.maybe(a.typeforce.BufferN(20)),output:a.typeforce.maybe(a.typeforce.BufferN(25)),pubkey:a.typeforce.maybe(a.isPoint),signature:a.typeforce.maybe(o.isCanonicalScriptSignature),input:a.typeforce.maybe(a.typeforce.Buffer)},e);var f=s.value((function(){var t=u.decode(e.address);return{version:t.readUInt8(0),hash:t.slice(1)}})),l=s.value((function(){return o.decompile(e.input)})),h=e.network||i.bitcoin,d={name:"p2pkh",network:h};if(s.prop(d,"address",(function(){if(d.hash){var e=t.allocUnsafe(21);return e.writeUInt8(h.pubKeyHash,0),d.hash.copy(e,1),u.encode(e)}})),s.prop(d,"hash",(function(){return e.output?e.output.slice(3,23):e.address?f().hash:e.pubkey||d.pubkey?r.hash160(e.pubkey||d.pubkey):void 0})),s.prop(d,"output",(function(){if(d.hash)return o.compile([c.OP_DUP,c.OP_HASH160,d.hash,c.OP_EQUALVERIFY,c.OP_CHECKSIG])})),s.prop(d,"pubkey",(function(){if(e.input)return l()[1]})),s.prop(d,"signature",(function(){if(e.input)return l()[0]})),s.prop(d,"input",(function(){if(e.pubkey&&e.signature)return o.compile([e.signature,e.pubkey])})),s.prop(d,"witness",(function(){if(d.input)return[]})),n.validate){var p=t.from([]);if(e.address){if(f().version!==h.pubKeyHash)throw new TypeError("Invalid version or Network mismatch");if(20!==f().hash.length)throw new TypeError("Invalid address");p=f().hash}if(e.hash){if(p.length>0&&!p.equals(e.hash))throw new TypeError("Hash mismatch");p=e.hash}if(e.output){if(25!==e.output.length||e.output[0]!==c.OP_DUP||e.output[1]!==c.OP_HASH160||20!==e.output[2]||e.output[23]!==c.OP_EQUALVERIFY||e.output[24]!==c.OP_CHECKSIG)throw new TypeError("Output is invalid");var v=e.output.slice(3,23);if(p.length>0&&!p.equals(v))throw new TypeError("Hash mismatch");p=v}if(e.pubkey){var y=r.hash160(e.pubkey);if(p.length>0&&!p.equals(y))throw new TypeError("Hash mismatch");p=y}if(e.input){var g=l();if(2!==g.length)throw new TypeError("Input is invalid");if(!o.isCanonicalScriptSignature(g[0]))throw new TypeError("Input has invalid signature");if(!(0,a.isPoint)(g[1]))throw new TypeError("Input has invalid pubkey");if(e.signature&&!e.signature.equals(g[0]))throw new TypeError("Signature mismatch");if(e.pubkey&&!e.pubkey.equals(g[1]))throw new TypeError("Pubkey mismatch");var m=r.hash160(g[1]);if(p.length>0&&!p.equals(m))throw new TypeError("Hash mismatch")}}return Object.assign(d,e)}}).call(this,n(4).Buffer)},1581:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.p2sh=void 0;var r=n(1210),i=n(1199),o=n(1191),a=n(1184),s=n(1218),u=n(349),c=o.OPS;e.p2sh=function(e,n){if(!e.address&&!e.hash&&!e.output&&!e.redeem&&!e.input)throw new TypeError("Not enough data");n=Object.assign({validate:!0},n||{}),(0,a.typeforce)({network:a.typeforce.maybe(a.typeforce.Object),address:a.typeforce.maybe(a.typeforce.String),hash:a.typeforce.maybe(a.typeforce.BufferN(20)),output:a.typeforce.maybe(a.typeforce.BufferN(23)),redeem:a.typeforce.maybe({network:a.typeforce.maybe(a.typeforce.Object),output:a.typeforce.maybe(a.typeforce.Buffer),input:a.typeforce.maybe(a.typeforce.Buffer),witness:a.typeforce.maybe(a.typeforce.arrayOf(a.typeforce.Buffer))}),input:a.typeforce.maybe(a.typeforce.Buffer),witness:a.typeforce.maybe(a.typeforce.arrayOf(a.typeforce.Buffer))},e);var f=e.network;f||(f=e.redeem&&e.redeem.network||i.bitcoin);var l={network:f},h=s.value((function(){var t=u.decode(e.address);return{version:t.readUInt8(0),hash:t.slice(1)}})),d=s.value((function(){return o.decompile(e.input)})),p=s.value((function(){var t=d();return{network:f,output:t[t.length-1],input:o.compile(t.slice(0,-1)),witness:e.witness||[]}}));if(s.prop(l,"address",(function(){if(l.hash){var e=t.allocUnsafe(21);return e.writeUInt8(l.network.scriptHash,0),l.hash.copy(e,1),u.encode(e)}})),s.prop(l,"hash",(function(){return e.output?e.output.slice(2,22):e.address?h().hash:l.redeem&&l.redeem.output?r.hash160(l.redeem.output):void 0})),s.prop(l,"output",(function(){if(l.hash)return o.compile([c.OP_HASH160,l.hash,c.OP_EQUAL])})),s.prop(l,"redeem",(function(){if(e.input)return p()})),s.prop(l,"input",(function(){if(e.redeem&&e.redeem.input&&e.redeem.output)return o.compile([].concat(o.decompile(e.redeem.input),e.redeem.output))})),s.prop(l,"witness",(function(){return l.redeem&&l.redeem.witness?l.redeem.witness:l.input?[]:void 0})),s.prop(l,"name",(function(){var t=["p2sh"];return void 0!==l.redeem&&void 0!==l.redeem.name&&t.push(l.redeem.name),t.join("-")})),n.validate){var v=t.from([]);if(e.address){if(h().version!==f.scriptHash)throw new TypeError("Invalid version or Network mismatch");if(20!==h().hash.length)throw new TypeError("Invalid address");v=h().hash}if(e.hash){if(v.length>0&&!v.equals(e.hash))throw new TypeError("Hash mismatch");v=e.hash}if(e.output){if(23!==e.output.length||e.output[0]!==c.OP_HASH160||20!==e.output[1]||e.output[22]!==c.OP_EQUAL)throw new TypeError("Output is invalid");var y=e.output.slice(2,22);if(v.length>0&&!v.equals(y))throw new TypeError("Hash mismatch");v=y}var g=function(t){if(t.output){var e=o.decompile(t.output);if(!e||e.length<1)throw new TypeError("Redeem.output too short");var n=r.hash160(t.output);if(v.length>0&&!v.equals(n))throw new TypeError("Hash mismatch");v=n}if(t.input){var i=t.input.length>0,a=t.witness&&t.witness.length>0;if(!i&&!a)throw new TypeError("Empty input");if(i&&a)throw new TypeError("Input and witness provided");if(i){var s=o.decompile(t.input);if(!o.isPushOnly(s))throw new TypeError("Non push-only scriptSig")}}};if(e.input){var m=d();if(!m||m.length<1)throw new TypeError("Input too short");if(!t.isBuffer(p().output))throw new TypeError("Input is invalid");g(p())}if(e.redeem){if(e.redeem.network&&e.redeem.network!==f)throw new TypeError("Network mismatch");if(e.input){var b=p();if(e.redeem.output&&!e.redeem.output.equals(b.output))throw new TypeError("Redeem.output mismatch");if(e.redeem.input&&!e.redeem.input.equals(b.input))throw new TypeError("Redeem.input mismatch")}g(e.redeem)}if(e.witness&&e.redeem&&e.redeem.witness&&!function(t,e){return t.length===e.length&&t.every((function(t,n){return t.equals(e[n])}))}(e.redeem.witness,e.witness))throw new TypeError("Witness and redeem.witness mismatch")}return Object.assign(l,e)}}).call(this,n(4).Buffer)},1582:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.p2wpkh=void 0;var r=n(1210),i=n(1199),o=n(1191),a=n(1184),s=n(1218),u=n(348),c=o.OPS,f=t.alloc(0);e.p2wpkh=function(e,n){if(!e.address&&!e.hash&&!e.output&&!e.pubkey&&!e.witness)throw new TypeError("Not enough data");n=Object.assign({validate:!0},n||{}),(0,a.typeforce)({address:a.typeforce.maybe(a.typeforce.String),hash:a.typeforce.maybe(a.typeforce.BufferN(20)),input:a.typeforce.maybe(a.typeforce.BufferN(0)),network:a.typeforce.maybe(a.typeforce.Object),output:a.typeforce.maybe(a.typeforce.BufferN(22)),pubkey:a.typeforce.maybe(a.isPoint),signature:a.typeforce.maybe(o.isCanonicalScriptSignature),witness:a.typeforce.maybe(a.typeforce.arrayOf(a.typeforce.Buffer))},e);var l=s.value((function(){var n=u.bech32.decode(e.address),r=n.words.shift(),i=u.bech32.fromWords(n.words);return{version:r,prefix:n.prefix,data:t.from(i)}})),h=e.network||i.bitcoin,d={name:"p2wpkh",network:h};if(s.prop(d,"address",(function(){if(d.hash){var t=u.bech32.toWords(d.hash);return t.unshift(0),u.bech32.encode(h.bech32,t)}})),s.prop(d,"hash",(function(){return e.output?e.output.slice(2,22):e.address?l().data:e.pubkey||d.pubkey?r.hash160(e.pubkey||d.pubkey):void 0})),s.prop(d,"output",(function(){if(d.hash)return o.compile([c.OP_0,d.hash])})),s.prop(d,"pubkey",(function(){return e.pubkey?e.pubkey:e.witness?e.witness[1]:void 0})),s.prop(d,"signature",(function(){if(e.witness)return e.witness[0]})),s.prop(d,"input",(function(){if(d.witness)return f})),s.prop(d,"witness",(function(){if(e.pubkey&&e.signature)return[e.signature,e.pubkey]})),n.validate){var p=t.from([]);if(e.address){if(h&&h.bech32!==l().prefix)throw new TypeError("Invalid prefix or Network mismatch");if(0!==l().version)throw new TypeError("Invalid address version");if(20!==l().data.length)throw new TypeError("Invalid address data");p=l().data}if(e.hash){if(p.length>0&&!p.equals(e.hash))throw new TypeError("Hash mismatch");p=e.hash}if(e.output){if(22!==e.output.length||e.output[0]!==c.OP_0||20!==e.output[1])throw new TypeError("Output is invalid");if(p.length>0&&!p.equals(e.output.slice(2)))throw new TypeError("Hash mismatch");p=e.output.slice(2)}if(e.pubkey){var v=r.hash160(e.pubkey);if(p.length>0&&!p.equals(v))throw new TypeError("Hash mismatch");if(p=v,!(0,a.isPoint)(e.pubkey)||33!==e.pubkey.length)throw new TypeError("Invalid pubkey for p2wpkh")}if(e.witness){if(2!==e.witness.length)throw new TypeError("Witness is invalid");if(!o.isCanonicalScriptSignature(e.witness[0]))throw new TypeError("Witness has invalid signature");if(!(0,a.isPoint)(e.witness[1])||33!==e.witness[1].length)throw new TypeError("Witness has invalid pubkey");if(e.signature&&!e.signature.equals(e.witness[0]))throw new TypeError("Signature mismatch");if(e.pubkey&&!e.pubkey.equals(e.witness[1]))throw new TypeError("Pubkey mismatch");var y=r.hash160(e.witness[1]);if(p.length>0&&!p.equals(y))throw new TypeError("Hash mismatch")}}return Object.assign(d,e)}}).call(this,n(4).Buffer)},1583:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.p2wsh=void 0;var r=n(1210),i=n(1199),o=n(1191),a=n(1184),s=n(1218),u=n(348),c=o.OPS,f=t.alloc(0);function l(e){return!(!t.isBuffer(e)||65!==e.length||4!==e[0]||!(0,a.isPoint)(e))}e.p2wsh=function(e,n){if(!e.address&&!e.hash&&!e.output&&!e.redeem&&!e.witness)throw new TypeError("Not enough data");n=Object.assign({validate:!0},n||{}),(0,a.typeforce)({network:a.typeforce.maybe(a.typeforce.Object),address:a.typeforce.maybe(a.typeforce.String),hash:a.typeforce.maybe(a.typeforce.BufferN(32)),output:a.typeforce.maybe(a.typeforce.BufferN(34)),redeem:a.typeforce.maybe({input:a.typeforce.maybe(a.typeforce.Buffer),network:a.typeforce.maybe(a.typeforce.Object),output:a.typeforce.maybe(a.typeforce.Buffer),witness:a.typeforce.maybe(a.typeforce.arrayOf(a.typeforce.Buffer))}),input:a.typeforce.maybe(a.typeforce.BufferN(0)),witness:a.typeforce.maybe(a.typeforce.arrayOf(a.typeforce.Buffer))},e);var h=s.value((function(){var n=u.bech32.decode(e.address),r=n.words.shift(),i=u.bech32.fromWords(n.words);return{version:r,prefix:n.prefix,data:t.from(i)}})),d=s.value((function(){return o.decompile(e.redeem.input)})),p=e.network;p||(p=e.redeem&&e.redeem.network||i.bitcoin);var v={network:p};if(s.prop(v,"address",(function(){if(v.hash){var t=u.bech32.toWords(v.hash);return t.unshift(0),u.bech32.encode(p.bech32,t)}})),s.prop(v,"hash",(function(){return e.output?e.output.slice(2):e.address?h().data:v.redeem&&v.redeem.output?r.sha256(v.redeem.output):void 0})),s.prop(v,"output",(function(){if(v.hash)return o.compile([c.OP_0,v.hash])})),s.prop(v,"redeem",(function(){if(e.witness)return{output:e.witness[e.witness.length-1],input:f,witness:e.witness.slice(0,-1)}})),s.prop(v,"input",(function(){if(v.witness)return f})),s.prop(v,"witness",(function(){if(e.redeem&&e.redeem.input&&e.redeem.input.length>0&&e.redeem.output&&e.redeem.output.length>0){var t=o.toStack(d());return v.redeem=Object.assign({witness:t},e.redeem),v.redeem.input=f,[].concat(t,e.redeem.output)}if(e.redeem&&e.redeem.output&&e.redeem.witness)return[].concat(e.redeem.witness,e.redeem.output)})),s.prop(v,"name",(function(){var t=["p2wsh"];return void 0!==v.redeem&&void 0!==v.redeem.name&&t.push(v.redeem.name),t.join("-")})),n.validate){var y=t.from([]);if(e.address){if(h().prefix!==p.bech32)throw new TypeError("Invalid prefix or Network mismatch");if(0!==h().version)throw new TypeError("Invalid address version");if(32!==h().data.length)throw new TypeError("Invalid address data");y=h().data}if(e.hash){if(y.length>0&&!y.equals(e.hash))throw new TypeError("Hash mismatch");y=e.hash}if(e.output){if(34!==e.output.length||e.output[0]!==c.OP_0||32!==e.output[1])throw new TypeError("Output is invalid");var g=e.output.slice(2);if(y.length>0&&!y.equals(g))throw new TypeError("Hash mismatch");y=g}if(e.redeem){if(e.redeem.network&&e.redeem.network!==p)throw new TypeError("Network mismatch");if(e.redeem.input&&e.redeem.input.length>0&&e.redeem.witness&&e.redeem.witness.length>0)throw new TypeError("Ambiguous witness source");if(e.redeem.output){if(0===o.decompile(e.redeem.output).length)throw new TypeError("Redeem.output is invalid");var m=r.sha256(e.redeem.output);if(y.length>0&&!y.equals(m))throw new TypeError("Hash mismatch");y=m}if(e.redeem.input&&!o.isPushOnly(d()))throw new TypeError("Non push-only scriptSig");if(e.witness&&e.redeem.witness&&!function(t,e){return t.length===e.length&&t.every((function(t,n){return t.equals(e[n])}))}(e.witness,e.redeem.witness))throw new TypeError("Witness and redeem.witness mismatch");if(e.redeem.input&&d().some(l)||e.redeem.output&&(o.decompile(e.redeem.output)||[]).some(l))throw new TypeError("redeem.input or redeem.output contains uncompressed pubkey")}if(e.witness&&e.witness.length>0){var b=e.witness[e.witness.length-1];if(e.redeem&&e.redeem.output&&!e.redeem.output.equals(b))throw new TypeError("Witness and redeem.output mismatch");if(e.witness.some(l)||(o.decompile(b)||[]).some(l))throw new TypeError("Witness contains uncompressed pubkey")}}return Object.assign(v,e)}}).call(this,n(4).Buffer)},1584:function(t,e,n){"use strict";(function(t){var r=n(444),i=n(445);Object.defineProperty(e,"__esModule",{value:!0}),e.Block=void 0;var o=n(1325),a=n(1210),s=n(1586),u=n(1326),c=n(1184),f=c.typeforce,l=new TypeError("Cannot compute merkle root for zero transactions"),h=new TypeError("Cannot compute witness commit for non-segwit block"),d=function(){function e(){r(this,e),this.version=1,this.prevHash=void 0,this.merkleRoot=void 0,this.timestamp=0,this.witnessCommit=void 0,this.bits=0,this.nonce=0,this.transactions=void 0}return i(e,[{key:"getWitnessCommit",value:function(){if(!p(this.transactions))return null;var e=this.transactions[0].outs.filter((function(e){return e.script.slice(0,6).equals(t.from("6a24aa21a9ed","hex"))})).map((function(t){return t.script.slice(6,38)}));if(0===e.length)return null;var n=e[e.length-1];return n instanceof t&&32===n.length?n:null}},{key:"hasWitnessCommit",value:function(){return this.witnessCommit instanceof t&&32===this.witnessCommit.length||null!==this.getWitnessCommit()}},{key:"hasWitness",value:function(){return(t=this.transactions)instanceof Array&&t.some((function(t){return"object"===typeof t&&t.ins instanceof Array&&t.ins.some((function(t){return"object"===typeof t&&t.witness instanceof Array&&t.witness.length>0}))}));var t}},{key:"weight",value:function(){return 3*this.byteLength(!1,!1)+this.byteLength(!1,!0)}},{key:"byteLength",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t||!this.transactions?80:80+o.varuint.encodingLength(this.transactions.length)+this.transactions.reduce((function(t,n){return t+n.byteLength(e)}),0)}},{key:"getHash",value:function(){return a.hash256(this.toBuffer(!0))}},{key:"getId",value:function(){return(0,o.reverseBuffer)(this.getHash()).toString("hex")}},{key:"getUTCDate",value:function(){var t=new Date(0);return t.setUTCSeconds(this.timestamp),t}},{key:"toBuffer",value:function(e){var n=t.allocUnsafe(this.byteLength(e)),r=new o.BufferWriter(n);return r.writeInt32(this.version),r.writeSlice(this.prevHash),r.writeSlice(this.merkleRoot),r.writeUInt32(this.timestamp),r.writeUInt32(this.bits),r.writeUInt32(this.nonce),e||!this.transactions||(o.varuint.encode(this.transactions.length,n,r.offset),r.offset+=o.varuint.encode.bytes,this.transactions.forEach((function(t){var e=t.byteLength();t.toBuffer(n,r.offset),r.offset+=e}))),n}},{key:"toHex",value:function(t){return this.toBuffer(t).toString("hex")}},{key:"checkTxRoots",value:function(){var t=this.hasWitnessCommit();return!(!t&&this.hasWitness())&&(this.__checkMerkleRoot()&&(!t||this.__checkWitnessCommit()))}},{key:"checkProofOfWork",value:function(){var t=(0,o.reverseBuffer)(this.getHash()),n=e.calculateTarget(this.bits);return t.compare(n)<=0}},{key:"__checkMerkleRoot",value:function(){if(!this.transactions)throw l;var t=e.calculateMerkleRoot(this.transactions);return 0===this.merkleRoot.compare(t)}},{key:"__checkWitnessCommit",value:function(){if(!this.transactions)throw l;if(!this.hasWitnessCommit())throw h;var t=e.calculateMerkleRoot(this.transactions,!0);return 0===this.witnessCommit.compare(t)}}],[{key:"fromBuffer",value:function(t){if(t.length<80)throw new Error("Buffer too small (< 80 bytes)");var n=new o.BufferReader(t),r=new e;if(r.version=n.readInt32(),r.prevHash=n.readSlice(32),r.merkleRoot=n.readSlice(32),r.timestamp=n.readUInt32(),r.bits=n.readUInt32(),r.nonce=n.readUInt32(),80===t.length)return r;var i=function(){var t=u.Transaction.fromBuffer(n.buffer.slice(n.offset),!0);return n.offset+=t.byteLength(),t},a=n.readVarInt();r.transactions=[];for(var s=0;s<a;++s){var c=i();r.transactions.push(c)}var f=r.getWitnessCommit();return f&&(r.witnessCommit=f),r}},{key:"fromHex",value:function(n){return e.fromBuffer(t.from(n,"hex"))}},{key:"calculateTarget",value:function(e){var n=((4278190080&e)>>24)-3,r=8388607&e,i=t.alloc(32,0);return i.writeUIntBE(r,29-n,3),i}},{key:"calculateMerkleRoot",value:function(e,n){if(f([{getHash:c.Function}],e),0===e.length)throw l;if(n&&!p(e))throw h;var r=e.map((function(t){return t.getHash(n)})),i=(0,s.fastMerkleRoot)(r,a.hash256);return n?a.hash256(t.concat([i,e[0].ins[0].witness[0]])):i}}]),e}();function p(t){return t instanceof Array&&t[0]&&t[0].ins&&t[0].ins instanceof Array&&t[0].ins[0]&&t[0].ins[0].witness&&t[0].ins[0].witness instanceof Array&&t[0].ins[0].witness.length>0}e.Block=d}).call(this,n(4).Buffer)},1585:function(t,e,n){"use strict";var r=n(28).Buffer;function i(t){if(t<0||t>9007199254740991||t%1!==0)throw new RangeError("value out of range")}function o(t){return i(t),t<253?1:t<=65535?3:t<=4294967295?5:9}t.exports={encode:function t(e,n,a){if(i(e),n||(n=r.allocUnsafe(o(e))),!r.isBuffer(n))throw new TypeError("buffer must be a Buffer instance");return a||(a=0),e<253?(n.writeUInt8(e,a),t.bytes=1):e<=65535?(n.writeUInt8(253,a),n.writeUInt16LE(e,a+1),t.bytes=3):e<=4294967295?(n.writeUInt8(254,a),n.writeUInt32LE(e,a+1),t.bytes=5):(n.writeUInt8(255,a),n.writeUInt32LE(e>>>0,a+1),n.writeUInt32LE(e/4294967296|0,a+5),t.bytes=9),n},decode:function t(e,n){if(!r.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");n||(n=0);var o=e.readUInt8(n);if(o<253)return t.bytes=1,o;if(253===o)return t.bytes=3,e.readUInt16LE(n+1);if(254===o)return t.bytes=5,e.readUInt32LE(n+1);t.bytes=9;var a=e.readUInt32LE(n+1),s=4294967296*e.readUInt32LE(n+5)+a;return i(s),s},encodingLength:o}},1586:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.fastMerkleRoot=void 0,e.fastMerkleRoot=function(e,n){if(!Array.isArray(e))throw TypeError("Expected values Array");if("function"!==typeof n)throw TypeError("Expected digest Function");for(var r=e.length,i=e.concat();r>1;){for(var o=0,a=0;a<r;a+=2,++o){var s=i[a],u=a+1===r?s:i[a+1],c=t.concat([s,u]);i[o]=n(c)}r=o}return i[0]}}).call(this,n(4).Buffer)},1587:function(t,e,n){"use strict";(function(t){var r=n(453),i=n(347),o=n(645),a=n(444),s=n(445);Object.defineProperty(e,"__esModule",{value:!0}),e.Psbt=void 0;var u=n(1588),c=n(1284),f=n(1407),l=n(1403),h=n(1325),d=n(1210),p=n(1199),v=n(1322),y=n(1191),g=n(1326),m={network:p.bitcoin,maximumFeeRate:5e3},b=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.Psbt(new _);a(this,e),this.data=n,this.opts=Object.assign({},m,t),this.__CACHE={__NON_WITNESS_UTXO_TX_CACHE:[],__NON_WITNESS_UTXO_BUF_CACHE:[],__TX_IN_CACHE:{},__TX:this.data.globalMap.unsignedTx.tx,__UNSAFE_SIGN_NONSEGWIT:!1},0===this.data.inputs.length&&this.setVersion(2);var r=function(t,e,n,r){return Object.defineProperty(t,e,{enumerable:n,writable:r})};r(this,"__CACHE",!1,!0),r(this,"opts",!1,!0)}return s(e,[{key:"inputCount",get:function(){return this.data.inputs.length}},{key:"version",get:function(){return this.__CACHE.__TX.version},set:function(t){this.setVersion(t)}},{key:"locktime",get:function(){return this.__CACHE.__TX.locktime},set:function(t){this.setLocktime(t)}},{key:"txInputs",get:function(){return this.__CACHE.__TX.ins.map((function(t){return{hash:(0,h.cloneBuffer)(t.hash),index:t.index,sequence:t.sequence}}))}},{key:"txOutputs",get:function(){var t=this;return this.__CACHE.__TX.outs.map((function(e){var n;try{n=(0,l.fromOutputScript)(e.script,t.opts.network)}catch(r){}return{script:(0,h.cloneBuffer)(e.script),value:e.value,address:n}}))}},{key:"combine",value:function(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(t=this.data).combine.apply(t,o(n.map((function(t){return t.data})))),this}},{key:"clone",value:function(){var t=e.fromBuffer(this.data.toBuffer());return t.opts=JSON.parse(JSON.stringify(this.opts)),t}},{key:"setMaximumFeeRate",value:function(t){C(t),this.opts.maximumFeeRate=t}},{key:"setVersion",value:function(t){C(t),R(this.data.inputs,"setVersion");var e=this.__CACHE;return e.__TX.version=t,e.__EXTRACTED_TX=void 0,this}},{key:"setLocktime",value:function(t){C(t),R(this.data.inputs,"setLocktime");var e=this.__CACHE;return e.__TX.locktime=t,e.__EXTRACTED_TX=void 0,this}},{key:"setInputSequence",value:function(t,e){C(e),R(this.data.inputs,"setInputSequence");var n=this.__CACHE;if(n.__TX.ins.length<=t)throw new Error("Input index too high");return n.__TX.ins[t].sequence=e,n.__EXTRACTED_TX=void 0,this}},{key:"addInputs",value:function(t){var e=this;return t.forEach((function(t){return e.addInput(t)})),this}},{key:"addInput",value:function(t){if(arguments.length>1||!t||void 0===t.hash||void 0===t.index)throw new Error("Invalid arguments for Psbt.addInput. Requires single object with at least [hash] and [index]");R(this.data.inputs,"addInput"),t.witnessScript&&rt(t.witnessScript);var e=this.__CACHE;this.data.addInput(t);var n=e.__TX.ins[e.__TX.ins.length-1];B(e,n);var r=this.data.inputs.length-1,i=this.data.inputs[r];return i.nonWitnessUtxo&&J(this.__CACHE,i,r),e.__FEE=void 0,e.__FEE_RATE=void 0,e.__EXTRACTED_TX=void 0,this}},{key:"addOutputs",value:function(t){var e=this;return t.forEach((function(t){return e.addOutput(t)})),this}},{key:"addOutput",value:function(t){if(arguments.length>1||!t||void 0===t.value||void 0===t.address&&void 0===t.script)throw new Error("Invalid arguments for Psbt.addOutput. Requires single object with at least [script or address] and [value]");R(this.data.inputs,"addOutput");var e=t,n=e.address;if("string"===typeof n){var r=this.opts.network,i=(0,l.toOutputScript)(n,r);t=Object.assign(t,{script:i})}var o=this.__CACHE;return this.data.addOutput(t),o.__FEE=void 0,o.__FEE_RATE=void 0,o.__EXTRACTED_TX=void 0,this}},{key:"extractTransaction",value:function(t){if(!this.data.inputs.every(I))throw new Error("Not finalized");var e=this.__CACHE;if(t||function(t,e,n){var r=e.__FEE_RATE||t.getFeeRate(),i=e.__EXTRACTED_TX.virtualSize(),o=r*i;if(r>=n.maximumFeeRate)throw new Error("Warning: You are paying around ".concat((o/1e8).toFixed(8)," in ")+"fees, which is ".concat(r," satoshi per byte for a transaction ")+"with a VSize of ".concat(i," bytes (segwit counted as 0.25 byte per ")+"byte). Use setMaximumFeeRate method to raise your threshold, or pass true to the first arg of extractTransaction.")}(this,e,this.opts),e.__EXTRACTED_TX)return e.__EXTRACTED_TX;var n=e.__TX.clone();return Q(this.data.inputs,n,e,!0),n}},{key:"getFeeRate",value:function(){return q("__FEE_RATE","fee rate",this.data.inputs,this.__CACHE)}},{key:"getFee",value:function(){return q("__FEE","fee",this.data.inputs,this.__CACHE)}},{key:"finalizeAllInputs",value:function(){var t=this;return(0,f.checkForInput)(this.data.inputs,0),at(this.data.inputs.length).forEach((function(e){return t.finalizeInput(e)})),this}},{key:"finalizeInput",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:G,n=(0,f.checkForInput)(this.data.inputs,t),r=z(t,n,this.__CACHE),i=r.script,o=r.isP2SH,a=r.isP2WSH,s=r.isSegwit;if(!i)throw new Error("No script found for input #".concat(t));D(n);var u=e(t,n,i,s,o,a),c=u.finalScriptSig,l=u.finalScriptWitness;if(c&&this.data.updateInput(t,{finalScriptSig:c}),l&&this.data.updateInput(t,{finalScriptWitness:l}),!c&&!l)throw new Error("Unknown error finalizing input #".concat(t));return this.data.clearFinalizedInput(t),this}},{key:"getInputType",value:function(e){var n=(0,f.checkForInput)(this.data.inputs,e),r=nt(tt(e,n,this.__CACHE),e,"input",n.redeemScript||function(e){if(!e)return;var n=y.decompile(e);if(!n)return;var r=n[n.length-1];if(!t.isBuffer(r)||et(r)||(i=r,y.isCanonicalScriptSignature(i)))return;var i;if(!y.decompile(r))return;return r}(n.finalScriptSig),n.witnessScript||function(t){if(!t)return;var e=Y(t),n=e[e.length-1];if(et(n))return;if(!y.decompile(n))return;return n}(n.finalScriptWitness));return("raw"===r.type?"":r.type+"-")+ot(r.meaningfulScript)}},{key:"inputHasPubkey",value:function(t,e){return function(t,e,n,r){var i=nt(tt(n,e,r),n,"input",e.redeemScript,e.witnessScript).meaningfulScript;return it(t,i)}(e,(0,f.checkForInput)(this.data.inputs,t),t,this.__CACHE)}},{key:"inputHasHDKey",value:function(t,e){var n=(0,f.checkForInput)(this.data.inputs,t),r=P(e);return!!n.bip32Derivation&&n.bip32Derivation.some(r)}},{key:"outputHasPubkey",value:function(t,e){return function(t,e,n,r){var i=nt(r.__TX.outs[n].script,n,"output",e.redeemScript,e.witnessScript).meaningfulScript;return it(t,i)}(e,(0,f.checkForOutput)(this.data.outputs,t),t,this.__CACHE)}},{key:"outputHasHDKey",value:function(t,e){var n=(0,f.checkForOutput)(this.data.outputs,t),r=P(e);return!!n.bip32Derivation&&n.bip32Derivation.some(r)}},{key:"validateSignaturesOfAllInputs",value:function(t){var e=this;return(0,f.checkForInput)(this.data.inputs,0),at(this.data.inputs.length).map((function(n){return e.validateSignaturesOfInput(n,t)})).reduce((function(t,e){return!0===e&&t}),!0)}},{key:"validateSignaturesOfInput",value:function(t,e,n){var r=this.data.inputs[t],o=(r||{}).partialSig;if(!r||!o||o.length<1)throw new Error("No signatures to validate");if("function"!==typeof e)throw new Error("Need validator function to validate signatures");var a=n?o.filter((function(t){return t.pubkey.equals(n)})):o;if(a.length<1)throw new Error("No signatures for this pubkey");var s,u,c,f,l=[],h=i(a);try{for(h.s();!(f=h.n()).done;){var d=f.value,p=y.signature.decode(d.signature),v=c!==p.hashType?K(t,Object.assign({},r,{sighashType:p.hashType}),this.__CACHE,!0):{hash:s,script:u},g=v.hash,m=v.script;c=p.hashType,s=g,u=m,L(d.pubkey,m,"verify"),l.push(e(d.pubkey,g,p.signature))}}catch(b){h.e(b)}finally{h.f()}return l.every((function(t){return!0===t}))}},{key:"signAllInputsHD",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[g.Transaction.SIGHASH_ALL];if(!t||!t.publicKey||!t.fingerprint)throw new Error("Need HDSigner to sign input");var n,r=[],o=i(at(this.data.inputs.length));try{for(o.s();!(n=o.n()).done;){var a=n.value;try{this.signInputHD(a,t,e),r.push(!0)}catch(s){r.push(!1)}}}catch(s){o.e(s)}finally{o.f()}if(r.every((function(t){return!1===t})))throw new Error("No inputs were signed");return this}},{key:"signAllInputsHDAsync",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[g.Transaction.SIGHASH_ALL];return new Promise((function(r,o){if(!t||!t.publicKey||!t.fingerprint)return o(new Error("Need HDSigner to sign input"));var a,s=[],u=[],c=i(at(e.data.inputs.length));try{for(c.s();!(a=c.n()).done;){var f=a.value;u.push(e.signInputHDAsync(f,t,n).then((function(){s.push(!0)}),(function(){s.push(!1)})))}}catch(l){c.e(l)}finally{c.f()}return Promise.all(u).then((function(){if(s.every((function(t){return!1===t})))return o(new Error("No inputs were signed"));r()}))}))}},{key:"signInputHD",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[g.Transaction.SIGHASH_ALL];if(!e||!e.publicKey||!e.fingerprint)throw new Error("Need HDSigner to sign input");var i=X(t,this.data.inputs,e);return i.forEach((function(e){return n.signInput(t,e,r)})),this}},{key:"signInputHDAsync",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[g.Transaction.SIGHASH_ALL];return new Promise((function(i,o){if(!e||!e.publicKey||!e.fingerprint)return o(new Error("Need HDSigner to sign input"));var a=X(t,n.data.inputs,e).map((function(e){return n.signInputAsync(t,e,r)}));return Promise.all(a).then((function(){i()})).catch(o)}))}},{key:"signAllInputs",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[g.Transaction.SIGHASH_ALL];if(!t||!t.publicKey)throw new Error("Need Signer to sign input");var n,r=[],o=i(at(this.data.inputs.length));try{for(o.s();!(n=o.n()).done;){var a=n.value;try{this.signInput(a,t,e),r.push(!0)}catch(s){r.push(!1)}}}catch(s){o.e(s)}finally{o.f()}if(r.every((function(t){return!1===t})))throw new Error("No inputs were signed");return this}},{key:"signAllInputsAsync",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[g.Transaction.SIGHASH_ALL];return new Promise((function(o,a){if(!t||!t.publicKey)return a(new Error("Need Signer to sign input"));var s,u=[],c=[],f=i(e.data.inputs.entries());try{for(f.s();!(s=f.n()).done;){var l=r(s.value,1)[0];c.push(e.signInputAsync(l,t,n).then((function(){u.push(!0)}),(function(){u.push(!1)})))}}catch(h){f.e(h)}finally{f.f()}return Promise.all(c).then((function(){if(u.every((function(t){return!1===t})))return a(new Error("No inputs were signed"));o()}))}))}},{key:"signInput",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[g.Transaction.SIGHASH_ALL];if(!e||!e.publicKey)throw new Error("Need Signer to sign input");var r=W(this.data.inputs,t,e.publicKey,this.__CACHE,n),i=r.hash,o=r.sighashType,a=[{pubkey:e.publicKey,signature:y.signature.encode(e.sign(i),o)}];return this.data.updateInput(t,{partialSig:a}),this}},{key:"signInputAsync",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[g.Transaction.SIGHASH_ALL];return Promise.resolve().then((function(){if(!e||!e.publicKey)throw new Error("Need Signer to sign input");var i=W(n.data.inputs,t,e.publicKey,n.__CACHE,r),o=i.hash,a=i.sighashType;return Promise.resolve(e.sign(o)).then((function(r){var i=[{pubkey:e.publicKey,signature:y.signature.encode(r,a)}];n.data.updateInput(t,{partialSig:i})}))}))}},{key:"toBuffer",value:function(){return E(this.__CACHE),this.data.toBuffer()}},{key:"toHex",value:function(){return E(this.__CACHE),this.data.toHex()}},{key:"toBase64",value:function(){return E(this.__CACHE),this.data.toBase64()}},{key:"updateGlobal",value:function(t){return this.data.updateGlobal(t),this}},{key:"updateInput",value:function(t,e){return e.witnessScript&&rt(e.witnessScript),this.data.updateInput(t,e),e.nonWitnessUtxo&&J(this.__CACHE,this.data.inputs[t],t),this}},{key:"updateOutput",value:function(t,e){return this.data.updateOutput(t,e),this}},{key:"addUnknownKeyValToGlobal",value:function(t){return this.data.addUnknownKeyValToGlobal(t),this}},{key:"addUnknownKeyValToInput",value:function(t,e){return this.data.addUnknownKeyValToInput(t,e),this}},{key:"addUnknownKeyValToOutput",value:function(t,e){return this.data.addUnknownKeyValToOutput(t,e),this}},{key:"clearFinalizedInput",value:function(t){return this.data.clearFinalizedInput(t),this}}],[{key:"fromBase64",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.from(e,"base64");return this.fromBuffer(r,n)}},{key:"fromHex",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.from(e,"hex");return this.fromBuffer(r,n)}},{key:"fromBuffer",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=u.Psbt.fromBuffer(t,w),i=new e(n,r);return U(i.__CACHE.__TX,i.__CACHE),i}}]),e}();e.Psbt=b;var w=function(t){return new _(t)},_=function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.from([2,0,0,0,0,0,0,0,0,0]);a(this,e),this.tx=g.Transaction.fromBuffer(n),M(this.tx),Object.defineProperty(this,"tx",{enumerable:!1,writable:!0})}return s(e,[{key:"getInputOutputCounts",value:function(){return{inputCount:this.tx.ins.length,outputCount:this.tx.outs.length}}},{key:"addInput",value:function(e){if(void 0===e.hash||void 0===e.index||!t.isBuffer(e.hash)&&"string"!==typeof e.hash||"number"!==typeof e.index)throw new Error("Error adding input.");var n="string"===typeof e.hash?(0,h.reverseBuffer)(t.from(e.hash,"hex")):e.hash;this.tx.addInput(n,e.index,e.sequence)}},{key:"addOutput",value:function(e){if(void 0===e.script||void 0===e.value||!t.isBuffer(e.script)||"number"!==typeof e.value)throw new Error("Error adding output.");this.tx.addOutput(e.script,e.value)}},{key:"toBuffer",value:function(){return this.tx.toBuffer()}}]),e}();function E(t){if(!1!==t.__UNSAFE_SIGN_NONSEGWIT)throw new Error("Not BIP174 compliant, can not export")}function O(t,e,n){if(!e)return!1;var r;if((r=n?n.map((function(t){var n=function(t){if(65===t.length){var e=1&t[64],n=t.slice(0,33);return n[0]=2|e,n}return t.slice()}(t);return e.find((function(t){return t.pubkey.equals(n)}))})).filter((function(t){return!!t})):e).length>t)throw new Error("Too many signatures");return r.length===t}function I(t){return!!t.finalScriptSig||!!t.finalScriptWitness}function S(t){return function(e){try{return t({output:e}),!0}catch(n){return!1}}}var T=S(v.p2ms),x=S(v.p2pk),k=S(v.p2pkh),j=S(v.p2wpkh),A=S(v.p2wsh),N=S(v.p2sh);function P(t){return function(e){return!!e.masterFingerprint.equals(t.fingerprint)&&!!t.derivePath(e.path).publicKey.equals(e.pubkey)}}function C(t){if("number"!==typeof t||t!==Math.floor(t)||t>4294967295||t<0)throw new Error("Invalid 32 bit integer")}function R(e,n){e.forEach((function(e){var r=!1,i=[];if(0===(e.partialSig||[]).length){if(!e.finalScriptSig&&!e.finalScriptWitness)return;i=function(e){var n=e.finalScriptSig&&y.decompile(e.finalScriptSig)||[],r=e.finalScriptWitness&&y.decompile(e.finalScriptWitness)||[];return n.concat(r).filter((function(e){return t.isBuffer(e)&&y.isCanonicalScriptSignature(e)})).map((function(t){return{signature:t}}))}(e)}else i=e.partialSig;if(i.forEach((function(t){var e=y.signature.decode(t.signature).hashType,i=[];switch(e&g.Transaction.SIGHASH_ANYONECANPAY&&i.push("addInput"),31&e){case g.Transaction.SIGHASH_ALL:break;case g.Transaction.SIGHASH_SINGLE:case g.Transaction.SIGHASH_NONE:i.push("addOutput"),i.push("setInputSequence")}-1===i.indexOf(n)&&(r=!0)})),r)throw new Error("Can not modify transaction, signatures exist.")}))}function D(t){if(t.sighashType&&t.partialSig){var e=t.partialSig,n=t.sighashType;e.forEach((function(t){var e=y.signature.decode(t.signature).hashType;if(n!==e)throw new Error("Signature sighash does not match input sighash type")}))}}function L(t,e,n){if(!it(t,e))throw new Error("Can not ".concat(n," for this input with the key ").concat(t.toString("hex")))}function M(t){if(!t.ins.every((function(t){return t.script&&0===t.script.length&&t.witness&&0===t.witness.length})))throw new Error("Format Error: Transaction ScriptSigs are not empty")}function U(t,e){t.ins.forEach((function(t){B(e,t)}))}function B(e,n){var r=(0,h.reverseBuffer)(t.from(n.hash)).toString("hex")+":"+n.index;if(e.__TX_IN_CACHE[r])throw new Error("Duplicate input detected.");e.__TX_IN_CACHE[r]=1}function F(t,e){return function(n,r,i,o){var a=t({redeem:{output:i}}).output;if(!r.equals(a))throw new Error("".concat(e," for ").concat(o," #").concat(n," doesn't match the scriptPubKey in the prevout"))}}var V=F(v.p2sh,"Redeem script"),H=F(v.p2wsh,"Witness script");function q(t,e,n,r){if(!n.every(I))throw new Error("PSBT must be finalized to calculate ".concat(e));if("__FEE_RATE"===t&&r.__FEE_RATE)return r.__FEE_RATE;if("__FEE"===t&&r.__FEE)return r.__FEE;var i,o=!0;return r.__EXTRACTED_TX?(i=r.__EXTRACTED_TX,o=!1):i=r.__TX.clone(),Q(n,i,r,o),"__FEE_RATE"===t?r.__FEE_RATE:"__FEE"===t?r.__FEE:void 0}function G(t,e,n,r,i,o){var a=ot(n);if(!function(t,e,n){switch(n){case"pubkey":case"pubkeyhash":case"witnesspubkeyhash":return O(1,t.partialSig);case"multisig":var r=v.p2ms({output:e});return O(r.m,t.partialSig,r.pubkeys);default:return!1}}(e,n,a))throw new Error("Can not finalize input #".concat(t));return function(t,e,n,r,i,o){var a,s,u=function(t,e,n){var r;switch(e){case"multisig":var i=function(t,e){return v.p2ms({output:t}).pubkeys.map((function(t){return(e.filter((function(e){return e.pubkey.equals(t)}))[0]||{}).signature})).filter((function(t){return!!t}))}(t,n);r=v.p2ms({output:t,signatures:i});break;case"pubkey":r=v.p2pk({output:t,signature:n[0].signature});break;case"pubkeyhash":r=v.p2pkh({output:t,pubkey:n[0].pubkey,signature:n[0].signature});break;case"witnesspubkeyhash":r=v.p2wpkh({output:t,pubkey:n[0].pubkey,signature:n[0].signature})}return r}(t,e,n),c=o?v.p2wsh({redeem:u}):null,f=i?v.p2sh({redeem:c||u}):null;r?(s=$(c?c.witness:u.witness),f&&(a=f.input)):a=f?f.input:u.input;return{finalScriptSig:a,finalScriptWitness:s}}(n,a,e.partialSig,r,i,o)}function W(t,e,n,r,i){var o=K(e,(0,f.checkForInput)(t,e),r,!1,i),a=o.hash,s=o.sighashType;return L(n,o.script,"sign"),{hash:a,sighashType:s}}function K(t,e,n,r,i){var o,a,s=n.__TX,u=e.sighashType||g.Transaction.SIGHASH_ALL;if(i&&i.indexOf(u)<0){var c=function(t){var e=t&g.Transaction.SIGHASH_ANYONECANPAY?"SIGHASH_ANYONECANPAY | ":"";switch(31&t){case g.Transaction.SIGHASH_ALL:e+="SIGHASH_ALL";break;case g.Transaction.SIGHASH_SINGLE:e+="SIGHASH_SINGLE";break;case g.Transaction.SIGHASH_NONE:e+="SIGHASH_NONE"}return e}(u);throw new Error("Sighash type is not allowed. Retry the sign method passing the "+"sighashTypes array of whitelisted types. Sighash type: ".concat(c))}if(e.nonWitnessUtxo){var f=Z(n,e,t),l=s.ins[t].hash,h=f.getHash();if(!l.equals(h))throw new Error("Non-witness UTXO hash for input #".concat(t," doesn't match the hash specified in the prevout"));var d=s.ins[t].index;a=f.outs[d]}else{if(!e.witnessUtxo)throw new Error("Need a Utxo input item for signing");a=e.witnessUtxo}var p=nt(a.script,t,"input",e.redeemScript,e.witnessScript),y=p.meaningfulScript,m=p.type;if(["p2sh-p2wsh","p2wsh"].indexOf(m)>=0)o=s.hashForWitnessV0(t,y,a.value,u);else if(j(y)){var b=v.p2pkh({hash:y.slice(2)}).output;o=s.hashForWitnessV0(t,b,a.value,u)}else{if(void 0===e.nonWitnessUtxo&&!1===n.__UNSAFE_SIGN_NONSEGWIT)throw new Error("Input #".concat(t," has witnessUtxo but non-segwit script: ")+"".concat(y.toString("hex")));r||!1===n.__UNSAFE_SIGN_NONSEGWIT||console.warn("Warning: Signing non-segwit inputs without the full parent transaction means there is a chance that a miner could feed you incorrect information to trick you into paying large fees. This behavior is the same as Psbt's predecesor (TransactionBuilder - now removed) when signing non-segwit scripts. You are not able to export this Psbt with toBuffer|toBase64|toHex since it is not BIP174 compliant.\n*********************\nPROCEED WITH CAUTION!\n*********************"),o=s.hashForSignature(t,y,u)}return{script:y,sighashType:u,hash:o}}function z(t,e,n){var r=n.__TX,i={script:null,isSegwit:!1,isP2SH:!1,isP2WSH:!1};if(i.isP2SH=!!e.redeemScript,i.isP2WSH=!!e.witnessScript,e.witnessScript)i.script=e.witnessScript;else if(e.redeemScript)i.script=e.redeemScript;else if(e.nonWitnessUtxo){var o=Z(n,e,t),a=r.ins[t].index;i.script=o.outs[a].script}else e.witnessUtxo&&(i.script=e.witnessUtxo.script);return(e.witnessScript||j(i.script))&&(i.isSegwit=!0),i}function X(t,e,n){var r=(0,f.checkForInput)(e,t);if(!r.bip32Derivation||0===r.bip32Derivation.length)throw new Error("Need bip32Derivation to sign with HD");var i=r.bip32Derivation.map((function(t){return t.masterFingerprint.equals(n.fingerprint)?t:void 0})).filter((function(t){return!!t}));if(0===i.length)throw new Error("Need one bip32Derivation masterFingerprint to match the HDSigner fingerprint");return i.map((function(t){var e=n.derivePath(t.path);if(!t.pubkey.equals(e.publicKey))throw new Error("pubkey did not match bip32Derivation");return e}))}function Y(t){var e=0;function n(){var n=c.decode(t,e);return e+=c.decode.bytes,n}function r(){return r=n(),e+=r,t.slice(e-r,e);var r}return function(){for(var t=n(),e=[],i=0;i<t;i++)e.push(r());return e}()}function $(e){var n,r=t.allocUnsafe(0);function i(e){var n=r.length,i=c.encodingLength(e);r=t.concat([r,t.allocUnsafe(i)]),c.encode(e,r,n)}function o(e){i(e.length),function(e){r=t.concat([r,t.from(e)])}(e)}return i((n=e).length),n.forEach(o),r}function J(t,e,n){t.__NON_WITNESS_UTXO_BUF_CACHE[n]=e.nonWitnessUtxo;var r=g.Transaction.fromBuffer(e.nonWitnessUtxo);t.__NON_WITNESS_UTXO_TX_CACHE[n]=r;var i=t,o=n;delete e.nonWitnessUtxo,Object.defineProperty(e,"nonWitnessUtxo",{enumerable:!0,get:function(){var t=i.__NON_WITNESS_UTXO_BUF_CACHE[o],e=i.__NON_WITNESS_UTXO_TX_CACHE[o];if(void 0!==t)return t;var n=e.toBuffer();return i.__NON_WITNESS_UTXO_BUF_CACHE[o]=n,n},set:function(t){i.__NON_WITNESS_UTXO_BUF_CACHE[o]=t}})}function Q(t,e,n,r){var i=0;t.forEach((function(t,o){if(r&&t.finalScriptSig&&(e.ins[o].script=t.finalScriptSig),r&&t.finalScriptWitness&&(e.ins[o].witness=Y(t.finalScriptWitness)),t.witnessUtxo)i+=t.witnessUtxo.value;else if(t.nonWitnessUtxo){var a=Z(n,t,o),s=e.ins[o].index,u=a.outs[s];i+=u.value}}));var o=e.outs.reduce((function(t,e){return t+e.value}),0),a=i-o;if(a<0)throw new Error("Outputs are spending more than Inputs");var s=e.virtualSize();n.__FEE=a,n.__EXTRACTED_TX=e,n.__FEE_RATE=Math.floor(a/s)}function Z(t,e,n){var r=t.__NON_WITNESS_UTXO_TX_CACHE;return r[n]||J(t,e,n),r[n]}function tt(t,e,n){if(void 0!==e.witnessUtxo)return e.witnessUtxo.script;if(void 0!==e.nonWitnessUtxo)return Z(n,e,t).outs[n.__TX.ins[t].index].script;throw new Error("Can't find pubkey in input without Utxo data")}function et(t){return 33===t.length&&y.isCanonicalPubKey(t)}function nt(t,e,n,r,i){var o,a=N(t),s=a&&r&&A(r),u=A(t);if(a&&void 0===r)throw new Error("scriptPubkey is P2SH but redeemScript missing");if((u||s)&&void 0===i)throw new Error("scriptPubkey or redeemScript is P2WSH but witnessScript missing");return s?(o=i,V(e,t,r,n),H(e,r,i,n),rt(o)):u?(o=i,H(e,t,i,n),rt(o)):a?(o=r,V(e,t,r,n)):o=t,{meaningfulScript:o,type:s?"p2sh-p2wsh":a?"p2sh":u?"p2wsh":"raw"}}function rt(t){if(j(t)||N(t))throw new Error("P2WPKH or P2SH can not be contained within P2WSH")}function it(t,e){var n=(0,d.hash160)(t),r=y.decompile(e);if(null===r)throw new Error("Unknown script error");return r.some((function(e){return"number"!==typeof e&&(e.equals(t)||e.equals(n))}))}function ot(t){return j(t)?"witnesspubkeyhash":k(t)?"pubkeyhash":T(t)?"multisig":x(t)?"pubkey":"nonstandard"}function at(t){return o(Array(t).keys())}}).call(this,n(4).Buffer)},1588:function(t,e,n){"use strict";(function(t){var r=n(444),i=n(445);Object.defineProperty(e,"__esModule",{value:!0});var o=n(1589),a=n(1406),s=n(1192),u=n(1407),c=function(){function e(t){r(this,e),this.inputs=[],this.outputs=[],this.globalMap={unsignedTx:t}}return i(e,[{key:"toBase64",value:function(){return this.toBuffer().toString("base64")}},{key:"toHex",value:function(){return this.toBuffer().toString("hex")}},{key:"toBuffer",value:function(){return a.psbtToBuffer(this)}},{key:"updateGlobal",value:function(t){return u.updateGlobal(t,this.globalMap),this}},{key:"updateInput",value:function(t,e){var n=u.checkForInput(this.inputs,t);return u.updateInput(e,n),this}},{key:"updateOutput",value:function(t,e){var n=u.checkForOutput(this.outputs,t);return u.updateOutput(e,n),this}},{key:"addUnknownKeyValToGlobal",value:function(t){return u.checkHasKey(t,this.globalMap.unknownKeyVals,u.getEnumLength(s.GlobalTypes)),this.globalMap.unknownKeyVals||(this.globalMap.unknownKeyVals=[]),this.globalMap.unknownKeyVals.push(t),this}},{key:"addUnknownKeyValToInput",value:function(t,e){var n=u.checkForInput(this.inputs,t);return u.checkHasKey(e,n.unknownKeyVals,u.getEnumLength(s.InputTypes)),n.unknownKeyVals||(n.unknownKeyVals=[]),n.unknownKeyVals.push(e),this}},{key:"addUnknownKeyValToOutput",value:function(t,e){var n=u.checkForOutput(this.outputs,t);return u.checkHasKey(e,n.unknownKeyVals,u.getEnumLength(s.OutputTypes)),n.unknownKeyVals||(n.unknownKeyVals=[]),n.unknownKeyVals.push(e),this}},{key:"addInput",value:function(t){var e=this;this.globalMap.unsignedTx.addInput(t),this.inputs.push({unknownKeyVals:[]});var n=t.unknownKeyVals||[],r=this.inputs.length-1;if(!Array.isArray(n))throw new Error("unknownKeyVals must be an Array");return n.forEach((function(t){return e.addUnknownKeyValToInput(r,t)})),u.addInputAttributes(this.inputs,t),this}},{key:"addOutput",value:function(t){var e=this;this.globalMap.unsignedTx.addOutput(t),this.outputs.push({unknownKeyVals:[]});var n=t.unknownKeyVals||[],r=this.outputs.length-1;if(!Array.isArray(n))throw new Error("unknownKeyVals must be an Array");return n.forEach((function(t){return e.addUnknownKeyValToInput(r,t)})),u.addOutputAttributes(this.outputs,t),this}},{key:"clearFinalizedInput",value:function(t){var e=u.checkForInput(this.inputs,t);u.inputCheckUncleanFinalized(t,e);for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];["witnessUtxo","nonWitnessUtxo","finalScriptSig","finalScriptWitness","unknownKeyVals"].includes(i)||delete e[i]}return this}},{key:"combine",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=o.combine([this].concat(e));return Object.assign(this,r),this}},{key:"getTransaction",value:function(){return this.globalMap.unsignedTx.toBuffer()}}],[{key:"fromBase64",value:function(e,n){var r=t.from(e,"base64");return this.fromBuffer(r,n)}},{key:"fromHex",value:function(e,n){var r=t.from(e,"hex");return this.fromBuffer(r,n)}},{key:"fromBuffer",value:function(t,e){var n=a.psbtFromBuffer(t,e),r=new this(n.globalMap.unsignedTx);return Object.assign(r,n),r}}]),e}();e.Psbt=c}).call(this,n(4).Buffer)},1589:function(t,e,n){"use strict";var r=n(347);Object.defineProperty(e,"__esModule",{value:!0});var i=n(1406);function o(t,e,n){return function(r){if(!t.has(r)){var i=n.filter((function(t){return t.key.toString("hex")===r}))[0];e.push(i),t.add(r)}}}function a(t){return t.globalMap.unsignedTx}function s(t){var e=new Set;return t.forEach((function(t){var n=t.key.toString("hex");if(e.has(n))throw new Error("Combine: KeyValue Map keys should be unique");e.add(n)})),e}e.combine=function(t){var e=t[0],n=i.psbtToKeyVals(e),u=t.slice(1);if(0===u.length)throw new Error("Combine: Nothing to combine");var c=a(e);if(void 0===c)throw new Error("Combine: Self missing transaction");var f,l=s(n.globalKeyVals),h=n.inputKeyVals.map(s),d=n.outputKeyVals.map(s),p=r(u);try{var v=function(){var t=f.value,e=a(t);if(void 0===e||!e.toBuffer().equals(c.toBuffer()))throw new Error("Combine: One of the Psbts does not have the same transaction.");var r=i.psbtToKeyVals(t);s(r.globalKeyVals).forEach(o(l,n.globalKeyVals,r.globalKeyVals)),r.inputKeyVals.map(s).forEach((function(t,e){return t.forEach(o(h[e],n.inputKeyVals[e],r.inputKeyVals[e]))})),r.outputKeyVals.map(s).forEach((function(t,e){return t.forEach(o(d[e],n.outputKeyVals[e],r.outputKeyVals[e]))}))};for(p.s();!(f=p.n()).done;)v()}catch(y){p.e(y)}finally{p.f()}return i.psbtFromKeyVals(c,{globalMapKeyVals:n.globalKeyVals,inputKeyVals:n.inputKeyVals,outputKeyVals:n.outputKeyVals})}},1590:function(t,e,n){"use strict";(function(t){var r=n(347);Object.defineProperty(e,"__esModule",{value:!0});var i=n(1327),o=n(1328),a=n(1284),s=n(1192);function u(e,n,r){if(!n.equals(t.from([r])))throw new Error("Format Error: Invalid ".concat(e," key: ").concat(n.toString("hex")))}function c(t,e){var n,a=e.globalMapKeyVals,c=e.inputKeyVals,f=e.outputKeyVals,l={unsignedTx:t},h=0,d=r(a);try{for(d.s();!(n=d.n()).done;){var p=n.value;switch(p.key[0]){case s.GlobalTypes.UNSIGNED_TX:if(u("global",p.key,s.GlobalTypes.UNSIGNED_TX),h>0)throw new Error("Format Error: GlobalMap has multiple UNSIGNED_TX");h++;break;case s.GlobalTypes.GLOBAL_XPUB:void 0===l.globalXpub&&(l.globalXpub=[]),l.globalXpub.push(i.globals.globalXpub.decode(p));break;default:l.unknownKeyVals||(l.unknownKeyVals=[]),l.unknownKeyVals.push(p)}}}catch(C){d.e(C)}finally{d.f()}var v,y=c.length,g=f.length,m=[],b=[],w=r(o.range(y));try{for(w.s();!(v=w.n()).done;){var _,E=v.value,O={},I=r(c[E]);try{for(I.s();!(_=I.n()).done;){var S=_.value;switch(i.inputs.checkPubkey(S),S.key[0]){case s.InputTypes.NON_WITNESS_UTXO:if(u("input",S.key,s.InputTypes.NON_WITNESS_UTXO),void 0!==O.nonWitnessUtxo)throw new Error("Format Error: Input has multiple NON_WITNESS_UTXO");O.nonWitnessUtxo=i.inputs.nonWitnessUtxo.decode(S);break;case s.InputTypes.WITNESS_UTXO:if(u("input",S.key,s.InputTypes.WITNESS_UTXO),void 0!==O.witnessUtxo)throw new Error("Format Error: Input has multiple WITNESS_UTXO");O.witnessUtxo=i.inputs.witnessUtxo.decode(S);break;case s.InputTypes.PARTIAL_SIG:void 0===O.partialSig&&(O.partialSig=[]),O.partialSig.push(i.inputs.partialSig.decode(S));break;case s.InputTypes.SIGHASH_TYPE:if(u("input",S.key,s.InputTypes.SIGHASH_TYPE),void 0!==O.sighashType)throw new Error("Format Error: Input has multiple SIGHASH_TYPE");O.sighashType=i.inputs.sighashType.decode(S);break;case s.InputTypes.REDEEM_SCRIPT:if(u("input",S.key,s.InputTypes.REDEEM_SCRIPT),void 0!==O.redeemScript)throw new Error("Format Error: Input has multiple REDEEM_SCRIPT");O.redeemScript=i.inputs.redeemScript.decode(S);break;case s.InputTypes.WITNESS_SCRIPT:if(u("input",S.key,s.InputTypes.WITNESS_SCRIPT),void 0!==O.witnessScript)throw new Error("Format Error: Input has multiple WITNESS_SCRIPT");O.witnessScript=i.inputs.witnessScript.decode(S);break;case s.InputTypes.BIP32_DERIVATION:void 0===O.bip32Derivation&&(O.bip32Derivation=[]),O.bip32Derivation.push(i.inputs.bip32Derivation.decode(S));break;case s.InputTypes.FINAL_SCRIPTSIG:u("input",S.key,s.InputTypes.FINAL_SCRIPTSIG),O.finalScriptSig=i.inputs.finalScriptSig.decode(S);break;case s.InputTypes.FINAL_SCRIPTWITNESS:u("input",S.key,s.InputTypes.FINAL_SCRIPTWITNESS),O.finalScriptWitness=i.inputs.finalScriptWitness.decode(S);break;case s.InputTypes.POR_COMMITMENT:u("input",S.key,s.InputTypes.POR_COMMITMENT),O.porCommitment=i.inputs.porCommitment.decode(S);break;default:O.unknownKeyVals||(O.unknownKeyVals=[]),O.unknownKeyVals.push(S)}}}catch(C){I.e(C)}finally{I.f()}m.push(O)}}catch(C){w.e(C)}finally{w.f()}var T,x=r(o.range(g));try{for(x.s();!(T=x.n()).done;){var k,j=T.value,A={},N=r(f[j]);try{for(N.s();!(k=N.n()).done;){var P=k.value;switch(i.outputs.checkPubkey(P),P.key[0]){case s.OutputTypes.REDEEM_SCRIPT:if(u("output",P.key,s.OutputTypes.REDEEM_SCRIPT),void 0!==A.redeemScript)throw new Error("Format Error: Output has multiple REDEEM_SCRIPT");A.redeemScript=i.outputs.redeemScript.decode(P);break;case s.OutputTypes.WITNESS_SCRIPT:if(u("output",P.key,s.OutputTypes.WITNESS_SCRIPT),void 0!==A.witnessScript)throw new Error("Format Error: Output has multiple WITNESS_SCRIPT");A.witnessScript=i.outputs.witnessScript.decode(P);break;case s.OutputTypes.BIP32_DERIVATION:void 0===A.bip32Derivation&&(A.bip32Derivation=[]),A.bip32Derivation.push(i.outputs.bip32Derivation.decode(P));break;default:A.unknownKeyVals||(A.unknownKeyVals=[]),A.unknownKeyVals.push(P)}}}catch(C){N.e(C)}finally{N.f()}b.push(A)}}catch(C){x.e(C)}finally{x.f()}return{globalMap:l,inputs:m,outputs:b}}e.psbtFromBuffer=function(t,e){var n=0;function i(){var e=a.decode(t,n);n+=a.encodingLength(e);var r=t.slice(n,n+e);return n+=e,r}function u(){return{key:i(),value:i()}}function f(){if(n>=t.length)throw new Error("Format Error: Unexpected End of PSBT");var e=0===t.readUInt8(n);return e&&n++,e}if(1886610036!==function(){var e=t.readUInt32BE(n);return n+=4,e}())throw new Error("Format Error: Invalid Magic Number");if(255!==function(){var e=t.readUInt8(n);return n+=1,e}())throw new Error("Format Error: Magic Number must be followed by 0xff separator");for(var l=[],h={};!f();){var d=u(),p=d.key.toString("hex");if(h[p])throw new Error("Format Error: Keys must be unique for global keymap: key "+p);h[p]=1,l.push(d)}var v=l.filter((function(t){return t.key[0]===s.GlobalTypes.UNSIGNED_TX}));if(1!==v.length)throw new Error("Format Error: Only one UNSIGNED_TX allowed");var y,g=e(v[0].value),m=g.getInputOutputCounts(),b=m.inputCount,w=m.outputCount,_=[],E=[],O=r(o.range(b));try{for(O.s();!(y=O.n()).done;){for(var I=y.value,S={},T=[];!f();){var x=u(),k=x.key.toString("hex");if(S[k])throw new Error("Format Error: Keys must be unique for each input: input index "+I+" key "+k);S[k]=1,T.push(x)}_.push(T)}}catch(L){O.e(L)}finally{O.f()}var j,A=r(o.range(w));try{for(A.s();!(j=A.n()).done;){for(var N=j.value,P={},C=[];!f();){var R=u(),D=R.key.toString("hex");if(P[D])throw new Error("Format Error: Keys must be unique for each output: output index "+N+" key "+D);P[D]=1,C.push(R)}E.push(C)}}catch(L){A.e(L)}finally{A.f()}return c(g,{globalMapKeyVals:l,inputKeyVals:_,outputKeyVals:E})},e.checkKeyBuffer=u,e.psbtFromKeyVals=c}).call(this,n(4).Buffer)},1591:function(t,e,n){"use strict";(function(t){var r=n(347),i=n(645);Object.defineProperty(e,"__esModule",{value:!0});var o=n(1192);e.decode=function(t){if(t.key[0]!==o.GlobalTypes.GLOBAL_XPUB)throw new Error("Decode Error: could not decode globalXpub with key 0x"+t.key.toString("hex"));if(79!==t.key.length||![2,3].includes(t.key[46]))throw new Error("Decode Error: globalXpub has invalid extended pubkey in key 0x"+t.key.toString("hex"));if(t.value.length/4%1!==0)throw new Error("Decode Error: Global GLOBAL_XPUB value length should be multiple of 4");var e,n,a=t.key.slice(1),s={masterFingerprint:t.value.slice(0,4),extendedPubkey:a,path:"m"},u=r((n=t.value.length/4-1,i(Array(n).keys())));try{for(u.s();!(e=u.n()).done;){var c=e.value,f=t.value.readUInt32LE(4*c+4),l=!!(2147483648&f),h=2147483647&f;s.path+="/"+h.toString(10)+(l?"'":"")}}catch(d){u.e(d)}finally{u.f()}return s},e.encode=function(e){var n=t.from([o.GlobalTypes.GLOBAL_XPUB]),r=t.concat([n,e.extendedPubkey]),i=e.path.split("/"),a=t.allocUnsafe(4*i.length);e.masterFingerprint.copy(a,0);var s=4;return i.slice(1).forEach((function(t){var e="'"===t.slice(-1),n=2147483647&parseInt(e?t.slice(0,-1):t,10);e&&(n+=2147483648),a.writeUInt32LE(n,s),s+=4})),{key:r,value:a}},e.expected="{ masterFingerprint: Buffer; extendedPubkey: Buffer; path: string; }",e.check=function(e){var n=e.extendedPubkey,r=e.masterFingerprint,i=e.path;return t.isBuffer(n)&&78===n.length&&[2,3].indexOf(n[45])>-1&&t.isBuffer(r)&&4===r.length&&"string"===typeof i&&!!i.match(/^m(\/\d+'?)+$/)},e.canAddToArray=function(t,e,n){var r=e.extendedPubkey.toString("hex");return!n.has(r)&&(n.add(r),0===t.filter((function(t){return t.extendedPubkey.equals(e.extendedPubkey)})).length)}}).call(this,n(4).Buffer)},1592:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n(1192);e.encode=function(e){return{key:t.from([r.GlobalTypes.UNSIGNED_TX]),value:e.toBuffer()}}}).call(this,n(4).Buffer)},1593:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n(1192);e.decode=function(t){if(t.key[0]!==r.InputTypes.FINAL_SCRIPTSIG)throw new Error("Decode Error: could not decode finalScriptSig with key 0x"+t.key.toString("hex"));return t.value},e.encode=function(e){return{key:t.from([r.InputTypes.FINAL_SCRIPTSIG]),value:e}},e.expected="Buffer",e.check=function(e){return t.isBuffer(e)},e.canAdd=function(t,e){return!!t&&!!e&&void 0===t.finalScriptSig}}).call(this,n(4).Buffer)},1594:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n(1192);e.decode=function(t){if(t.key[0]!==r.InputTypes.FINAL_SCRIPTWITNESS)throw new Error("Decode Error: could not decode finalScriptWitness with key 0x"+t.key.toString("hex"));return t.value},e.encode=function(e){return{key:t.from([r.InputTypes.FINAL_SCRIPTWITNESS]),value:e}},e.expected="Buffer",e.check=function(e){return t.isBuffer(e)},e.canAdd=function(t,e){return!!t&&!!e&&void 0===t.finalScriptWitness}}).call(this,n(4).Buffer)},1595:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n(1192);e.decode=function(t){if(t.key[0]!==r.InputTypes.NON_WITNESS_UTXO)throw new Error("Decode Error: could not decode nonWitnessUtxo with key 0x"+t.key.toString("hex"));return t.value},e.encode=function(e){return{key:t.from([r.InputTypes.NON_WITNESS_UTXO]),value:e}},e.expected="Buffer",e.check=function(e){return t.isBuffer(e)},e.canAdd=function(t,e){return!!t&&!!e&&void 0===t.nonWitnessUtxo}}).call(this,n(4).Buffer)},1596:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n(1192);e.decode=function(t){if(t.key[0]!==r.InputTypes.PARTIAL_SIG)throw new Error("Decode Error: could not decode partialSig with key 0x"+t.key.toString("hex"));if(34!==t.key.length&&66!==t.key.length||![2,3,4].includes(t.key[1]))throw new Error("Decode Error: partialSig has invalid pubkey in key 0x"+t.key.toString("hex"));return{pubkey:t.key.slice(1),signature:t.value}},e.encode=function(e){var n=t.from([r.InputTypes.PARTIAL_SIG]);return{key:t.concat([n,e.pubkey]),value:e.signature}},e.expected="{ pubkey: Buffer; signature: Buffer; }",e.check=function(e){return t.isBuffer(e.pubkey)&&t.isBuffer(e.signature)&&[33,65].includes(e.pubkey.length)&&[2,3,4].includes(e.pubkey[0])&&function(e){if(!t.isBuffer(e)||e.length<9)return!1;if(48!==e[0])return!1;if(e.length!==e[1]+3)return!1;if(2!==e[2])return!1;var n=e[3];if(n>33||n<1)return!1;if(2!==e[3+n+1])return!1;var r=e[3+n+2];return!(r>33||r<1)&&e.length===3+n+2+r+2}(e.signature)},e.canAddToArray=function(t,e,n){var r=e.pubkey.toString("hex");return!n.has(r)&&(n.add(r),0===t.filter((function(t){return t.pubkey.equals(e.pubkey)})).length)}}).call(this,n(4).Buffer)},1597:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n(1192);e.decode=function(t){if(t.key[0]!==r.InputTypes.POR_COMMITMENT)throw new Error("Decode Error: could not decode porCommitment with key 0x"+t.key.toString("hex"));return t.value.toString("utf8")},e.encode=function(e){return{key:t.from([r.InputTypes.POR_COMMITMENT]),value:t.from(e,"utf8")}},e.expected="string",e.check=function(t){return"string"===typeof t},e.canAdd=function(t,e){return!!t&&!!e&&void 0===t.porCommitment}}).call(this,n(4).Buffer)},1598:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n(1192);e.decode=function(t){if(t.key[0]!==r.InputTypes.SIGHASH_TYPE)throw new Error("Decode Error: could not decode sighashType with key 0x"+t.key.toString("hex"));return t.value.readUInt32LE(0)},e.encode=function(e){var n=t.from([r.InputTypes.SIGHASH_TYPE]),i=t.allocUnsafe(4);return i.writeUInt32LE(e,0),{key:n,value:i}},e.expected="number",e.check=function(t){return"number"===typeof t},e.canAdd=function(t,e){return!!t&&!!e&&void 0===t.sighashType}}).call(this,n(4).Buffer)},1599:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var r=n(1192),i=n(1328),o=n(1284);e.decode=function(t){if(t.key[0]!==r.InputTypes.WITNESS_UTXO)throw new Error("Decode Error: could not decode witnessUtxo with key 0x"+t.key.toString("hex"));var e=i.readUInt64LE(t.value,0),n=8,a=o.decode(t.value,n);n+=o.encodingLength(a);var s=t.value.slice(n);if(s.length!==a)throw new Error("Decode Error: WITNESS_UTXO script is not proper length");return{script:s,value:e}},e.encode=function(e){var n=e.script,a=e.value,s=o.encodingLength(n.length),u=t.allocUnsafe(8+s+n.length);return i.writeUInt64LE(u,a,0),o.encode(n.length,u,8),n.copy(u,8+s),{key:t.from([r.InputTypes.WITNESS_UTXO]),value:u}},e.expected="{ script: Buffer; value: number; }",e.check=function(e){return t.isBuffer(e.script)&&"number"===typeof e.value},e.canAdd=function(t,e){return!!t&&!!e&&void 0===t.witnessUtxo}}).call(this,n(4).Buffer)},1600:function(t,e,n){"use strict";(function(t){var r=n(347),i=n(645);Object.defineProperty(e,"__esModule",{value:!0});e.makeConverter=function(e){return{decode:function(t){if(t.key[0]!==e)throw new Error("Decode Error: could not decode bip32Derivation with key 0x"+t.key.toString("hex"));if(34!==t.key.length&&66!==t.key.length||![2,3,4].includes(t.key[1]))throw new Error("Decode Error: bip32Derivation has invalid pubkey in key 0x"+t.key.toString("hex"));if(t.value.length/4%1!==0)throw new Error("Decode Error: Input BIP32_DERIVATION value length should be multiple of 4");var n,o,a=t.key.slice(1),s={masterFingerprint:t.value.slice(0,4),pubkey:a,path:"m"},u=r((o=t.value.length/4-1,i(Array(o).keys())));try{for(u.s();!(n=u.n()).done;){var c=n.value,f=t.value.readUInt32LE(4*c+4),l=!!(2147483648&f),h=2147483647&f;s.path+="/"+h.toString(10)+(l?"'":"")}}catch(d){u.e(d)}finally{u.f()}return s},encode:function(n){var r=t.from([e]),i=t.concat([r,n.pubkey]),o=n.path.split("/"),a=t.allocUnsafe(4*o.length);n.masterFingerprint.copy(a,0);var s=4;return o.slice(1).forEach((function(t){var e="'"===t.slice(-1),n=2147483647&parseInt(e?t.slice(0,-1):t,10);e&&(n+=2147483648),a.writeUInt32LE(n,s),s+=4})),{key:i,value:a}},check:function(e){return t.isBuffer(e.pubkey)&&t.isBuffer(e.masterFingerprint)&&"string"===typeof e.path&&[33,65].includes(e.pubkey.length)&&[2,3,4].includes(e.pubkey[0])&&4===e.masterFingerprint.length},expected:"{ masterFingerprint: Buffer; pubkey: Buffer; path: string; }",canAddToArray:function(t,e,n){var r=e.pubkey.toString("hex");return!n.has(r)&&(n.add(r),0===t.filter((function(t){return t.pubkey.equals(e.pubkey)})).length)}}}}).call(this,n(4).Buffer)},1601:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.makeChecker=function(t){return function(e){var n;if(t.includes(e.key[0])&&(33!==(n=e.key.slice(1)).length&&65!==n.length||![2,3,4].includes(n[0])))throw new Error("Format Error: invalid pubkey in key 0x"+e.key.toString("hex"));return n}}},1602:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.makeConverter=function(e){return{decode:function(t){if(t.key[0]!==e)throw new Error("Decode Error: could not decode redeemScript with key 0x"+t.key.toString("hex"));return t.value},encode:function(n){return{key:t.from([e]),value:n}},check:function(e){return t.isBuffer(e)},expected:"Buffer",canAdd:function(t,e){return!!t&&!!e&&void 0===t.redeemScript}}}}).call(this,n(4).Buffer)},1603:function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.makeConverter=function(e){return{decode:function(t){if(t.key[0]!==e)throw new Error("Decode Error: could not decode witnessScript with key 0x"+t.key.toString("hex"));return t.value},encode:function(n){return{key:t.from([e]),value:n}},check:function(e){return t.isBuffer(e)},expected:"Buffer",canAdd:function(t,e){return!!t&&!!e&&void 0===t.witnessScript}}}}).call(this,n(4).Buffer)},1604:function(t,e,n){"use strict";(function(t){var r=n(453);Object.defineProperty(e,"__esModule",{value:!0});var i=n(1327),o=n(1328);e.psbtToBuffer=function(e){var n=u({globalMap:e.globalMap,inputs:e.inputs,outputs:e.outputs}),r=n.globalKeyVals,i=n.inputKeyVals,a=n.outputKeyVals,s=o.keyValsToBuffer(r),c=function(e){return 0===e.length?[t.from([0])]:e.map(o.keyValsToBuffer)},f=c(i),l=c(a),h=t.allocUnsafe(5);return h.writeUIntBE(482972169471,0,5),t.concat([h,s].concat(f,l))};var a=function(t,e){return t.key.compare(e.key)};function s(t,e){var n=new Set,i=Object.entries(t).reduce((function(t,i){var o=r(i,2),a=o[0],s=o[1];if("unknownKeyVals"===a)return t;var u=e[a];if(void 0===u)return t;var c=(Array.isArray(s)?s:[s]).map(u.encode);return c.map((function(t){return t.key.toString("hex")})).forEach((function(t){if(n.has(t))throw new Error("Serialize Error: Duplicate key: "+t);n.add(t)})),t.concat(c)}),[]),o=t.unknownKeyVals?t.unknownKeyVals.filter((function(t){return!n.has(t.key.toString("hex"))})):[];return i.concat(o).sort(a)}function u(t){var e=t.globalMap,n=t.inputs,r=t.outputs;return{globalKeyVals:s(e,i.globals),inputKeyVals:n.map((function(t){return s(t,i.inputs)})),outputKeyVals:r.map((function(t){return s(t,i.outputs)}))}}e.psbtToKeyVals=u}).call(this,n(4).Buffer)},1605:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1606),i=n(1607);r.default.PE=21,r.default.NE=-21;var o="100000000";e.toBitcoin=function(t,e){if(!i.isString(t)&&!i.isNumber(t))throw new TypeError("toBitcoin must be called on a number or string, got "+typeof t);if(!Number.isInteger(Number(t)))throw new TypeError("toBitcoin must be called on a whole number or string format whole number");return e?new r.default(t).div(o):Number(new r.default(t).div(o))},e.toSatoshi=function(t,e){if(!i.isString(t)&&!i.isNumber(t))throw new TypeError("toSatoshi must be called on a number or string, got "+typeof t);return e?new r.default(t).times(o):Number(new r.default(t).times(o))}},1606:function(t,e,n){var r;!function(i){"use strict";var o,a=1e6,s=1e6,u="[big.js] ",c=u+"Invalid ",f=c+"decimal places",l=c+"rounding mode",h=u+"Division by zero",d={},p=void 0,v=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function y(t,e,n,r){var i=t.c,o=t.e+e+1;if(o<i.length){if(1===n)r=i[o]>=5;else if(2===n)r=i[o]>5||5==i[o]&&(r||o<0||i[o+1]!==p||1&i[o-1]);else if(3===n)r=r||!!i[0];else if(r=!1,0!==n)throw Error(l);if(o<1)i.length=1,r?(t.e=-e,i[0]=1):i[0]=t.e=0;else{if(i.length=o--,r)for(;++i[o]>9;)i[o]=0,o--||(++t.e,i.unshift(1));for(o=i.length;!i[--o];)i.pop()}}else if(n<0||n>3||n!==~~n)throw Error(l);return t}function g(t,e,n,r){var i,o,s=t.constructor,u=!t.c[0];if(n!==p){if(n!==~~n||n<(3==e)||n>a)throw Error(3==e?c+"precision":f);for(n=r-(t=new s(t)).e,t.c.length>++r&&y(t,n,s.RM),2==e&&(r=t.e+n+1);t.c.length<r;)t.c.push(0)}if(i=t.e,n=(o=t.c.join("")).length,2!=e&&(1==e||3==e&&r<=i||i<=s.NE||i>=s.PE))o=o.charAt(0)+(n>1?"."+o.slice(1):"")+(i<0?"e":"e+")+i;else if(i<0){for(;++i;)o="0"+o;o="0."+o}else if(i>0)if(++i>n)for(i-=n;i--;)o+="0";else i<n&&(o=o.slice(0,i)+"."+o.slice(i));else n>1&&(o=o.charAt(0)+"."+o.slice(1));return t.s<0&&(!u||4==e)?"-"+o:o}d.abs=function(){var t=new this.constructor(this);return t.s=1,t},d.cmp=function(t){var e,n=this,r=n.c,i=(t=new n.constructor(t)).c,o=n.s,a=t.s,s=n.e,u=t.e;if(!r[0]||!i[0])return r[0]?o:i[0]?-a:0;if(o!=a)return o;if(e=o<0,s!=u)return s>u^e?1:-1;for(a=(s=r.length)<(u=i.length)?s:u,o=-1;++o<a;)if(r[o]!=i[o])return r[o]>i[o]^e?1:-1;return s==u?0:s>u^e?1:-1},d.div=function(t){var e=this,n=e.constructor,r=e.c,i=(t=new n(t)).c,o=e.s==t.s?1:-1,s=n.DP;if(s!==~~s||s<0||s>a)throw Error(f);if(!i[0])throw Error(h);if(!r[0])return new n(0*o);var u,c,l,d,v,g=i.slice(),m=u=i.length,b=r.length,w=r.slice(0,u),_=w.length,E=t,O=E.c=[],I=0,S=s+(E.e=e.e-t.e)+1;for(E.s=o,o=S<0?0:S,g.unshift(0);_++<u;)w.push(0);do{for(l=0;l<10;l++){if(u!=(_=w.length))d=u>_?1:-1;else for(v=-1,d=0;++v<u;)if(i[v]!=w[v]){d=i[v]>w[v]?1:-1;break}if(!(d<0))break;for(c=_==u?i:g;_;){if(w[--_]<c[_]){for(v=_;v&&!w[--v];)w[v]=9;--w[v],w[_]+=10}w[_]-=c[_]}for(;!w[0];)w.shift()}O[I++]=d?l:++l,w[0]&&d?w[_]=r[m]||0:w=[r[m]]}while((m++<b||w[0]!==p)&&o--);return O[0]||1==I||(O.shift(),E.e--),I>S&&y(E,s,n.RM,w[0]!==p),E},d.eq=function(t){return!this.cmp(t)},d.gt=function(t){return this.cmp(t)>0},d.gte=function(t){return this.cmp(t)>-1},d.lt=function(t){return this.cmp(t)<0},d.lte=function(t){return this.cmp(t)<1},d.minus=d.sub=function(t){var e,n,r,i,o=this,a=o.constructor,s=o.s,u=(t=new a(t)).s;if(s!=u)return t.s=-u,o.plus(t);var c=o.c.slice(),f=o.e,l=t.c,h=t.e;if(!c[0]||!l[0])return l[0]?(t.s=-u,t):new a(c[0]?o:0);if(s=f-h){for((i=s<0)?(s=-s,r=c):(h=f,r=l),r.reverse(),u=s;u--;)r.push(0);r.reverse()}else for(n=((i=c.length<l.length)?c:l).length,s=u=0;u<n;u++)if(c[u]!=l[u]){i=c[u]<l[u];break}if(i&&(r=c,c=l,l=r,t.s=-t.s),(u=(n=l.length)-(e=c.length))>0)for(;u--;)c[e++]=0;for(u=e;n>s;){if(c[--n]<l[n]){for(e=n;e&&!c[--e];)c[e]=9;--c[e],c[n]+=10}c[n]-=l[n]}for(;0===c[--u];)c.pop();for(;0===c[0];)c.shift(),--h;return c[0]||(t.s=1,c=[h=0]),t.c=c,t.e=h,t},d.mod=function(t){var e,n=this,r=n.constructor,i=n.s,o=(t=new r(t)).s;if(!t.c[0])throw Error(h);return n.s=t.s=1,e=1==t.cmp(n),n.s=i,t.s=o,e?new r(n):(i=r.DP,o=r.RM,r.DP=r.RM=0,n=n.div(t),r.DP=i,r.RM=o,this.minus(n.times(t)))},d.plus=d.add=function(t){var e,n=this,r=n.constructor,i=n.s,o=(t=new r(t)).s;if(i!=o)return t.s=-o,n.minus(t);var a=n.e,s=n.c,u=t.e,c=t.c;if(!s[0]||!c[0])return c[0]?t:new r(s[0]?n:0*i);if(s=s.slice(),i=a-u){for(i>0?(u=a,e=c):(i=-i,e=s),e.reverse();i--;)e.push(0);e.reverse()}for(s.length-c.length<0&&(e=c,c=s,s=e),i=c.length,o=0;i;s[i]%=10)o=(s[--i]=s[i]+c[i]+o)/10|0;for(o&&(s.unshift(o),++u),i=s.length;0===s[--i];)s.pop();return t.c=s,t.e=u,t},d.pow=function(t){var e=this,n=new e.constructor(1),r=n,i=t<0;if(t!==~~t||t<-1e6||t>s)throw Error(c+"exponent");for(i&&(t=-t);1&t&&(r=r.times(e)),t>>=1;)e=e.times(e);return i?n.div(r):r},d.round=function(t,e){var n=this.constructor;if(t===p)t=0;else if(t!==~~t||t<-a||t>a)throw Error(f);return y(new n(this),t,e===p?n.RM:e)},d.sqrt=function(){var t,e,n,r=this,i=r.constructor,o=r.s,a=r.e,s=new i(.5);if(!r.c[0])return new i(r);if(o<0)throw Error(u+"No square root");0===(o=Math.sqrt(r+""))||o===1/0?((e=r.c.join("")).length+a&1||(e+="0"),a=((a+1)/2|0)-(a<0||1&a),t=new i(((o=Math.sqrt(e))==1/0?"1e":(o=o.toExponential()).slice(0,o.indexOf("e")+1))+a)):t=new i(o),a=t.e+(i.DP+=4);do{n=t,t=s.times(n.plus(r.div(n)))}while(n.c.slice(0,a).join("")!==t.c.slice(0,a).join(""));return y(t,i.DP-=4,i.RM)},d.times=d.mul=function(t){var e,n=this,r=n.constructor,i=n.c,o=(t=new r(t)).c,a=i.length,s=o.length,u=n.e,c=t.e;if(t.s=n.s==t.s?1:-1,!i[0]||!o[0])return new r(0*t.s);for(t.e=u+c,a<s&&(e=i,i=o,o=e,c=a,a=s,s=c),e=new Array(c=a+s);c--;)e[c]=0;for(u=s;u--;){for(s=0,c=a+u;c>u;)s=e[c]+o[u]*i[c-u-1]+s,e[c--]=s%10,s=s/10|0;e[c]=(e[c]+s)%10}for(s?++t.e:e.shift(),u=e.length;!e[--u];)e.pop();return t.c=e,t},d.toExponential=function(t){return g(this,1,t,t)},d.toFixed=function(t){return g(this,2,t,this.e+t)},d.toPrecision=function(t){return g(this,3,t,t-1)},d.toString=function(){return g(this)},d.valueOf=d.toJSON=function(){return g(this,4)},(o=function t(){function e(n){var r=this;if(!(r instanceof e))return n===p?t():new e(n);n instanceof e?(r.s=n.s,r.e=n.e,r.c=n.c.slice()):function(t,e){var n,r,i;if(0===e&&1/e<0)e="-0";else if(!v.test(e+=""))throw Error(c+"number");t.s="-"==e.charAt(0)?(e=e.slice(1),-1):1,(n=e.indexOf("."))>-1&&(e=e.replace(".",""));(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length);for(i=e.length,r=0;r<i&&"0"==e.charAt(r);)++r;if(r==i)t.c=[t.e=0];else{for(;i>0&&"0"==e.charAt(--i););for(t.e=n-r-1,t.c=[],n=0;r<=i;)t.c[n++]=+e.charAt(r++)}}(r,n),r.constructor=e}return e.prototype=d,e.DP=20,e.RM=1,e.NE=-7,e.PE=21,e.version="5.2.2",e}()).default=o.Big=o,void 0===(r=function(){return o}.call(e,n,e,t))||(t.exports=r)}()},1607:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isString=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.every((function(t){return"string"===typeof t}))},e.isNumber=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.every((function(t){return"number"===typeof t}))}},1608:function(t,e,n){"use strict";var r=n(125),i=n(138);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n(0)),a=(0,r(n(139)).default)(o.createElement("path",{d:"M21 18v1c0 1.1-.9 2-2 2H5c-1.11 0-2-.9-2-2V5c0-1.1.89-2 2-2h14c1.1 0 2 .9 2 2v1h-9c-1.11 0-2 .9-2 2v8c0 1.1.89 2 2 2h9zm-9-2h10V8H12v8zm4-2.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"}),"AccountBalanceWallet");e.default=a},1609:function(t,e,n){"use strict";function r(t){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(n,!0).forEach((function(e){y(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e,n){return e&&c(t.prototype,e),n&&c(t,n),t}function l(t,e){return!e||"object"!==r(e)&&"function"!==typeof e?d(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g=n(0),m=(n(22),n(1610)),b=n(1410);function w(t){for(var e="",n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e+=String.fromCharCode(r):r<2048?(e+=String.fromCharCode(192|r>>6),e+=String.fromCharCode(128|63&r)):r<55296||r>=57344?(e+=String.fromCharCode(224|r>>12),e+=String.fromCharCode(128|r>>6&63),e+=String.fromCharCode(128|63&r)):(n++,r=65536+((1023&r)<<10|1023&t.charCodeAt(n)),e+=String.fromCharCode(240|r>>18),e+=String.fromCharCode(128|r>>12&63),e+=String.fromCharCode(128|r>>6&63),e+=String.fromCharCode(128|63&r))}return e}var _={size:128,level:"L",bgColor:"#FFFFFF",fgColor:"#000000",includeMargin:!1};function E(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[];return t.forEach((function(t,r){var i=null;t.forEach((function(o,a){if(!o&&null!==i)return n.push("M".concat(i+e," ").concat(r+e,"h").concat(a-i,"v1H").concat(i+e,"z")),void(i=null);if(a!==t.length-1)o&&null===i&&(i=a);else{if(!o)return;null===i?n.push("M".concat(a+e,",").concat(r+e," h1v1H").concat(a+e,"z")):n.push("M".concat(i+e,",").concat(r+e," h").concat(a+1-i,"v1H").concat(i+e,"z"))}}))})),n.join("")}function O(t,e){return t.slice().map((function(t,n){return n<e.y||n>=e.y+e.h?t:t.map((function(t,n){return(n<e.x||n>=e.x+e.w)&&t}))}))}function I(t,e){var n=t.imageSettings,r=t.size,i=t.includeMargin;if(null==n)return null;var o=i?4:0,a=e.length+2*o,s=Math.floor(.1*r),u=a/r,c=(n.width||s)*u,f=(n.height||s)*u,l=null==n.x?e.length/2-c/2:n.x*u,h=null==n.y?e.length/2-f/2:n.y*u,d=null;if(n.excavate){var p=Math.floor(l),v=Math.floor(h);d={x:p,y:v,w:Math.ceil(c+l-p),h:Math.ceil(f+h-v)}}return{x:l,y:h,h:f,w:c,excavation:d}}var S=function(){try{(new Path2D).addPath(new Path2D)}catch(t){return!1}return!0}(),T=function(t){function e(){var t,n;u(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return y(d(n=l(this,(t=h(e)).call.apply(t,[this].concat(i)))),"_canvas",void 0),y(d(n),"_image",void 0),y(d(n),"state",{imgLoaded:!1}),y(d(n),"handleImageLoad",(function(){n.setState({imgLoaded:!0})})),n}return p(e,t),f(e,[{key:"componentDidMount",value:function(){this._image&&this._image.complete&&this.handleImageLoad(),this.update()}},{key:"componentWillReceiveProps",value:function(t){var e,n;(null===(e=this.props.imageSettings)||void 0===e?void 0:e.src)!==(null===(n=t.imageSettings)||void 0===n?void 0:n.src)&&this.setState({imgLoaded:!1})}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"update",value:function(){var t=this.props,e=t.value,n=t.size,r=t.level,i=t.bgColor,o=t.fgColor,a=t.includeMargin,s=t.imageSettings,u=new m(-1,b[r]);if(u.addData(w(e)),u.make(),null!=this._canvas){var c=this._canvas,f=c.getContext("2d");if(!f)return;var l=u.modules;if(null===l)return;var h=a?4:0,d=l.length+2*h,p=I(this.props,l);null!=s&&null!=p&&null!=p.excavation&&(l=O(l,p.excavation));var v=window.devicePixelRatio||1;c.height=c.width=n*v;var y=n/d*v;f.scale(y,y),f.fillStyle=i,f.fillRect(0,0,d,d),f.fillStyle=o,S?f.fill(new Path2D(E(l,h))):l.forEach((function(t,e){t.forEach((function(t,n){t&&f.fillRect(n+h,e+h,1,1)}))})),this.state.imgLoaded&&this._image&&null!=p&&f.drawImage(this._image,p.x+h,p.y+h,p.w,p.h)}}},{key:"render",value:function(){var t=this,e=this.props,n=(e.value,e.size),r=(e.level,e.bgColor,e.fgColor,e.style),o=(e.includeMargin,e.imageSettings),u=s(e,["value","size","level","bgColor","fgColor","style","includeMargin","imageSettings"]),c=a({height:n,width:n},r),f=null,l=o&&o.src;return null!=o&&null!=l&&(f=g.createElement("img",{src:l,style:{display:"none"},onLoad:this.handleImageLoad,ref:function(e){return t._image=e}})),g.createElement(g.Fragment,null,g.createElement("canvas",i({style:c,height:n,width:n,ref:function(e){return t._canvas=e}},u)),f)}}]),e}(g.PureComponent);y(T,"defaultProps",_);var x=function(t){function e(){return u(this,e),l(this,h(e).apply(this,arguments))}return p(e,t),f(e,[{key:"render",value:function(){var t=this.props,e=t.value,n=t.size,r=t.level,o=t.bgColor,a=t.fgColor,u=t.includeMargin,c=t.imageSettings,f=s(t,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]),l=new m(-1,b[r]);l.addData(w(e)),l.make();var h=l.modules;if(null===h)return null;var d=u?4:0,p=h.length+2*d,v=I(this.props,h),y=null;null!=c&&null!=v&&(null!=v.excavation&&(h=O(h,v.excavation)),y=g.createElement("image",{xlinkHref:c.src,height:v.h,width:v.w,x:v.x+d,y:v.y+d,preserveAspectRatio:"none"}));var _=E(h,d);return g.createElement("svg",i({shapeRendering:"crispEdges",height:n,width:n,viewBox:"0 0 ".concat(p," ").concat(p)},f),g.createElement("path",{fill:o,d:"M0,0 h".concat(p,"v").concat(p,"H0z")}),g.createElement("path",{fill:a,d:_}),y)}}]),e}(g.PureComponent);y(x,"defaultProps",_);var k=function(t){var e=t.renderAs,n=s(t,["renderAs"]),r="svg"===e?x:T;return g.createElement(r,n)};k.defaultProps=a({renderAs:"canvas"},_),t.exports=k},1610:function(t,e,n){var r=n(1611),i=n(1612),o=n(1613),a=n(1614),s=n(1411);function u(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var c=u.prototype;c.addData=function(t){var e=new r(t);this.dataList.push(e),this.dataCache=null},c.isDark=function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},c.getModuleCount=function(){return this.moduleCount},c.make=function(){if(this.typeNumber<1){var t=1;for(t=1;t<40;t++){for(var e=i.getRSBlocks(t,this.errorCorrectLevel),n=new o,r=0,s=0;s<e.length;s++)r+=e[s].dataCount;for(s=0;s<this.dataList.length;s++){var u=this.dataList[s];n.put(u.mode,4),n.put(u.getLength(),a.getLengthInBits(u.mode,t)),u.write(n)}if(n.getLengthInBits()<=8*r)break}this.typeNumber=t}this.makeImpl(!1,this.getBestMaskPattern())},c.makeImpl=function(t,e){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var n=0;n<this.moduleCount;n++){this.modules[n]=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[n][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=u.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},c.setupPositionProbePattern=function(t,e){for(var n=-1;n<=7;n++)if(!(t+n<=-1||this.moduleCount<=t+n))for(var r=-1;r<=7;r++)e+r<=-1||this.moduleCount<=e+r||(this.modules[t+n][e+r]=0<=n&&n<=6&&(0==r||6==r)||0<=r&&r<=6&&(0==n||6==n)||2<=n&&n<=4&&2<=r&&r<=4)},c.getBestMaskPattern=function(){for(var t=0,e=0,n=0;n<8;n++){this.makeImpl(!0,n);var r=a.getLostPoint(this);(0==n||t>r)&&(t=r,e=n)}return e},c.createMovieClip=function(t,e,n){var r=t.createEmptyMovieClip(e,n);this.make();for(var i=0;i<this.modules.length;i++)for(var o=1*i,a=0;a<this.modules[i].length;a++){var s=1*a;this.modules[i][a]&&(r.beginFill(0,100),r.moveTo(s,o),r.lineTo(s+1,o),r.lineTo(s+1,o+1),r.lineTo(s,o+1),r.endFill())}return r},c.setupTimingPattern=function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=e%2==0)},c.setupPositionAdjustPattern=function(){for(var t=a.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var n=0;n<t.length;n++){var r=t[e],i=t[n];if(null==this.modules[r][i])for(var o=-2;o<=2;o++)for(var s=-2;s<=2;s++)this.modules[r+o][i+s]=-2==o||2==o||-2==s||2==s||0==o&&0==s}},c.setupTypeNumber=function(t){for(var e=a.getBCHTypeNumber(this.typeNumber),n=0;n<18;n++){var r=!t&&1==(e>>n&1);this.modules[Math.floor(n/3)][n%3+this.moduleCount-8-3]=r}for(n=0;n<18;n++){r=!t&&1==(e>>n&1);this.modules[n%3+this.moduleCount-8-3][Math.floor(n/3)]=r}},c.setupTypeInfo=function(t,e){for(var n=this.errorCorrectLevel<<3|e,r=a.getBCHTypeInfo(n),i=0;i<15;i++){var o=!t&&1==(r>>i&1);i<6?this.modules[i][8]=o:i<8?this.modules[i+1][8]=o:this.modules[this.moduleCount-15+i][8]=o}for(i=0;i<15;i++){o=!t&&1==(r>>i&1);i<8?this.modules[8][this.moduleCount-i-1]=o:i<9?this.modules[8][15-i-1+1]=o:this.modules[8][15-i-1]=o}this.modules[this.moduleCount-8][8]=!t},c.mapData=function(t,e){for(var n=-1,r=this.moduleCount-1,i=7,o=0,s=this.moduleCount-1;s>0;s-=2)for(6==s&&s--;;){for(var u=0;u<2;u++)if(null==this.modules[r][s-u]){var c=!1;o<t.length&&(c=1==(t[o]>>>i&1)),a.getMask(e,r,s-u)&&(c=!c),this.modules[r][s-u]=c,-1==--i&&(o++,i=7)}if((r+=n)<0||this.moduleCount<=r){r-=n,n=-n;break}}},u.PAD0=236,u.PAD1=17,u.createData=function(t,e,n){for(var r=i.getRSBlocks(t,e),s=new o,c=0;c<n.length;c++){var f=n[c];s.put(f.mode,4),s.put(f.getLength(),a.getLengthInBits(f.mode,t)),f.write(s)}var l=0;for(c=0;c<r.length;c++)l+=r[c].dataCount;if(s.getLengthInBits()>8*l)throw new Error("code length overflow. ("+s.getLengthInBits()+">"+8*l+")");for(s.getLengthInBits()+4<=8*l&&s.put(0,4);s.getLengthInBits()%8!=0;)s.putBit(!1);for(;!(s.getLengthInBits()>=8*l)&&(s.put(u.PAD0,8),!(s.getLengthInBits()>=8*l));)s.put(u.PAD1,8);return u.createBytes(s,r)},u.createBytes=function(t,e){for(var n=0,r=0,i=0,o=new Array(e.length),u=new Array(e.length),c=0;c<e.length;c++){var f=e[c].dataCount,l=e[c].totalCount-f;r=Math.max(r,f),i=Math.max(i,l),o[c]=new Array(f);for(var h=0;h<o[c].length;h++)o[c][h]=255&t.buffer[h+n];n+=f;var d=a.getErrorCorrectPolynomial(l),p=new s(o[c],d.getLength()-1).mod(d);u[c]=new Array(d.getLength()-1);for(h=0;h<u[c].length;h++){var v=h+p.getLength()-u[c].length;u[c][h]=v>=0?p.get(v):0}}var y=0;for(h=0;h<e.length;h++)y+=e[h].totalCount;var g=new Array(y),m=0;for(h=0;h<r;h++)for(c=0;c<e.length;c++)h<o[c].length&&(g[m++]=o[c][h]);for(h=0;h<i;h++)for(c=0;c<e.length;c++)h<u[c].length&&(g[m++]=u[c][h]);return g},t.exports=u},1611:function(t,e,n){var r=n(1409);function i(t){this.mode=r.MODE_8BIT_BYTE,this.data=t}i.prototype={getLength:function(t){return this.data.length},write:function(t){for(var e=0;e<this.data.length;e++)t.put(this.data.charCodeAt(e),8)}},t.exports=i},1612:function(t,e,n){var r=n(1410);function i(t,e){this.totalCount=t,this.dataCount=e}i.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],i.getRSBlocks=function(t,e){var n=i.getRsBlockTable(t,e);if(void 0==n)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);for(var r=n.length/3,o=new Array,a=0;a<r;a++)for(var s=n[3*a+0],u=n[3*a+1],c=n[3*a+2],f=0;f<s;f++)o.push(new i(u,c));return o},i.getRsBlockTable=function(t,e){switch(e){case r.L:return i.RS_BLOCK_TABLE[4*(t-1)+0];case r.M:return i.RS_BLOCK_TABLE[4*(t-1)+1];case r.Q:return i.RS_BLOCK_TABLE[4*(t-1)+2];case r.H:return i.RS_BLOCK_TABLE[4*(t-1)+3];default:return}},t.exports=i},1613:function(t,e){function n(){this.buffer=new Array,this.length=0}n.prototype={get:function(t){var e=Math.floor(t/8);return 1==(this.buffer[e]>>>7-t%8&1)},put:function(t,e){for(var n=0;n<e;n++)this.putBit(1==(t>>>e-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}},t.exports=n},1614:function(t,e,n){var r=n(1409),i=n(1411),o=n(1412),a=0,s=1,u=2,c=3,f=4,l=5,h=6,d=7,p={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(t){for(var e=t<<10;p.getBCHDigit(e)-p.getBCHDigit(p.G15)>=0;)e^=p.G15<<p.getBCHDigit(e)-p.getBCHDigit(p.G15);return(t<<10|e)^p.G15_MASK},getBCHTypeNumber:function(t){for(var e=t<<12;p.getBCHDigit(e)-p.getBCHDigit(p.G18)>=0;)e^=p.G18<<p.getBCHDigit(e)-p.getBCHDigit(p.G18);return t<<12|e},getBCHDigit:function(t){for(var e=0;0!=t;)e++,t>>>=1;return e},getPatternPosition:function(t){return p.PATTERN_POSITION_TABLE[t-1]},getMask:function(t,e,n){switch(t){case a:return(e+n)%2==0;case s:return e%2==0;case u:return n%3==0;case c:return(e+n)%3==0;case f:return(Math.floor(e/2)+Math.floor(n/3))%2==0;case l:return e*n%2+e*n%3==0;case h:return(e*n%2+e*n%3)%2==0;case d:return(e*n%3+(e+n)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}},getErrorCorrectPolynomial:function(t){for(var e=new i([1],0),n=0;n<t;n++)e=e.multiply(new i([1,o.gexp(n)],0));return e},getLengthInBits:function(t,e){if(1<=e&&e<10)switch(t){case r.MODE_NUMBER:return 10;case r.MODE_ALPHA_NUM:return 9;case r.MODE_8BIT_BYTE:case r.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case r.MODE_NUMBER:return 12;case r.MODE_ALPHA_NUM:return 11;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(e<41))throw new Error("type:"+e);switch(t){case r.MODE_NUMBER:return 14;case r.MODE_ALPHA_NUM:return 13;case r.MODE_8BIT_BYTE:return 16;case r.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},getLostPoint:function(t){for(var e=t.getModuleCount(),n=0,r=0;r<e;r++)for(var i=0;i<e;i++){for(var o=0,a=t.isDark(r,i),s=-1;s<=1;s++)if(!(r+s<0||e<=r+s))for(var u=-1;u<=1;u++)i+u<0||e<=i+u||0==s&&0==u||a==t.isDark(r+s,i+u)&&o++;o>5&&(n+=3+o-5)}for(r=0;r<e-1;r++)for(i=0;i<e-1;i++){var c=0;t.isDark(r,i)&&c++,t.isDark(r+1,i)&&c++,t.isDark(r,i+1)&&c++,t.isDark(r+1,i+1)&&c++,0!=c&&4!=c||(n+=3)}for(r=0;r<e;r++)for(i=0;i<e-6;i++)t.isDark(r,i)&&!t.isDark(r,i+1)&&t.isDark(r,i+2)&&t.isDark(r,i+3)&&t.isDark(r,i+4)&&!t.isDark(r,i+5)&&t.isDark(r,i+6)&&(n+=40);for(i=0;i<e;i++)for(r=0;r<e-6;r++)t.isDark(r,i)&&!t.isDark(r+1,i)&&t.isDark(r+2,i)&&t.isDark(r+3,i)&&t.isDark(r+4,i)&&!t.isDark(r+5,i)&&t.isDark(r+6,i)&&(n+=40);var f=0;for(i=0;i<e;i++)for(r=0;r<e;r++)t.isDark(r,i)&&f++;return n+=10*(Math.abs(100*f/e/e-50)/5)}};t.exports=p},1615:function(t,e,n){"use strict";var r=n(0);e.a=function(t){Object(r.useEffect)(t,[])}},1616:function(t,e,n){"use strict";(function(t){var r=n(2),i=n(448),o=n(444),a=this&&this.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.BurnAndRelease=e.BurnAndReleaseStatus=void 0;var u,c=n(11),f=n(3),l=s(n(428)),h=s(n(23));!function(t){t.Pending="pending",t.Burned="burned",t.Released="released",t.Reverted="reverted"}(u=e.BurnAndReleaseStatus||(e.BurnAndReleaseStatus={}));e.BurnAndRelease=function e(n,s){var d=this,p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};o(this,e),this.validateParams=function(){f.assertObject({from:"object | undefined",to:"object",transaction:"any | undefined",burnNonce:"string | number | undefined",contractCalls:"any[] | undefined",asset:"string",txHash:"string | undefined",nonce:"Buffer | string | undefined",tags:"string[] | undefined"},{params:d.params}),d.params.contractCalls&&d.params.contractCalls.map((function(t){f.assertType("string",{sendTo:t.sendTo,contractFn:t.contractFn})}))},this._initialize=i(r.mark((function t(){var e,n;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=d._state.renNetwork,t.t0){t.next=7;break}return t.t1=c,t.next=5,d.renVM.getNetwork(d._state.selector);case 5:t.t2=t.sent,t.t0=t.t1.getRenNetworkDetails.call(t.t1,t.t2);case 7:if(d._state.renNetwork=t.t0,!d.params.from||d.params.from.renNetwork){t.next=11;break}return t.next=11,d.params.from.initialize(d._state.renNetwork);case 11:if(d.params.to.renNetwork){t.next=14;break}return t.next=14,d.params.to.initialize(d._state.renNetwork);case 14:if(t.t3=d.params.to.burnPayload,!t.t3){t.next=19;break}return t.next=18,d.params.to.burnPayload();case 18:t.t3=t.sent;case 19:if(e=t.t3,t.t4=d.params.from&&d.params.from.getBurnParams,!t.t4){t.next=25;break}return t.next=24,d.params.from.getBurnParams(d.params.asset,e);case 24:t.t4=t.sent;case 25:if(n=t.t4,d.params=Object.assign(Object.assign({},n),d.params),!(d.renVM.version(d._state.selector)>=2)){t.next=31;break}return t.next=30,d.renVM.selectPublicKey(d._state.selector,d.params.to.name);case 30:d._state.gPubKey=t.sent;case 31:return t.abrupt("return",d);case 32:case"end":return t.stop()}}),t)}))),this.refreshStatus=i(r.mark((function t(){return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",d.status);case 1:case"end":return t.stop()}}),t)}))),this.confirmationTarget=i(r.mark((function t(){var e,n;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!f.isDefined(d._state.targetConfirmations)){t.next=2;break}return t.abrupt("return",d._state.targetConfirmations);case 2:if(!(n=d.renVM.getConfirmationTarget)){t.next=7;break}return t.next=6,f.retryNTimes(i(r.mark((function t(){return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n(d._state.selector,d.params.from));case 1:case"end":return t.stop()}}),t)}))),2);case 6:e=t.sent;case 7:return d._state.targetConfirmations=f.isDefined(e)?e:6,t.abrupt("return",d._state.targetConfirmations);case 9:case"end":return t.stop()}}),t)}))),this.burn=function(){var t=c.newPromiEvent();return i(r.mark((function e(){var n,i,o,a,s;return r.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!d.params.txHash){e.next=2;break}return e.abrupt("return",d);case 2:if(d.params.from){e.next=4;break}throw new Error("Must either provide field `to` or field `txHash`.");case 4:return n=d.params,i=n.asset,o=n.transaction,a=n.burnNonce,s=n.contractCalls,e.next=7,d.params.from.findBurnTransaction(i,{transaction:o,burnNonce:a,contractCalls:s},t,d._state.logger,d._state.config.networkDelay);case 7:return d.burnDetails=e.sent,d.status=u.Burned,e.abrupt("return",d);case 10:case"end":return e.stop()}}),e)})))().then(t.resolve).catch(t.reject),t},this.txHash=function(){var e=d.params.txHash;if(e)return f.renVMHashToBase64(e,d.renVM.version(d._state.selector)>=2);if(!d.params.from)throw new Error("Must either provide field `to` or field `txHash`.");if(!d.burnDetails)throw new Error("Must call `burn` before calling `txHash`.");if(d.renVM.version(d._state.selector)>=2&&d.renVM.burnTxHash){var n=d.burnDetails,r=n.transaction,i=n.amount,o=n.to,a=n.nonce,s=t.from([]),u=f.generatePHash([],d._state.logger),c=d.params.from.transactionRPCFormat(r,!0),h=c.txid,p=c.txindex,v=new l.default(a.toFixed()).toArrayLike(t,"be",32),y=f.generateNHash(v,h,p,d.renVM.version(d._state.selector)>=2,d._state.logger),g=f.generateSHash("".concat(d.params.asset,"/to").concat(d.params.to.name)),m=f.generateGHash([],f.Ox(d.params.to.addressStringToBytes(o)),f.Ox(g),v,d.renVM.version(d._state.selector)>=2,d._state.logger),b=d._state.gPubKey;if(!b)throw new Error("BurnAndRelease object must be initialized.");return f.toURLBase64(d.renVM.burnTxHash({selector:d._state.selector,gHash:m,gPubKey:b,nHash:y,nonce:v,output:{txid:h,txindex:p},amount:i.toFixed(),payload:s,pHash:u,to:o.toString()}))}return f.toBase64(f.generateBurnTxHash(d._state.selector,d.burnDetails.nonce.toFixed(),d._state.logger))},this.queryTx=i(r.mark((function t(){var e;return r.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,d.renVM.queryMintOrBurn(d._state.selector,f.fromBase64(d.txHash()));case 2:return e=t.sent,d._state.queryTxResult=e,t.abrupt("return",e);case 5:case"end":return t.stop()}}),t)}))),this.release=function(){var e=c.newPromiEvent();return i(r.mark((function n(){var i,o,a,s,c,p,v,y,g,m,b,w,_,E,O,I,S,T,x,k,j,A,N,P;return r.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(d.burnDetails||d.params.txHash){n.next=2;break}throw new Error("Must call `burn` before calling `release`.");case 2:if(i=d.txHash(),d.params.txHash||!d.burnDetails){n.next=41;break}if(d.params.from){n.next=6;break}throw new Error("Must either provide field `to` or field `txHash`.");case 6:if(!(d.params.tags&&d.params.tags.length>1)){n.next=8;break}throw new Error("Providing multiple tags is not supported yet.");case 8:if(o=d.params.tags&&d.params.tags.length?[d.params.tags[0]]:[],a=d.burnDetails,s=a.transaction,c=a.amount,p=a.to,v=a.nonce,n.prev=10,!(d.renVM.version(d._state.selector)>=2)){n.next=30;break}if(f.assertType("string",{to:p}),g=d._state.gPubKey){n.next=16;break}throw new Error("BurnAndRelease object must be initialized.");case 16:return m=t.from([]),b=f.generatePHash([],d._state.logger),w=d.params.from.transactionRPCFormat(s,!0),_=w.txid,E=w.txindex,O=new l.default(v.toFixed()).toArrayLike(t,"be",32),I=f.generateNHash(O,_,E,d.renVM.version(d._state.selector)>=2,d._state.logger),S=f.generateSHash("".concat(d.params.asset,"/to").concat(d.params.to.name)),T=f.generateGHash([],f.Ox(d.params.to.addressStringToBytes(p)),f.Ox(S),O,d.renVM.version(d._state.selector)>=2,d._state.logger),n.t0=f,n.next=26,d.renVM.submitBurn({selector:d._state.selector,tags:o,gHash:T,gPubKey:g,nHash:I,nonce:O,output:{txid:_,txindex:E},amount:c.toFixed(),payload:m,pHash:b,to:p.toString(),burnNonce:new h.default(0)});case 26:n.t1=n.sent,y=n.t0.toURLBase64.call(n.t0,n.t1),n.next=35;break;case 30:return n.t2=f,n.next=33,d.renVM.submitBurn({selector:d._state.selector,tags:o,burnNonce:v,gHash:t.from([]),gPubKey:t.from([]),nHash:t.from([]),nonce:t.from([]),output:{txid:t.from([]),txindex:""},amount:"",payload:t.from([]),pHash:t.from([]),to:""});case 33:n.t3=n.sent,y=n.t2.toBase64.call(n.t2,n.t3);case 35:i&&i!==y&&d._state.logger.warn("Unexpected txHash returned from RenVM. Received: ".concat(y,", expected: ").concat(i)),n.next=41;break;case 38:throw n.prev=38,n.t4=n.catch(10),n.t4;case 41:return e.emit("txHash",i),d._state.logger.debug("txHash:",i),n.next=45,d.renVM.waitForTX(d._state.selector,f.fromBase64(i),(function(t){e.emit("status",t),d._state.logger.debug("transaction status:",t)}),(function(){return e._isCancelled()}),d._state.config.networkDelay);case 45:if(!(x=n.sent).out||void 0===x.out.revert){n.next=52;break}throw d.status=u.Reverted,d.revertReason=x.out.revert.toString(),new Error(d.revertReason);case 52:if(d.status=u.Released,!(x.out&&d.renVM.version(d._state.selector)>=2)){n.next=73;break}if(n.prev=54,!x.out.txid){n.next=62;break}return j=x.out.txid,n.next=59,d.params.to.transactionFromID(j,"",!0);case 59:k=n.sent,n.next=67;break;case 62:if(!x.out.outpoint){n.next=67;break}return A=x.out.outpoint,N=A.hash,P=A.index,n.next=66,d.params.to.transactionFromID(N,P.toFixed(),!0);case 66:k=n.sent;case 67:n.next=72;break;case 69:n.prev=69,n.t5=n.catch(54),d._state.logger.debug(n.t5);case 72:k&&(d.releaseTransaction=k,e.emit("transaction",k));case 73:return n.abrupt("return",x);case 74:case"end":return n.stop()}}),n,null,[[10,38],[54,69]])})))().then(e.resolve).catch(e.reject),e},this.params=s,this.renVM=n,this._state={logger:p.logger||c.NullLogger,selector:this.renVM.selector(this.params),targetConfirmations:void 0,config:Object.assign(Object.assign({},p),{networkDelay:p.networkDelay||15*f.SECONDS})},this.validateParams(),this.status=this.params.txHash?u.Burned:u.Pending;var v=a(this.params,[]);this._state.logger.debug("burnAndRelease created:",v)}}).call(this,n(4).Buffer)},1617:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(1200),i={deferEvents:!1},o=function(){function t(t){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=Object(r.a)(Object(r.a)({},i),t)}return t.prototype.initialize=function(t){if(this.initialized=!0,t){if(!this.options.deferEvents)return void this.schedule(t);this.process(t)}this.flushEvents()},t.prototype.schedule=function(t){if(this.initialized&&!this.processingEvent){if(0!==this.queue.length)throw new Error("Event queue should be empty when it is not processing events");this.process(t),this.flushEvents()}else this.queue.push(t)},t.prototype.clear=function(){this.queue=[]},t.prototype.flushEvents=function(){for(var t=this.queue.shift();t;)this.process(t),t=this.queue.shift()},t.prototype.process=function(t){this.processingEvent=!0;try{t()}catch(e){throw this.clear(),e}finally{this.processingEvent=!1}},t}()},1618:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=new Map,i=0,o={bookId:function(){return"x:"+i++},register:function(t,e){return r.set(t,e),t},get:function(t){return r.get(t)},free:function(t){r.delete(t)}}},1619:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n(1254);function i(){return"undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof t?t:void 0}function o(t){if(!r.a&&i()){var e=function(){var t=i();if(t&&"__xstate__"in t)return t.__xstate__}();e&&e.register(t)}}}).call(this,n(34))},1620:function(t,e,n){"use strict";var r,i=n(1286),o=n(2),a=n(448),s=n(444),u=n(651),c=n(446),f=n(447),l=n(1287),h=n(648),d=this&&this.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n};Object.defineProperty(e,"__esModule",{value:!0}),e.LockAndMintDeposit=e.DepositStatusIndex=e.DepositStatus=e.LockAndMint=void 0;var p,v=n(11),y=n(3),g=n(124),m=n(331),b=n(183),w=function(t){c(n,t);var e=f(n);function n(t,r){var i,c,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};s(this,n),(c=e.call(this)).deposits=m.OrderedMap(),c.confirmationTarget=a(o.mark((function t(){var e,n,r;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!y.isDefined(c._state.targetConfirmations)){t.next=2;break}return t.abrupt("return",c._state.targetConfirmations);case 2:if(!(n=c.renVM.getConfirmationTarget)){t.next=7;break}return t.next=6,y.retryNTimes(a(o.mark((function t(){return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n(c._state.selector,c.params.from));case 1:case"end":return t.stop()}}),t)}))),2);case 6:e=t.sent;case 7:return r=c._state.renNetwork&&c._state.renNetwork.isTestnet?2:6,c._state.targetConfirmations=y.isDefined(e)?e:r,t.abrupt("return",c._state.targetConfirmations);case 10:case"end":return t.stop()}}),t)}))),c._initialize=a(o.mark((function t(){var e;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=c._state.renNetwork,t.t0){t.next=7;break}return t.t1=v,t.next=5,c.renVM.getNetwork(c._state.selector);case 5:t.t2=t.sent,t.t0=t.t1.getRenNetworkDetails.call(t.t1,t.t2);case 7:if(c._state.renNetwork=t.t0,c.params.from.renNetwork){t.next=11;break}return t.next=11,c.params.from.initialize(c._state.renNetwork);case 11:if(c.params.to.renNetwork){t.next=14;break}return t.next=14,c.params.to.initialize(c._state.renNetwork);case 14:if(t.t3=c.params.to.getMintParams,!t.t3){t.next=19;break}return t.next=18,c.params.to.getMintParams(c.params.asset);case 18:t.t3=t.sent;case 19:return e=t.t3,c.params=Object.assign(Object.assign({},e),c.params),t.prev=21,t.next=24,c.generateGatewayAddress();case 24:c.gatewayAddress=t.sent,t.next=30;break;case 27:throw t.prev=27,t.t4=t.catch(21),t.t4;case 30:return c.wait().catch(console.error),t.prev=31,t.next=34,c.confirmationTarget();case 34:c._state.targetConfirmations=t.sent,t.next=40;break;case 37:t.prev=37,t.t5=t.catch(31),console.error(t.t5);case 40:return t.abrupt("return",u(c));case 41:case"end":return t.stop()}}),t,null,[[21,27],[31,37]])}))),c.processDeposit=function(){var t=a(o.mark((function t(e){var n,r;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c._state.renNetwork&&c._state.pHash&&c._state.gHash&&c._state.gPubKey&&c.gatewayAddress){t.next=2;break}throw new Error("Gateway address must be generated before calling 'wait'.");case 2:if(n=c.params.from.transactionID(e.transaction),r=c.deposits.get(n)){t.next=9;break}return r=new _(e,c.params,c.renVM,Object.assign(Object.assign({},c._state),{renNetwork:c._state.renNetwork,pHash:c._state.pHash,gHash:c._state.gHash,gPubKey:c._state.gPubKey,targetConfirmations:y.isDefined(c._state.targetConfirmations)?c._state.targetConfirmations:void 0})),t.next=8,r._initialize();case 8:(c._state.config.loadCompletedDeposits||r.status!==p.Submitted)&&(c.emit("deposit",r),c._state.logger.debug("new deposit:",e),c.deposits=c.deposits.set(n,r));case 9:return t.abrupt("return",r);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),c.addListener=function(t,e){return"deposit"===t&&c.deposits.map((function(t){e(t)})),l((i=u(c),h(n.prototype)),"on",i).call(i,t,e),u(c)},c.on=function(t,e){return c.addListener(t,e)},c.generateGatewayAddress=a(o.mark((function t(){var e,n,r,i,a,s,u,f,l;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!c.gatewayAddress){t.next=2;break}return t.abrupt("return",c.gatewayAddress);case 2:if(e=c.params,n=e.nonce,r=e.contractCalls,n){t.next=5;break}throw new Error("Must call 'initialize' before calling 'generateGatewayAddress'.");case 5:if(r){t.next=7;break}throw new Error("Must provide contract call details.");case 7:if(i=r[r.length-1],a=i.contractParams,s=i.sendTo,!(c.renVM.version(c._state.selector)>=2)){t.next=12;break}t.t0=y.Ox(y.generateSHash(c._state.selector)),t.next=15;break;case 12:return t.next=14,c.params.to.resolveTokenGatewayContract(c.params.asset);case 14:t.t0=t.sent;case 15:return u=t.t0,c._state.pHash=y.generatePHash(a||[],c._state.logger),f=y.generateGHash(a||[],s,u,y.fromHex(n),c.renVM.version(c._state.selector)>=2,c._state.logger),c._state.gHash=f,t.next=21,c.renVM.selectPublicKey(c._state.selector,c.renVM.version(c._state.selector)>=2?c.params.from.name:c.params.asset);case 21:return c._state.gPubKey=t.sent,c._state.logger.debug("gPubKey:",y.Ox(c._state.gPubKey)),t.next=25,c.params.from.getGatewayAddress(c.params.asset,c._state.gPubKey,f);case 25:return l=t.sent,c.gatewayAddress=l,c._state.logger.debug("gateway address:",c.gatewayAddress),t.abrupt("return",c.gatewayAddress);case 29:case"end":return t.stop()}}),t)}))),c.wait=a(o.mark((function t(){var e,n,r;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c._state.pHash&&c._state.gHash&&c._state.gPubKey&&c.gatewayAddress){t.next=2;break}throw new Error("Gateway address must be generated before calling 'wait'.");case 2:if(e=function(){return 0===c.listenerCount("deposit")},t.prev=4,!e()){t.next=9;break}return t.next=8,y.sleep(1*y.SECONDS);case 8:return t.abrupt("continue",2);case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),c._state.logger.error(y.extractError(t.t0));case 14:return n=function(){var t=a(o.mark((function t(e){return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.processDeposit(e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),r=function(){var t=a(o.mark((function t(){return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.resolve());case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),t.prev=16,t.next=19,c.params.from.getDeposits(c.params.asset,c.gatewayAddress,c.getDepositsProgress,n,r,e);case 19:c.getDepositsProgress=t.sent,t.next=25;break;case 22:t.prev=22,t.t1=t.catch(16),c._state.logger.error(y.extractError(t.t1));case 25:return t.next=27,y.sleep(c._state.config.networkDelay);case 27:t.next=2;break;case 29:case"end":return t.stop()}}),t,null,[[4,11],[16,22]])}))),c.params=r,c.renVM=t,c._state={logger:f.logger||v.NullLogger,selector:c.renVM.selector(c.params),config:Object.assign(Object.assign({},f),{networkDelay:f.networkDelay||15*y.SECONDS})};var g=c.params.txHash,b=c.params.nonce?y.fromHex(c.params.nonce):y.emptyNonce();c.params.nonce=b,g||(c.params.nonce=b);var w=c.params,E=(w.to,w.from,d(w,["to","from"]));return c._state.logger.debug("lockAndMint created:",E),c}return n}(g.EventEmitter);e.LockAndMint=w,function(t){t.Detected="detected",t.Confirmed="confirmed",t.Signed="signed",t.Reverted="reverted",t.Submitted="submitted"}(p=e.DepositStatus||(e.DepositStatus={})),e.DepositStatusIndex=(i(r={},p.Detected,0),i(r,p.Confirmed,1),i(r,p.Signed,2),i(r,p.Reverted,3),i(r,p.Submitted,4),r);var _=function t(n,r,i,u){var c=this;s(this,t),this._initialize=a(o.mark((function t(){return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.refreshStatus();case 2:return t.next=4,c.params.to.resolveTokenGatewayContract(c.params.asset);case 4:return c._state.token=t.sent,t.abrupt("return",c);case 6:case"end":return t.stop()}}),t)}))),this.txHash=function(){return c._state.txHash},this.queryTx=a(o.mark((function t(){var n;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e.DepositStatusIndex[c.status]>=e.DepositStatusIndex[p.Signed]&&c._state.queryTxResult)){t.next=2;break}return t.abrupt("return",c._state.queryTxResult);case 2:return t.next=4,c.renVM.queryMintOrBurn(c._state.selector,y.fromBase64(c.txHash()));case 4:return n=t.sent,c._state.queryTxResult=n,n.out&&void 0!==n.out.revert?(c.status=p.Reverted,c.revertReason=n.out.revert.toString()):n.out&&n.out.signature&&(c.status=p.Signed),t.abrupt("return",n);case 8:case"end":return t.stop()}}),t)}))),this.refreshStatus=a(o.mark((function t(){var e;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a(o.mark((function t(){var e,n;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=void 0,1!==c.renVM.version(c._state.selector)){t.next=11;break}return t.prev=2,t.next=5,c.queryTx();case 5:e=t.sent,t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),e=null;case 11:return t.prev=11,t.next=14,c.findTransaction();case 14:if(!t.sent){t.next=17;break}return t.abrupt("return",p.Submitted);case 17:t.next=21;break;case 19:t.prev=19,t.t1=t.catch(11);case 21:if(t.prev=21,void 0!==e){t.next=28;break}return t.next=25,c.queryTx();case 25:t.t2=t.sent,t.next=29;break;case 28:t.t2=e;case 29:if(!(e=t.t2)||e.txStatus!==v.TxStatus.TxStatusDone){t.next=37;break}if(!e.out||void 0===e.out.revert){t.next=36;break}c.status=p.Reverted,c.revertReason=e.out.revert.toString(),t.next=37;break;case 36:return t.abrupt("return",p.Signed);case 37:t.next=41;break;case 39:t.prev=39,t.t3=t.catch(21);case 41:return t.prev=41,t.next=44,c.confirmations();case 44:if(!((n=t.sent).current>=n.target)){t.next=47;break}return t.abrupt("return",p.Confirmed);case 47:t.next=51;break;case 49:t.prev=49,t.t4=t.catch(41);case 51:return t.abrupt("return",p.Detected);case 52:case"end":return t.stop()}}),t,null,[[2,8],[11,19],[21,39],[41,49]])})))();case 2:return e=t.sent,c.status=e,t.abrupt("return",e);case 5:case"end":return t.stop()}}),t)}))),this.confirmations=a(o.mark((function t(){var e,n,r;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c.params.from.transactionConfidence(c.depositDetails.transaction);case 2:return e=t.sent,n=e.current,r=e.target,t.abrupt("return",{current:n,target:y.isDefined(c._state.targetConfirmations)?c._state.targetConfirmations:r});case 6:case"end":return t.stop()}}),t)}))),this.confirmationTarget=a(o.mark((function t(){var e,n,r;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!y.isDefined(c._state.targetConfirmations)){t.next=2;break}return t.abrupt("return",c._state.targetConfirmations);case 2:if(!(n=c.renVM.getConfirmationTarget)){t.next=7;break}return t.next=6,y.retryNTimes(a(o.mark((function t(){return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n(c._state.selector,c.params.from));case 1:case"end":return t.stop()}}),t)}))),2);case 6:e=t.sent;case 7:return r=c._state.renNetwork&&c._state.renNetwork.isTestnet?2:6,c._state.targetConfirmations=e||r,t.abrupt("return",c._state.targetConfirmations);case 10:case"end":return t.stop()}}),t)}))),this.confirmed=function(){var t=v.newPromiEvent();return a(o.mark((function n(){var r,i,a,s,u;return o.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.t0=t,n.next=4,c.confirmationTarget();case 4:n.t1=n.sent,n.t0.emit.call(n.t0,"target",n.t1),n.next=11;break;case 8:n.prev=8,n.t2=n.catch(0),c._state.logger.error(n.t2);case 11:r=function(){return e.DepositStatusIndex[c.status]>=e.DepositStatusIndex[p.Confirmed]||c._state.queryTxResult&&v.TxStatusIndex[c._state.queryTxResult.txStatus]>=v.TxStatusIndex[v.TxStatus.TxStatusPending]},i=0,a=0;case 14:if(t._isCancelled()||r()){n.next=48;break}if(i%5!==0){n.next=29;break}if(n.prev=16,c._state.renTxSubmitted){n.next=20;break}return n.next=20,c._submitMintTransaction();case 20:return n.next=22,c.queryTx();case 22:if(!r()){n.next=24;break}return n.abrupt("break",48);case 24:n.next=29;break;case 26:n.prev=26,n.t3=n.catch(16),c._state.logger.debug(n.t3);case 29:return n.prev=29,n.next=32,c.confirmations();case 32:if(s=n.sent,(u=0===s.target?1:s.current/s.target)>a&&(a=u,t.emit("confirmation",s.current,s.target)),!(u>=1)){n.next=37;break}return n.abrupt("break",48);case 37:c._state.logger.debug("deposit confidence: ".concat(s.current," / ").concat(s.target)),n.next=43;break;case 40:n.prev=40,n.t4=n.catch(29),c._state.logger.error("Error fetching transaction confidence: ".concat(y.extractError(n.t4)));case 43:return n.next=45,y.sleep(c._state.config.networkDelay);case 45:i+=1,n.next=14;break;case 48:return c.status=p.Confirmed,n.abrupt("return",c);case 50:case"end":return n.stop()}}),n,null,[[0,8],[16,26],[29,40]])})))().then(t.resolve).catch(t.reject),t},this.signed=function(){var t=v.newPromiEvent();return a(o.mark((function n(){var r,i,s,u;return o.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=c.txHash(),!(e.DepositStatusIndex[c.status]>=e.DepositStatusIndex[p.Signed])){n.next=5;break}if(c.status!==p.Reverted){n.next=4;break}throw new Error(c.revertReason||"RenVM transaction ".concat(r," reverted."));case 4:return n.abrupt("return",c);case 5:return t.emit("txHash",r),c._state.logger.debug("RenVM txHash:",r),n.prev=7,n.next=10,c._submitMintTransaction();case 10:r=n.sent,n.next=41;break;case 13:return n.prev=13,n.t0=n.catch(7),n.prev=15,n.next=18,c.queryTx();case 18:if((i=n.sent).txStatus!==v.TxStatus.TxStatusNil){n.next=21;break}throw new Error("Transaction ".concat(r," has not been submitted previously."));case 21:r=i.hash,n.next=41;break;case 24:if(n.prev=24,n.t1=n.catch(15),s=!1,n.t1.code!==v.RenJSErrors.RenVMTransactionNotFound){n.next=38;break}if(n.t0.code!==v.RenJSErrors.AmountTooSmall&&n.t0.code!==v.RenJSErrors.DepositSpentOrNotFound){n.next=34;break}throw c.status=p.Reverted,c.revertReason=String((n.t0||{}).message).replace(/Node returned status \d+ with reason: /,""),new Error(c.revertReason);case 34:return n.next=36,y.retryNTimes(a(o.mark((function t(){return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",c._submitMintTransaction());case 1:case"end":return t.stop()}}),t)}))),2,5*y.SECONDS);case 36:r=n.sent,s=!0;case 38:if(c._state.logger.debug(n.t1),s){n.next=41;break}throw n.t0;case 41:return n.next=43,c.renVM.waitForTX(c._state.selector,y.fromBase64(r),(function(e){t.emit("status",e),c._state.logger.debug("transaction status:",e)}),(function(){return t._isCancelled()}),c._state.config.networkDelay);case 43:if(u=n.sent,c._state.queryTxResult=u,!u.out||void 0===u.out.revert){n.next=51;break}throw c.status=p.Reverted,c.revertReason=u.out.revert.toString(),new Error(c.revertReason);case 51:u.out&&u.out.signature&&(c.status=p.Signed,c._state.logger.debug("signature:",u.out&&u.out.signature));case 52:return n.abrupt("return",c);case 53:case"end":return n.stop()}}),n,null,[[7,13],[15,24]])})))().then(t.resolve).catch(t.reject),t},this.findTransaction=a(o.mark((function t(){var e;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=c._state.queryTxResult&&c._state.queryTxResult.out&&void 0===c._state.queryTxResult.out.revert?c._state.queryTxResult.out.sighash:void 0,t.next=3,c.params.to.findTransaction(c.params.asset,c._state.nHash,e);case 3:return c.mintTransaction=t.sent,t.abrupt("return",c.mintTransaction);case 5:case"end":return t.stop()}}),t)}))),this.mint=function(t){var e=v.newPromiEvent();return a(o.mark((function n(){var r,i,a;return o.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c._state.queryTxResult){n.next=2;break}throw new Error("Unable to submit to Ethereum without signature. Call 'signed' first.");case 2:return r=Object.keys(t||{}).map((function(e){return{name:e,value:(t||{})[e]}})),i=(i=y.overrideContractCalls(c.params.contractCalls||[],{contractParams:r})).map((function(t){return Object.assign(Object.assign({},t),{contractParams:t.contractParams?t.contractParams.filter((function(t){return!t.onlyInPayload})):t.contractParams})})),a=c.params.asset,n.next=8,c.params.to.submitMint(a,i,c._state.queryTxResult,e);case 8:return c.mintTransaction=n.sent,c.status=p.Submitted,n.abrupt("return",c.mintTransaction);case 11:case"end":return n.stop()}}),n)})))().then(e.resolve).catch(e.reject),e},this._submitMintTransaction=a(o.mark((function t(){var e,n,r,i;return o.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=c._state.token){t.next=3;break}throw new Error("Deposit object must be initialized.");case 3:if(n=c.txHash(),!c._state.renTxSubmitted){t.next=6;break}return t.abrupt("return",n);case 6:if(!c._state.renTxSubmitted){t.next=8;break}return t.abrupt("return",n);case 8:return t.next=10,c.renVM.submitMint(Object.assign(Object.assign({},c._state),{token:e}));case 10:return r=t.sent,i=c.renVM.version(c._state.selector)>=2?y.toURLBase64(r):y.toBase64(r),c._state.renTxSubmitted=!0,i!==n&&c._state.logger.warn("Unexpected txHash returned from RenVM. Received: ".concat(i,", expected: ").concat(n)),c._state.renTxSubmitted=!0,t.abrupt("return",i);case 16:case"end":return t.stop()}}),t)}))),this.validateParams=function(){y.assertObject({from:"object",to:"object",contractCalls:"any[]",asset:"string",txHash:"string | undefined",nonce:"Buffer | string | undefined",tags:"string[] | undefined"},{params:c.params}),c.params.contractCalls&&c.params.contractCalls.map((function(t){y.assertType("string",{sendTo:t.sendTo,contractFn:t.contractFn})}))},y.assertObject({transaction:"any",amount:"string"},{depositDetails:n}),y.assertObject({selector:"string",logger:"object",renNetwork:"object",gPubKey:"Buffer",gHash:"Buffer",pHash:"Buffer",targetConfirmations:"number | undefined",config:"object"},{state:u}),this.depositDetails=n,this.params=r,this.renVM=i,this.status=p.Detected;var f=this.params,l=f.txHash,h=f.contractCalls,g=f.nonce;if(!g)throw new Error("No nonce passed in to LockAndMintDeposit.");if(!l&&(!h||!h.length))throw new Error("Must provide Ren transaction hash or contract call details.");this.validateParams();var m=this.depositDetails,w=this.params.txHash?y.renVMHashToBase64(this.params.txHash,this.renVM.version(u.selector)>=2):void 0;if(!g)throw new Error("Unable to submit to RenVM without nonce.");if(!h||!h.length)throw new Error("Unable to submit to RenVM without contract call details.");var _=h[h.length-1],E=_.contractParams,O=_.sendTo,I=_.contractFn,S=E?E.filter((function(t){return!t.notInPayload})):E,T=(new b.AbiCoder).encodeParameters((S||[]).map((function(t){return t.type})),(S||[]).map((function(t){return t.value})));if(this.params.tags&&this.params.tags.length>1)throw new Error("Providing multiple tags is not supported yet.");var x=u.pHash,k=this.params.from.transactionRPCFormat(this.depositDetails.transaction,i.version(u.selector)>=2),j=y.generateNHash(y.fromHex(g),k.txid,k.txindex,i.version(u.selector)>=2),A=i.version(u.selector)>=2?"":this.params.from.depositV1HashString(m),N=y.payloadToMintABI(I,S||[]),P=this.params.tags&&this.params.tags.length?[this.params.tags[0]]:[];if(this._state=Object.assign(Object.assign({},u),{nHash:j,nonce:y.fromHex(g),output:this.params.from.transactionRPCFormat(m.transaction,i.version(u.selector)>=2),amount:m.amount,payload:y.fromHex(T),pHash:x,to:i.version(u.selector)>=2?y.strip0x(O):y.Ox(O),fn:I,fnABI:N,tags:P,txHash:"",renTxSubmitted:!1}),this._state.txHash=(i.version(this._state.selector)>=2?y.toURLBase64:y.toBase64)(this.renVM.mintTxHash(Object.assign(Object.assign({},this._state),{outputHashFormat:A}))),w&&!y.fromBase64(w).equals(y.fromBase64(this.txHash())))throw new Error("Inconsistent RenVM transaction hash: got ".concat(w," but expected ").concat(this.txHash(),"."));var C=this.params,R=(C.to,C.from,d(C,["to","from"]));this._state.logger.debug("LockAndMintDeposit created",n,R)};e.LockAndMintDeposit=_},1621:function(t,e,n){var r=n(648);t.exports=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r(t)););return t}},1622:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pure=e.choose=e.update=e.error=e.errorPlatform=e.errorExecution=e.invoke=e.init=e.log=e.doneState=e.after=e.assign=e.nullEvent=e.cancel=e.send=e.raise=e.stop=e.start=void 0;var r=n(1419);e.start=r.ActionTypes.Start,e.stop=r.ActionTypes.Stop,e.raise=r.ActionTypes.Raise,e.send=r.ActionTypes.Send,e.cancel=r.ActionTypes.Cancel,e.nullEvent=r.ActionTypes.NullEvent,e.assign=r.ActionTypes.Assign,e.after=r.ActionTypes.After,e.doneState=r.ActionTypes.DoneState,e.log=r.ActionTypes.Log,e.init=r.ActionTypes.Init,e.invoke=r.ActionTypes.Invoke,e.errorExecution=r.ActionTypes.ErrorExecution,e.errorPlatform=r.ActionTypes.ErrorPlatform,e.error=r.ActionTypes.ErrorCustom,e.update=r.ActionTypes.Update,e.choose=r.ActionTypes.Choose,e.pure=r.ActionTypes.Pure},1623:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},i=this&&this.__values||function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__read||function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},a=this&&this.__spread||function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(o(arguments[e]));return t};Object.defineProperty(e,"__esModule",{value:!0}),e.toObserver=e.toInvokeSource=e.evaluateGuard=e.reportUnhandledExceptionOnInvocation=e.normalizeTarget=e.toTransitionConfigArray=e.toSCXMLEvent=e.toEventObject=e.uniqueId=e.isActor=e.isMachine=e.symbolObservable=e.isObservable=e.toGuard=e.isString=e.isFunction=e.isArray=e.warn=e.updateContext=e.updateHistoryValue=e.updateHistoryStates=e.partition=e.isPromiseLike=e.isBuiltInEvent=e.mapContext=e.toArray=e.toArrayStrict=e.flatten=e.pathsToStateValue=e.toStatePaths=e.nestedPath=e.path=e.mapFilterValues=e.mapValues=e.pathToStateValue=e.toStateValue=e.isStateLike=e.toStatePath=e.getActionType=e.getEventType=e.matchesState=e.keys=void 0;var s=n(1624),u=n(1420);function c(t){return Object.keys(t)}function f(t,e){try{return w(t)?t:t.toString().split(e)}catch(n){throw new Error("'"+t+"' is not a valid state path.")}}function l(t){return"object"===typeof t&&"value"in t&&"context"in t&&"event"in t&&"_event"in t}function h(t,e){return l(t)?t.value:w(t)?d(t):"string"!==typeof t?t:d(f(t,e))}function d(t){if(1===t.length)return t[0];for(var e={},n=e,r=0;r<t.length-1;r++)r===t.length-2?n[t[r]]=t[r+1]:(n[t[r]]={},n=n[t[r]]);return e}function p(t,e){for(var n={},r=c(t),i=0;i<r.length;i++){var o=r[i];n[o]=e(t[o],o,t,i)}return n}e.keys=c,e.matchesState=function t(e,n,r){void 0===r&&(r=s.STATE_DELIMITER);var i=h(e,r),o=h(n,r);return E(o)?!!E(i)&&o===i:E(i)?i in o:c(i).every((function(e){return e in o&&t(i[e],o[e])}))},e.getEventType=function(t){try{return E(t)||"number"===typeof t?""+t:t.type}catch(e){throw new Error("Events must be strings or objects with a string event.type property.")}},e.getActionType=function(t){try{return E(t)||"number"===typeof t?""+t:_(t)?t.name:t.type}catch(e){throw new Error("Actions must be strings or objects with a string action.type property.")}},e.toStatePath=f,e.isStateLike=l,e.toStateValue=h,e.pathToStateValue=d,e.mapValues=p,e.mapFilterValues=function(t,e,n){var r,o,a={};try{for(var s=i(c(t)),u=s.next();!u.done;u=s.next()){var f=u.value,l=t[f];n(l)&&(a[f]=e(l,f,t))}}catch(h){r={error:h}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}return a};function v(t){var e;return(e=[]).concat.apply(e,a(t))}function y(t){return w(t)?t:[t]}function g(t){return void 0===t?[]:y(t)}function m(t,e){return p(t.states,(function(t,n){if(t){var r=(E(e)?void 0:e[n])||(t?t.current:void 0);if(r)return{current:r,states:m(t,r)}}}))}e.path=function(t){return function(e){var n,r,o=e;try{for(var a=i(t),s=a.next();!s.done;s=a.next()){o=o[s.value]}}catch(u){n={error:u}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return o}},e.nestedPath=function(t,e){return function(n){var r,o,a=n;try{for(var s=i(t),u=s.next();!u.done;u=s.next()){var c=u.value;a=a[e][c]}}catch(f){r={error:f}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}return a}},e.toStatePaths=function t(e){return e?E(e)?[[e]]:v(c(e).map((function(n){var r=e[n];return"string"===typeof r||r&&Object.keys(r).length?t(e[n]).map((function(t){return[n].concat(t)})):[[n]]}))):[[]]},e.pathsToStateValue=function(t){var e,n,r={};if(t&&1===t.length&&1===t[0].length)return t[0][0];try{for(var o=i(t),a=o.next();!a.done;a=o.next())for(var s=a.value,u=r,c=0;c<s.length;c++){var f=s[c];if(c===s.length-2){u[f]=s[c+1];break}u[f]=u[f]||{},u=u[f]}}catch(l){e={error:l}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r},e.flatten=v,e.toArrayStrict=y,e.toArray=g,e.mapContext=function(t,e,n){var r,o;if(_(t))return t(e,n.data);var a={};try{for(var s=i(Object.keys(t)),u=s.next();!u.done;u=s.next()){var c=u.value,f=t[c];_(f)?a[c]=f(e,n.data):a[c]=f}}catch(l){r={error:l}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(r)throw r.error}}return a},e.isBuiltInEvent=function(t){return/^(done|error)\./.test(t)},e.isPromiseLike=function(t){return t instanceof Promise||!(null===t||!_(t)&&"object"!==typeof t||!_(t.then))},e.partition=function(t,e){var n,r,a=o([[],[]],2),s=a[0],u=a[1];try{for(var c=i(t),f=c.next();!f.done;f=c.next()){var l=f.value;e(l)?s.push(l):u.push(l)}}catch(h){n={error:h}}finally{try{f&&!f.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return[s,u]},e.updateHistoryStates=m,e.updateHistoryValue=function(t,e){return{current:e,states:m(t,e)}},e.updateContext=function(t,e,n,r){return u.IS_PRODUCTION||b(!!t,"Attempting to update undefined context"),t?n.reduce((function(t,n){var o,a,s=n.assignment,u={state:r,action:n,_event:e},f={};if(_(s))f=s(t,e.data,u);else try{for(var l=i(c(s)),h=l.next();!h.done;h=l.next()){var d=h.value,p=s[d];f[d]=_(p)?p(t,e.data,u):p}}catch(v){o={error:v}}finally{try{h&&!h.done&&(a=l.return)&&a.call(l)}finally{if(o)throw o.error}}return Object.assign({},t,f)}),t):t};var b=function(){};function w(t){return Array.isArray(t)}function _(t){return"function"===typeof t}function E(t){return"string"===typeof t}function O(t){try{return"__xstatenode"in t}catch(e){return!1}}function I(t,e){return E(t)||"number"===typeof t?r({type:t},e):t}e.warn=b,u.IS_PRODUCTION||(e.warn=b=function(t,e){var n=t instanceof Error?t:void 0;if((n||!t)&&void 0!==console){var r=["Warning: "+e];n&&r.push(n),console.warn.apply(console,r)}}),e.isArray=w,e.isFunction=_,e.isString=E,e.toGuard=function(t,e){if(t)return E(t)?{type:s.DEFAULT_GUARD_TYPE,name:t,predicate:e?e[t]:void 0}:_(t)?{type:s.DEFAULT_GUARD_TYPE,name:t.name,predicate:t}:t},e.isObservable=function(t){try{return"subscribe"in t&&_(t.subscribe)}catch(e){return!1}},e.symbolObservable="function"===typeof Symbol&&Symbol.observable||"@@observable",e.isMachine=O,e.isActor=function(t){return!!t&&"function"===typeof t.send},e.uniqueId=function(){var t=0;return function(){return(++t).toString(16)}}(),e.toEventObject=I,e.toSCXMLEvent=function(t,e){if(!E(t)&&"$$type"in t&&"scxml"===t.$$type)return t;var n=I(t);return r({name:n.type,data:n,$$type:"scxml",type:"external"},e)},e.toTransitionConfigArray=function(t,e){return y(e).map((function(e){return"undefined"===typeof e||"string"===typeof e||O(e)?{target:e,event:t}:r(r({},e),{event:t})}))},e.normalizeTarget=function(t){if(void 0!==t&&t!==s.TARGETLESS_KEY)return g(t)},e.reportUnhandledExceptionOnInvocation=function(t,e,n){if(!u.IS_PRODUCTION){var r=t.stack?" Stacktrace was '"+t.stack+"'":"";if(t===e)console.error("Missing onError handler for invocation '"+n+"', error was '"+t+"'."+r);else{var i=e.stack?" Stacktrace was '"+e.stack+"'":"";console.error("Missing onError handler and/or unhandled exception/promise rejection for invocation '"+n+"'. Original error: '"+t+"'. "+r+" Current error is '"+e+"'."+i)}}},e.evaluateGuard=function(t,e,n,r,i){var o=t.options.guards,a={state:i,cond:e,_event:r};if(e.type===s.DEFAULT_GUARD_TYPE)return e.predicate(n,r.data,a);var u=o[e.type];if(!u)throw new Error("Guard '"+e.type+"' is not implemented on machine '"+t.id+"'.");return u(n,r.data,a)},e.toInvokeSource=function(t){return"string"===typeof t?{type:t}:t},e.toObserver=function(t,e,n){if("object"===typeof t)return t;var r=function(){};return{next:t,error:e||r,complete:n||r}}},1624:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TARGETLESS_KEY=e.DEFAULT_GUARD_TYPE=e.EMPTY_ACTIVITY_MAP=e.STATE_DELIMITER=void 0,e.STATE_DELIMITER=".",e.EMPTY_ACTIVITY_MAP={},e.DEFAULT_GUARD_TYPE="xstate.guard",e.TARGETLESS_KEY=""},1625:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},1626:function(t,e,n){"use strict";e.base58_to_binary=n(1627),e.binary_to_base58=n(1628)},1627:function(t,e,n){"use strict";var r=n(645),i=n(1335);t.exports=function(t){if(!t||"string"!==typeof t)throw new Error("Expected base58 string but got \u201c".concat(t,"\u201d"));if(t.match(/[IOl0]/gm))throw new Error("Invalid base58 character \u201c".concat(t.match(/[IOl0]/gm),"\u201d"));var e,n=t.match(/^1+/gm),o=n?n[0].length:0,a=(t.length-o)*(Math.log(58)/Math.log(256))+1>>>0;return new Uint8Array([].concat(r(new Uint8Array(o)),r(t.match(/.{1}/g).map((function(t){return i.indexOf(t)})).reduce((function(t,e){return t=t.map((function(t){var n=58*t+e;return e=n>>8,n}))}),new Uint8Array(a)).reverse().filter((e=!1,function(t){return e=e||t})))))}},1628:function(t,e,n){"use strict";var r=n(347),i=n(1335),o=n(1629)();t.exports=function(t){var e,n=[],a=r(t);try{for(a.s();!(e=a.n()).done;){for(var s=e.value,u=0;u<n.length;++u){var c=(o[n[u]]<<8)+s;n[u]=i.charCodeAt(c%58),s=c/58|0}for(;s;)n.push(i.charCodeAt(s%58)),s=s/58|0}}catch(h){a.e(h)}finally{a.f()}var f,l=r(t);try{for(l.s();!(f=l.n()).done;){if(f.value)break;n.push("1".charCodeAt(0))}}catch(h){l.e(h)}finally{l.f()}return n.reverse(),String.fromCharCode.apply(String,n)}},1629:function(t,e,n){"use strict";var r=n(1335);t.exports=function(){for(var t=Array(256).fill(-1),e=0;e<r.length;++e)t[r.charCodeAt(e)]=e;return t}},1630:function(t,e,n){"use strict";var r=n(444),i=n(445);Object.defineProperty(e,"__esModule",{value:!0}),e.Hash=e.createHash=void 0;var o=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],a={sha256:1};e.createHash=function(t){if(t&&!a[t]&&!a[t.toLowerCase()])throw new Error("Digest method not supported");return new s};var s=function(){function t(){r(this,t),this.A=1779033703,this.B=-1150833019,this.C=1013904242,this.D=-1521486534,this.E=1359893119,this.F=-1694144372,this.G=528734635,this.H=1541459225,this._size=0,this._sp=0,(!u||f>=8e3)&&(u=new ArrayBuffer(8e3),f=0),this._byte=new Uint8Array(u,f,80),this._word=new Int32Array(u,f,20),f+=80}return i(t,[{key:"update",value:function(t){if("string"===typeof t)return this._utf8(t);if(null==t)throw new TypeError("Invalid type: "+typeof t);var e=t.byteOffset,n=t.byteLength,r=n/64|0,i=0;if(r&&!(3&e)&&!(this._size%64)){for(var o=new Int32Array(t.buffer,e,16*r);r--;)this._int32(o,i>>2),i+=64;this._size+=i}if(1!==t.BYTES_PER_ELEMENT&&t.buffer){var a=new Uint8Array(t.buffer,e+i,n-i);return this._uint8(a)}return i===n?this:this._uint8(t,i)}},{key:"_uint8",value:function(t,e){var n=this._byte,r=this._word,i=t.length;for(e|=0;e<i;){for(var o=this._size%64,a=o;e<i&&a<64;)n[a++]=t[e++];a>=64&&this._int32(r),this._size+=a-o}return this}},{key:"_utf8",value:function(t){for(var e=this._byte,n=this._word,r=t.length,i=this._sp,o=0;o<r;){for(var a=this._size%64,s=a;o<r&&s<64;){var u=0|t.charCodeAt(o++);u<128?e[s++]=u:u<2048?(e[s++]=192|u>>>6,e[s++]=128|63&u):u<55296||u>57343?(e[s++]=224|u>>>12,e[s++]=128|u>>>6&63,e[s++]=128|63&u):i?(u=((1023&i)<<10)+(1023&u)+65536,e[s++]=240|u>>>18,e[s++]=128|u>>>12&63,e[s++]=128|u>>>6&63,e[s++]=128|63&u,i=0):i=u}s>=64&&(this._int32(n),n[0]=n[16]),this._size+=s-a}return this._sp=i,this}},{key:"_int32",value:function(t,e){var n=this.A,r=this.B,i=this.C,a=this.D,s=this.E,u=this.F,f=this.G,l=this.H,b=0;for(e|=0;b<16;)c[b++]=h(t[e++]);for(b=16;b<64;b++)c[b]=m(c[b-2])+c[b-7]+g(c[b-15])+c[b-16]|0;for(b=0;b<64;b++){var w=l+y(s)+d(s,u,f)+o[b]+c[b]|0,_=v(n)+p(n,r,i)|0;l=f,f=u,u=s,s=a+w|0,a=i,i=r,r=n,n=w+_|0}this.A=n+this.A|0,this.B=r+this.B|0,this.C=i+this.C|0,this.D=a+this.D|0,this.E=s+this.E|0,this.F=u+this.F|0,this.G=f+this.G|0,this.H=l+this.H|0}},{key:"digest",value:function(t){var e=this._byte,n=this._word,r=this._size%64|0;for(e[r++]=128;3&r;)e[r++]=0;if((r>>=2)>14){for(;r<16;)n[r++]=0;r=0,this._int32(n)}for(;r<16;)n[r++]=0;var i=8*this._size,o=(4294967295&i)>>>0,a=(i-o)/4294967296;return a&&(n[14]=h(a)),o&&(n[15]=h(o)),this._int32(n),"hex"===t?this._hex():this._bin()}},{key:"_hex",value:function(){var t=this.A,e=this.B,n=this.C,r=this.D,i=this.E,o=this.F,a=this.G,s=this.H;return l(t)+l(e)+l(n)+l(r)+l(i)+l(o)+l(a)+l(s)}},{key:"_bin",value:function(){var t=this.A,e=this.B,n=this.C,r=this.D,i=this.E,o=this.F,a=this.G,s=this.H,u=this._byte,c=this._word;return c[0]=h(t),c[1]=h(e),c[2]=h(n),c[3]=h(r),c[4]=h(i),c[5]=h(o),c[6]=h(a),c[7]=h(s),u.slice(0,32)}}]),t}();e.Hash=s;var u,c=new Int32Array(64),f=0,l=function(t){return(t+4294967296).toString(16).substr(-8)},h=254===new Uint8Array(new Uint16Array([65279]).buffer)[0]?function(t){return t}:function(t){return t<<24&4278190080|t<<8&16711680|t>>8&65280|t>>24&255},d=function(t,e,n){return n^t&(e^n)},p=function(t,e,n){return t&e|n&(t|e)},v=function(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)},y=function(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)},g=function(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3},m=function(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}},1631:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return f}));var r=n(5),i=n(10),o=n(13),a=n(14),s=n(11),u=n(1423),c=function(e){var n=e;if("string"===typeof e)try{n=parseInt(e)}catch(r){n=t.from(e.split("0x").pop()||"","hex")[0]}return{97:s.RenNetwork.Testnet,56:s.RenNetwork.Mainnet}[n]},f=function(t){Object(o.a)(n,t);var e=Object(a.a)(n);function n(t){var o;return Object(i.a)(this,n),(o=e.call(this,Object(r.a)({networkIdMapper:c},t))).supportsTestnet=!0,o.getProvider=function(){return window.BinanceChain},o}return n}(u.a)}).call(this,n(4).Buffer)},1632:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var r=n(2),i=n.n(r),o=n(8),a=n(10),s=n(18),u=n(13),c=n(14),f=function(t){Object(u.a)(r,t);var e=Object(c.a)(r);function r(t){var s;Object(a.a)(this,r),(s=e.call(this,t)).supportsTestnet=!1,s.handleUpdate=function(){s.getStatus().then((function(){var t;(t=s.emitter).emitUpdate.apply(t,arguments)})).catch(Object(o.a)(i.a.mark((function t(){var e,n=arguments;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(e=s).deactivate.apply(e,n));case 1:case"end":return t.stop()}}),t)}))))},s.activate=Object(o.a)(i.a.mark((function t(){var e;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.getProvider();case 2:if(e=t.sent){t.next=5;break}throw Error("Missing Provider");case 5:if(s.mewConnectProvider){t.next=7;break}throw Error("Missing MEWConnect Provider");case 7:return t.next=9,s.cleanup();case 9:if(!e.enable){t.next=12;break}return t.next=12,e.enable().catch((function(t){throw"User closed modal"===t.message&&s.emitter.emitError(new Error("User rejected request")),t}));case 12:return s.mewConnectProvider.on&&s.mewConnectProvider.on("disconnected",s.deactivate),e.on&&(e.on("close",s.deactivate),e.on("networkChanged",s.handleUpdate),e.on("accountsChanged",s.handleUpdate),e.on("chainChanged",s.handleUpdate)),t.abrupt("return",s.getStatus());case 15:case"end":return t.stop()}}),t)}))),s.getProvider=Object(o.a)(i.a.mark((function t(){var e,r,o;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!s.provider){t.next=2;break}return t.abrupt("return",s.provider);case 2:return t.next=4,Promise.all([n.e(0),n.e(4),n.e(7)]).then(n.bind(null,2188)).then((function(t){var e;return null!==(e=null===t||void 0===t?void 0:t.default)&&void 0!==e?e:t}));case 4:return e=t.sent,r=e.Provider,o=new r({windowClosedError:!0}),s.mewConnectProvider=o,s.provider=o.makeWeb3Provider(s.chainId,s.rpc[s.chainId],!0),t.abrupt("return",s.provider);case 10:case"end":return t.stop()}}),t)}))),s.getAccount=Object(o.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.getProvider();case 2:return t.abrupt("return",t.sent.send("eth_accounts",[]).then((function(t){return t[0]})));case 3:case"end":return t.stop()}}),t)}))),s.getRenNetwork=Object(o.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s.provider){t.next=2;break}throw new Error("not initialized");case 2:return t.t0=s,t.next=5,s.provider.send("eth_chainId",[]);case 5:return t.t1=t.sent,t.abrupt("return",t.t0.networkIdMapper.call(t.t0,t.t1));case 7:case"end":return t.stop()}}),t)}))),s.deactivate=function(){var t=Object(o.a)(i.a.mark((function t(e){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.cleanup();case 2:return t.next=4,s.getProvider();case 4:if(!(n=t.sent).close){t.next=8;break}return t.next=8,n.close();case 8:s.provider=void 0,s.emitter.emitDeactivate(e);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),s.chainId=t.chainId;for(var u=0,c=Object.values(t.rpc);u<c.length;u++){var f=c[u];if(!f.startsWith("ws://")&&!f.startsWith("wss://"))throw new Error("rpc must be websocket (wss://)")}return s.rpc=t.rpc,s}return Object(s.a)(r,[{key:"cleanup",value:function(){var t=Object(o.a)(i.a.mark((function t(){var e;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.mewConnectProvider&&this.mewConnectProvider.removeListener&&this.mewConnectProvider.removeListener("disconnected",this.deactivate),t.next=3,this.getProvider();case 3:(e=t.sent).removeListener&&(e.removeListener("close",this.deactivate),e.removeListener("networkChanged",this.handleUpdate),e.removeListener("accountsChanged",this.handleUpdate),e.removeListener("chainChanged",this.handleUpdate));case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),r}(n(1336).a)},1633:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var r=n(2),i=n.n(r),o=n(8),a=n(10),s=n(18),u=n(13),c=n(14),f=function(t){Object(u.a)(r,t);var e=Object(c.a)(r);function r(t){var s;return Object(a.a)(this,r),(s=e.call(this,t)).supportsTestnet=!1,s.handleUpdate=function(){s.getStatus().then((function(){var t;(t=s.emitter).emitUpdate.apply(t,arguments)})).catch(Object(o.a)(i.a.mark((function t(){var e,n=arguments;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.error("Failed to get status"),(e=s).deactivate.apply(e,n);case 2:case"end":return t.stop()}}),t)}))))},s.activate=Object(o.a)(i.a.mark((function t(){var e;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s.debug&&console.debug("activating"),t.next=3,s.cleanup();case 3:return s.debug&&console.debug("cleaned up old listeners"),t.next=6,s.getProvider();case 6:if(e=t.sent,s.debug&&console.debug("got provider"),e){t.next=10;break}throw Error("Missing Provider");case 10:if(e.wc.connected){t.next=14;break}return s.debug&&console.debug("creating session"),t.next=14,e.wc.createSession({chainId:Number(Object.keys(s.rpc)[0])});case 14:return s.debug&&console.debug("enabling"),t.next=17,e.enable().catch((function(t){throw console.error(t),"User closed modal"===t.message&&s.emitter.emitError(new Error("User rejected request")),t}));case 17:return s.debug&&console.debug("enabled"),e.on("close",s.deactivate),e.on("networkChanged",s.handleUpdate),e.on("accountsChanged",s.handleUpdate),e.on("chainChanged",s.handleUpdate),t.abrupt("return",s.getStatus());case 23:case"end":return t.stop()}}),t)}))),s.getProvider=Object(o.a)(i.a.mark((function t(){var e;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s.debug&&console.debug("getting provider"),!s.provider){t.next=3;break}return t.abrupt("return",s.provider);case 3:return s.debug&&console.debug("getting module"),t.next=6,Promise.all([n.e(0),n.e(6),n.e(9)]).then(n.t.bind(null,2067,7)).then((function(t){var e;return null!==(e=null===t||void 0===t?void 0:t.default)&&void 0!==e?e:t}));case 6:return e=t.sent,s.debug&&console.debug("building provider"),s.provider=new e({bridge:s.bridge,rpc:s.rpc,qrcode:s.qrcode,pollingInterval:s.pollingInterval}),t.abrupt("return",s.provider);case 10:case"end":return t.stop()}}),t)}))),s.deactivate=function(){var t=Object(o.a)(i.a.mark((function t(e){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.cleanup();case 2:return t.next=4,s.getProvider();case 4:return(n=t.sent).removeListener&&n.removeListener("close",s.deactivate),t.next=8,n.close();case 8:s.provider=void 0,s.emitter.emitDeactivate(e);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),s.bridge=t.bridge,s.rpc=t.rpc,s}return Object(s.a)(r,[{key:"getAccount",value:function(){var t=Object(o.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getProvider();case 2:return t.abrupt("return",t.sent.send("eth_accounts").then((function(t){return t[0]})));case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"getRenNetwork",value:function(){var t=Object(o.a)(i.a.mark((function t(){return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.provider){t.next=2;break}throw new Error("not initialized");case 2:return t.t0=this,t.next=5,this.provider.send("eth_chainId");case 5:return t.t1=t.sent,t.abrupt("return",t.t0.networkIdMapper.call(t.t0,t.t1));case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"cleanup",value:function(){var t=Object(o.a)(i.a.mark((function t(){var e;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.getProvider();case 2:(e=t.sent).removeListener&&(e.removeListener("close",this.deactivate),e.removeListener("networkChanged",this.handleUpdate),e.removeListener("accountsChanged",this.handleUpdate),e.removeListener("chainChanged",this.handleUpdate));case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()}]),r}(n(1336).a)},1634:function(t,e,n){"use strict";t.exports=function t(e,n){if(e===n)return!0;if(e&&n&&"object"==typeof e&&"object"==typeof n){if(e.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(e)){if((r=e.length)!=n.length)return!1;for(i=r;0!==i--;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if((r=(o=Object.keys(e)).length)!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!==i--;){var a=o[i];if(("_owner"!==a||!e.$$typeof)&&!t(e[a],n[a]))return!1}return!0}return e!==e&&n!==n}},1635:function(t,e,n){"use strict";var r=n(125),i=n(138);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=i(n(0)),a=(0,r(n(139)).default)(o.createElement("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu");e.default=a},2187:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(0);var i=function(t,e,n){var i=Object(r.useRef)();Object(r.useEffect)((function(){var r=(null===n||void 0===n?void 0:n.current)||window;if(r&&r.addEventListener){i.current!==e&&(i.current=e);var o=function(t){(null===i||void 0===i?void 0:i.current)&&i.current(t)};return r.addEventListener(t,o),function(){r.removeEventListener(t,o)}}}),[t,n,e])};var o=function(t,e){var n=function(){if("undefined"===typeof window)return e;try{var n=window.localStorage.getItem(t);return n?function(t){try{return"undefined"===t?void 0:JSON.parse(null!==t&&void 0!==t?t:"")}catch(e){return void console.log("parsing error on",{value:t})}}(n):e}catch(r){return console.warn("Error reading localStorage key \u201c"+t+"\u201d:",r),e}},o=Object(r.useState)(n),a=o[0],s=o[1];Object(r.useEffect)((function(){s(n())}),[]);var u=function(){s(n())};return i("storage",u),i("local-storage",u),[a,function(e){"undefined"==typeof window&&console.warn("Tried setting localStorage key \u201c"+t+"\u201d even though environment is not a client");try{var n=e instanceof Function?e(a):e;window.localStorage.setItem(t,JSON.stringify(n)),s(n),window.dispatchEvent(new Event("local-storage"))}catch(r){console.warn("Error setting localStorage key \u201c"+t+"\u201d:",r)}}]}},2190:function(t,e,n){"use strict";var r=n(6),i=n(15),o=n(0),a=(n(1281),n(22),n(17)),s=n(26),u=n(60),c=n(280),f=n(168),l=n(458),h=n(244),d=n(1553),p=n(1153),v=n(658);function y(t,e){var n=0;return"number"===typeof e?n=e:"center"===e?n=t.height/2:"bottom"===e&&(n=t.height),n}function g(t,e){var n=0;return"number"===typeof e?n=e:"center"===e?n=t.width/2:"right"===e&&(n=t.width),n}function m(t){return[t.horizontal,t.vertical].map((function(t){return"number"===typeof t?"".concat(t,"px"):t})).join(" ")}function b(t){return"function"===typeof t?t():t}var w=o.forwardRef((function(t,e){var n=t.action,s=t.anchorEl,w=t.anchorOrigin,_=void 0===w?{vertical:"top",horizontal:"left"}:w,E=t.anchorPosition,O=t.anchorReference,I=void 0===O?"anchorEl":O,S=t.children,T=t.classes,x=t.className,k=t.container,j=t.elevation,A=void 0===j?8:j,N=t.getContentAnchorEl,P=t.marginThreshold,C=void 0===P?16:P,R=t.onEnter,D=t.onEntered,L=t.onEntering,M=t.onExit,U=t.onExited,B=t.onExiting,F=t.open,V=t.PaperProps,H=void 0===V?{}:V,q=t.transformOrigin,G=void 0===q?{vertical:"top",horizontal:"left"}:q,W=t.TransitionComponent,K=void 0===W?p.a:W,z=t.transitionDuration,X=void 0===z?"auto":z,Y=t.TransitionProps,$=void 0===Y?{}:Y,J=Object(i.a)(t,["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","classes","className","container","elevation","getContentAnchorEl","marginThreshold","onEnter","onEntered","onEntering","onExit","onExited","onExiting","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"]),Q=o.useRef(),Z=o.useCallback((function(t){if("anchorPosition"===I)return E;var e=b(s),n=(e&&1===e.nodeType?e:Object(f.a)(Q.current).body).getBoundingClientRect(),r=0===t?_.vertical:"center";return{top:n.top+y(n,r),left:n.left+g(n,_.horizontal)}}),[s,_.horizontal,_.vertical,E,I]),tt=o.useCallback((function(t){var e=0;if(N&&"anchorEl"===I){var n=N(t);if(n&&t.contains(n)){var r=function(t,e){for(var n=e,r=0;n&&n!==t;)r+=(n=n.parentElement).scrollTop;return r}(t,n);e=n.offsetTop+n.clientHeight/2-r||0}0}return e}),[_.vertical,I,N]),et=o.useCallback((function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{vertical:y(t,G.vertical)+e,horizontal:g(t,G.horizontal)}}),[G.horizontal,G.vertical]),nt=o.useCallback((function(t){var e=tt(t),n={width:t.offsetWidth,height:t.offsetHeight},r=et(n,e);if("none"===I)return{top:null,left:null,transformOrigin:m(r)};var i=Z(e),o=i.top-r.vertical,a=i.left-r.horizontal,u=o+n.height,c=a+n.width,f=Object(l.a)(b(s)),h=f.innerHeight-C,d=f.innerWidth-C;if(o<C){var p=o-C;o-=p,r.vertical+=p}else if(u>h){var v=u-h;o-=v,r.vertical+=v}if(a<C){var y=a-C;a-=y,r.horizontal+=y}else if(c>d){var g=c-d;a-=g,r.horizontal+=g}return{top:"".concat(Math.round(o),"px"),left:"".concat(Math.round(a),"px"),transformOrigin:m(r)}}),[s,I,Z,tt,et,C]),rt=o.useCallback((function(){var t=Q.current;if(t){var e=nt(t);null!==e.top&&(t.style.top=e.top),null!==e.left&&(t.style.left=e.left),t.style.transformOrigin=e.transformOrigin}}),[nt]),it=o.useCallback((function(t){Q.current=u.findDOMNode(t)}),[]);o.useEffect((function(){F&&rt()})),o.useImperativeHandle(n,(function(){return F?{updatePosition:function(){rt()}}:null}),[F,rt]),o.useEffect((function(){if(F){var t=Object(c.a)((function(){rt()}));return window.addEventListener("resize",t),function(){t.clear(),window.removeEventListener("resize",t)}}}),[F,rt]);var ot=X;"auto"!==X||K.muiSupportAuto||(ot=void 0);var at=k||(s?Object(f.a)(b(s)).body:void 0);return o.createElement(d.a,Object(r.a)({container:at,open:F,ref:e,BackdropProps:{invisible:!0},className:Object(a.a)(T.root,x)},J),o.createElement(K,Object(r.a)({appear:!0,in:F,onEnter:R,onEntered:D,onExit:M,onExited:U,onExiting:B,timeout:ot},$,{onEntering:Object(h.a)((function(t,e){L&&L(t,e),rt()}),$.onEntering)}),o.createElement(v.a,Object(r.a)({elevation:A,ref:it},H,{className:Object(a.a)(T.paper,H.className)}),S)))})),_=Object(s.a)({root:{},paper:{position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}},{name:"MuiPopover"})(w),E=n(1331),O=o.forwardRef((function(t,e){var n=t.children,s=t.classes,u=t.className,c=t.component,f=void 0===c?"ul":c,l=t.dense,h=void 0!==l&&l,d=t.disablePadding,p=void 0!==d&&d,v=t.subheader,y=Object(i.a)(t,["children","classes","className","component","dense","disablePadding","subheader"]),g=o.useMemo((function(){return{dense:h}}),[h]);return o.createElement(E.a.Provider,{value:g},o.createElement(f,Object(r.a)({className:Object(a.a)(s.root,u,h&&s.dense,!p&&s.padding,v&&s.subheader),ref:e},y),v,n))})),I=Object(s.a)({root:{listStyle:"none",margin:0,padding:0,position:"relative"},padding:{paddingTop:8,paddingBottom:8},dense:{},subheader:{paddingTop:0}},{name:"MuiList"})(O),S=n(1401),T=n(46);function x(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function k(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function j(t,e){if(void 0===e)return!0;var n=t.innerText;return void 0===n&&(n=t.textContent),0!==(n=n.trim().toLowerCase()).length&&(e.repeating?n[0]===e.keys[0]:0===n.indexOf(e.keys.join("")))}function A(t,e,n,r,i,o){for(var a=!1,s=i(t,e,!!e&&n);s;){if(s===t.firstChild){if(a)return;a=!0}var u=!r&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&j(s,o)&&!u)return void s.focus();s=i(t,s,n)}}var N="undefined"===typeof window?o.useEffect:o.useLayoutEffect,P=o.forwardRef((function(t,e){var n=t.actions,a=t.autoFocus,s=void 0!==a&&a,c=t.autoFocusItem,l=void 0!==c&&c,h=t.children,d=t.className,p=t.disabledItemsFocusable,v=void 0!==p&&p,y=t.disableListWrap,g=void 0!==y&&y,m=t.onKeyDown,b=t.variant,w=void 0===b?"selectedMenu":b,_=Object(i.a)(t,["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"]),E=o.useRef(null),O=o.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});N((function(){s&&E.current.focus()}),[s]),o.useImperativeHandle(n,(function(){return{adjustStyleForScrollbar:function(t,e){var n=!E.current.style.width;if(t.clientHeight<E.current.clientHeight&&n){var r="".concat(Object(S.a)(!0),"px");E.current.style["rtl"===e.direction?"paddingLeft":"paddingRight"]=r,E.current.style.width="calc(100% + ".concat(r,")")}return E.current}}}),[]);var P=o.useCallback((function(t){E.current=u.findDOMNode(t)}),[]),C=Object(T.a)(P,e),R=-1;o.Children.forEach(h,(function(t,e){o.isValidElement(t)&&(t.props.disabled||("selectedMenu"===w&&t.props.selected||-1===R)&&(R=e))}));var D=o.Children.map(h,(function(t,e){if(e===R){var n={};return l&&(n.autoFocus=!0),void 0===t.props.tabIndex&&"selectedMenu"===w&&(n.tabIndex=0),o.cloneElement(t,n)}return t}));return o.createElement(I,Object(r.a)({role:"menu",ref:C,className:d,onKeyDown:function(t){var e=E.current,n=t.key,r=Object(f.a)(e).activeElement;if("ArrowDown"===n)t.preventDefault(),A(e,r,g,v,x);else if("ArrowUp"===n)t.preventDefault(),A(e,r,g,v,k);else if("Home"===n)t.preventDefault(),A(e,null,g,v,x);else if("End"===n)t.preventDefault(),A(e,null,g,v,k);else if(1===n.length){var i=O.current,o=n.toLowerCase(),a=performance.now();i.keys.length>0&&(a-i.lastTime>500?(i.keys=[],i.repeating=!0,i.previousKeyMatched=!0):i.repeating&&o!==i.keys[0]&&(i.repeating=!1)),i.lastTime=a,i.keys.push(o);var s=r&&!i.repeating&&j(r,i);i.previousKeyMatched&&(s||A(e,r,!1,v,x,i))?t.preventDefault():i.previousKeyMatched=!1}m&&m(t)},tabIndex:s?0:-1},_),D)})),C=n(121),R=n(127),D={vertical:"top",horizontal:"right"},L={vertical:"top",horizontal:"left"},M=o.forwardRef((function(t,e){var n=t.autoFocus,s=void 0===n||n,c=t.children,f=t.classes,l=t.disableAutoFocusItem,h=void 0!==l&&l,d=t.MenuListProps,p=void 0===d?{}:d,v=t.onClose,y=t.onEntering,g=t.open,m=t.PaperProps,b=void 0===m?{}:m,w=t.PopoverClasses,E=t.transitionDuration,O=void 0===E?"auto":E,I=t.variant,S=void 0===I?"selectedMenu":I,T=Object(i.a)(t,["autoFocus","children","classes","disableAutoFocusItem","MenuListProps","onClose","onEntering","open","PaperProps","PopoverClasses","transitionDuration","variant"]),x=Object(R.a)(),k=s&&!h&&g,j=o.useRef(null),A=o.useRef(null),N=-1;o.Children.map(c,(function(t,e){o.isValidElement(t)&&(t.props.disabled||("menu"!==S&&t.props.selected||-1===N)&&(N=e))}));var M=o.Children.map(c,(function(t,e){return e===N?o.cloneElement(t,{ref:function(e){A.current=u.findDOMNode(e),Object(C.a)(t.ref,e)}}):t}));return o.createElement(_,Object(r.a)({getContentAnchorEl:function(){return A.current},classes:w,onClose:v,onEntering:function(t,e){j.current&&j.current.adjustStyleForScrollbar(t,x),y&&y(t,e)},anchorOrigin:"rtl"===x.direction?D:L,transformOrigin:"rtl"===x.direction?D:L,PaperProps:Object(r.a)({},b,{classes:Object(r.a)({},b.classes,{root:f.paper})}),open:g,ref:e,transitionDuration:O},T),o.createElement(P,Object(r.a)({onKeyDown:function(t){"Tab"===t.key&&(t.preventDefault(),v&&v(t,"tabKeyDown"))},actions:j,autoFocus:s&&(-1===N||h),autoFocusItem:k,variant:S},p,{className:Object(a.a)(f.list,p.className)}),M))}));e.a=Object(s.a)({paper:{maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"},list:{outline:0}},{name:"MuiMenu"})(M)},2192:function(t,e,n){"use strict";n.r(e);var r=n(1230),i=n(16),o=n(1319),a={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},s=function(t){function e(n,r,i){var o=t.call(this,r)||this;return Object.setPrototypeOf(o,e.prototype),o.code=n,o.details=i,o}return Object(i.__extends)(e,t),e}(Error);var u=function(){function t(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then((function(t){return n.auth=t}),(function(){})),this.messaging||e.get().then((function(t){return n.messaging=t}),(function(){}))}return t.prototype.getAuthToken=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t;return Object(i.__generator)(this,(function(e){switch(e.label){case 0:if(!this.auth)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(t=e.sent())?[2,t.accessToken]:[2,void 0];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},t.prototype.getInstanceIdToken=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){return Object(i.__generator)(this,(function(t){if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];try{return[2,this.messaging.getToken()]}catch(e){return[2,void 0]}return[2]}))}))},t.prototype.getContext=function(){return Object(i.__awaiter)(this,void 0,void 0,(function(){var t,e;return Object(i.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}}))}))},t}();function c(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var f=function(){function t(){}return t.prototype.encode=function(t){var e=this;if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"===typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(Array.isArray(t))return t.map((function(t){return e.encode(t)}));if("function"===typeof t||"object"===typeof t)return c(t,(function(t){return e.encode(t)}));throw new Error("Data cannot be encoded in JSON: "+t)},t.prototype.decode=function(t){var e=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map((function(t){return e.decode(t)})):"function"===typeof t||"object"===typeof t?c(t,(function(t){return e.decode(t)})):t},t}();var l=function(){function t(t,e,n,r,i){var o=this;void 0===r&&(r="us-central1"),this.app_=t,this.fetchImpl=i,this.serializer=new f,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(o.deleteService())}},this.contextProvider=new u(e,n),this.cancelAllRequests=new Promise((function(t){o.deleteService=function(){return t()}}));try{var a=new URL(r);this.customDomain=a.origin,this.region="us-central1"}catch(s){this.customDomain=null,this.region=r}}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(t){var e=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+e+"/"+this.region+"/"+t:null!==this.customDomain?this.customDomain+"/"+t:"https://"+this.region+"-"+e+".cloudfunctions.net/"+t},t.prototype.useEmulator=function(t,e){this.emulatorOrigin="http://"+t+":"+e},t.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},t.prototype.httpsCallable=function(t,e){var n=this;return function(r){return n.call(t,r,e||{})}},t.prototype.postJSON=function(t,e,n){return Object(i.__awaiter)(this,void 0,void 0,(function(){var r,o;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:n["Content-Type"]="application/json",i.label=1;case 1:return i.trys.push([1,3,,4]),[4,this.fetchImpl(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 2:return r=i.sent(),[3,4];case 3:return i.sent(),[2,{status:0,json:null}];case 4:o=null,i.label=5;case 5:return i.trys.push([5,7,,8]),[4,r.json()];case 6:return o=i.sent(),[3,8];case 7:return i.sent(),[3,8];case 8:return[2,{status:r.status,json:o}]}}))}))},t.prototype.call=function(t,e,n){return Object(i.__awaiter)(this,void 0,void 0,(function(){var r,o,u,c,f,l,d,p,v,y,g;return Object(i.__generator)(this,(function(i){switch(i.label){case 0:return r=this._url(t),e=this.serializer.encode(e),o={data:e},u={},[4,this.contextProvider.getContext()];case 1:return(c=i.sent()).authToken&&(u.Authorization="Bearer "+c.authToken),c.instanceIdToken&&(u["Firebase-Instance-ID-Token"]=c.instanceIdToken),f=n.timeout||7e4,l=function(t){var e,n=new Promise((function(n,r){e=setTimeout((function(){r(new s("deadline-exceeded","deadline-exceeded"))}),t)}));return{timer:e,promise:n}}(f),d=l.timer,p=l.promise,[4,Promise.race([h(d,this.postJSON(r,o,u)),p,h(d,this.cancelAllRequests)])];case 2:if(!(v=i.sent()))throw new s("cancelled","Firebase Functions instance was deleted.");if(y=function(t,e,n){var r=function(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),i=r,o=void 0;try{var u=e&&e.error;if(u){var c=u.status;if("string"===typeof c){if(!a[c])return new s("internal","internal");r=a[c],i=c}var f=u.message;"string"===typeof f&&(i=f),void 0!==(o=u.details)&&(o=n.decode(o))}}catch(l){}return"ok"===r?null:new s(r,i,o)}(v.status,v.json,this.serializer))throw y;if(!v.json)throw new s("internal","Response is not valid JSON object.");if("undefined"===typeof(g=v.json.data)&&(g=v.json.result),"undefined"===typeof g)throw new s("internal","Response is missing data field.");return[2,{data:this.serializer.decode(g)}]}}))}))},t}();function h(t,e){return Object(i.__awaiter)(this,void 0,void 0,(function(){var n;return Object(i.__generator)(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}}))}))}!function(t,e){var n={Functions:l};t.INTERNAL.registerComponent(new o.a("functions",(function(t,n){var r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),o=t.getProvider("messaging");return new l(r,i,o,n,e)}),"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}(r.a,fetch.bind(self)),r.a.registerVersion("@firebase/functions","0.6.1")},2206:function(t,e,n){"use strict";var r=n(15),i=n(51),o=n(6),a=n(0),s=(n(22),n(17)),u=n(26),c=n(622),f=n(35),l=a.forwardRef((function(t,e){var n=t.classes,i=t.className,u=t.disabled,l=void 0!==u&&u,h=t.disableFocusRipple,d=void 0!==h&&h,p=t.fullWidth,v=t.icon,y=t.indicator,g=t.label,m=t.onChange,b=t.onClick,w=t.onFocus,_=t.selected,E=t.selectionFollowsFocus,O=t.textColor,I=void 0===O?"inherit":O,S=t.value,T=t.wrapped,x=void 0!==T&&T,k=Object(r.a)(t,["classes","className","disabled","disableFocusRipple","fullWidth","icon","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"]);return a.createElement(c.a,Object(o.a)({focusRipple:!d,className:Object(s.a)(n.root,n["textColor".concat(Object(f.a)(I))],i,l&&n.disabled,_&&n.selected,g&&v&&n.labelIcon,p&&n.fullWidth,x&&n.wrapped),ref:e,role:"tab","aria-selected":_,disabled:l,onClick:function(t){m&&m(t,S),b&&b(t)},onFocus:function(t){E&&!_&&m&&m(t,S),w&&w(t)},tabIndex:_?0:-1},k),a.createElement("span",{className:n.wrapper},v,g),y)}));e.a=Object(u.a)((function(t){var e;return{root:Object(o.a)({},t.typography.button,(e={maxWidth:264,minWidth:72,position:"relative",boxSizing:"border-box",minHeight:48,flexShrink:0,padding:"6px 12px"},Object(i.a)(e,t.breakpoints.up("sm"),{padding:"6px 24px"}),Object(i.a)(e,"overflow","hidden"),Object(i.a)(e,"whiteSpace","normal"),Object(i.a)(e,"textAlign","center"),Object(i.a)(e,t.breakpoints.up("sm"),{minWidth:160}),e)),labelIcon:{minHeight:72,paddingTop:9,"& $wrapper > *:first-child":{marginBottom:6}},textColorInherit:{color:"inherit",opacity:.7,"&$selected":{opacity:1},"&$disabled":{opacity:.5}},textColorPrimary:{color:t.palette.text.secondary,"&$selected":{color:t.palette.primary.main},"&$disabled":{color:t.palette.text.disabled}},textColorSecondary:{color:t.palette.text.secondary,"&$selected":{color:t.palette.secondary.main},"&$disabled":{color:t.palette.text.disabled}},selected:{},disabled:{},fullWidth:{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},wrapped:{fontSize:t.typography.pxToRem(12),lineHeight:1.5},wrapper:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"100%",flexDirection:"column"}}}),{name:"MuiTab"})(l)},2207:function(t,e,n){"use strict";var r=n(6),i=n(15),o=n(0),a=(n(22),n(17)),s=n(26),u=n(190),c=o.forwardRef((function(t,e){var n=t.children,s=t.classes,c=t.className,f=t.disableTypography,l=void 0!==f&&f,h=Object(i.a)(t,["children","classes","className","disableTypography"]);return o.createElement("div",Object(r.a)({className:Object(a.a)(s.root,c),ref:e},h),l?n:o.createElement(u.a,{component:"h2",variant:"h6"},n))}));e.a=Object(s.a)({root:{margin:0,padding:"16px 24px",flex:"0 0 auto"}},{name:"MuiDialogTitle"})(c)},2208:function(t,e,n){"use strict";var r=n(6),i=n(15),o=n(51),a=n(0),s=(n(22),n(17)),u=n(26),c=n(35),f=n(1553),l=n(2209),h=n(1121),d=n(151),p=n(658),v={enter:d.b.enteringScreen,exit:d.b.leavingScreen},y=a.forwardRef((function(t,e){var n=t.BackdropProps,o=t.children,u=t.classes,d=t.className,y=t.disableBackdropClick,g=void 0!==y&&y,m=t.disableEscapeKeyDown,b=void 0!==m&&m,w=t.fullScreen,_=void 0!==w&&w,E=t.fullWidth,O=void 0!==E&&E,I=t.maxWidth,S=void 0===I?"sm":I,T=t.onBackdropClick,x=t.onClose,k=t.onEnter,j=t.onEntered,A=t.onEntering,N=t.onEscapeKeyDown,P=t.onExit,C=t.onExited,R=t.onExiting,D=t.open,L=t.PaperComponent,M=void 0===L?p.a:L,U=t.PaperProps,B=void 0===U?{}:U,F=t.scroll,V=void 0===F?"paper":F,H=t.TransitionComponent,q=void 0===H?h.a:H,G=t.transitionDuration,W=void 0===G?v:G,K=t.TransitionProps,z=t["aria-describedby"],X=t["aria-labelledby"],Y=Object(i.a)(t,["BackdropProps","children","classes","className","disableBackdropClick","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","onEnter","onEntered","onEntering","onEscapeKeyDown","onExit","onExited","onExiting","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps","aria-describedby","aria-labelledby"]),$=a.useRef();return a.createElement(f.a,Object(r.a)({className:Object(s.a)(u.root,d),BackdropComponent:l.a,BackdropProps:Object(r.a)({transitionDuration:W},n),closeAfterTransition:!0,disableBackdropClick:g,disableEscapeKeyDown:b,onEscapeKeyDown:N,onClose:x,open:D,ref:e},Y),a.createElement(q,Object(r.a)({appear:!0,in:D,timeout:W,onEnter:k,onEntering:A,onEntered:j,onExit:P,onExiting:R,onExited:C,role:"none presentation"},K),a.createElement("div",{className:Object(s.a)(u.container,u["scroll".concat(Object(c.a)(V))]),onMouseUp:function(t){t.target===t.currentTarget&&t.target===$.current&&($.current=null,T&&T(t),!g&&x&&x(t,"backdropClick"))},onMouseDown:function(t){$.current=t.target}},a.createElement(M,Object(r.a)({elevation:24,role:"dialog","aria-describedby":z,"aria-labelledby":X},B,{className:Object(s.a)(u.paper,u["paperScroll".concat(Object(c.a)(V))],u["paperWidth".concat(Object(c.a)(String(S)))],B.className,_&&u.paperFullScreen,O&&u.paperFullWidth)}),o))))}));e.a=Object(u.a)((function(t){return{root:{"@media print":{position:"absolute !important"}},scrollPaper:{display:"flex",justifyContent:"center",alignItems:"center"},scrollBody:{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}},container:{height:"100%","@media print":{height:"auto"},outline:0},paper:{margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},paperScrollPaper:{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},paperScrollBody:{display:"inline-block",verticalAlign:"middle",textAlign:"left"},paperWidthFalse:{maxWidth:"calc(100% - 64px)"},paperWidthXs:{maxWidth:Math.max(t.breakpoints.values.xs,444),"&$paperScrollBody":Object(o.a)({},t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64),{maxWidth:"calc(100% - 64px)"})},paperWidthSm:{maxWidth:t.breakpoints.values.sm,"&$paperScrollBody":Object(o.a)({},t.breakpoints.down(t.breakpoints.values.sm+64),{maxWidth:"calc(100% - 64px)"})},paperWidthMd:{maxWidth:t.breakpoints.values.md,"&$paperScrollBody":Object(o.a)({},t.breakpoints.down(t.breakpoints.values.md+64),{maxWidth:"calc(100% - 64px)"})},paperWidthLg:{maxWidth:t.breakpoints.values.lg,"&$paperScrollBody":Object(o.a)({},t.breakpoints.down(t.breakpoints.values.lg+64),{maxWidth:"calc(100% - 64px)"})},paperWidthXl:{maxWidth:t.breakpoints.values.xl,"&$paperScrollBody":Object(o.a)({},t.breakpoints.down(t.breakpoints.values.xl+64),{maxWidth:"calc(100% - 64px)"})},paperFullWidth:{width:"calc(100% - 64px)"},paperFullScreen:{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,"&$paperScrollBody":{margin:0,maxWidth:"100%"}}}}),{name:"MuiDialog"})(y)},2209:function(t,e,n){"use strict";var r=n(6),i=n(15),o=n(0),a=(n(22),n(17)),s=n(26),u=n(1121),c=o.forwardRef((function(t,e){var n=t.children,s=t.classes,c=t.className,f=t.invisible,l=void 0!==f&&f,h=t.open,d=t.transitionDuration,p=t.TransitionComponent,v=void 0===p?u.a:p,y=Object(i.a)(t,["children","classes","className","invisible","open","transitionDuration","TransitionComponent"]);return o.createElement(v,Object(r.a)({in:h,timeout:d},y),o.createElement("div",{className:Object(a.a)(s.root,c,l&&s.invisible),"aria-hidden":!0,ref:e},n))}));e.a=Object(s.a)({root:{zIndex:-1,position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},invisible:{backgroundColor:"transparent"}},{name:"MuiBackdrop"})(c)},2210:function(t,e,n){"use strict";var r=n(0);e.a=function(t,e){var n=Object(r.useRef)((function(){}));Object(r.useEffect)((function(){n.current=t})),Object(r.useEffect)((function(){if(null!==e){var t=setInterval((function(){return n.current()}),e||0);return function(){return clearInterval(t)}}}),[e])}},2211:function(t,e,n){"use strict";var r=n(6),i=n(15),o=n(0),a=(n(22),n(17)),s=n(1329),u=n(26),c=n(35),f=n(460),l=n(1330),h=o.forwardRef((function(t,e){var n=t.children,u=t.classes,h=t.className,d=t.color,p=void 0===d?"primary":d,v=t.component,y=void 0===v?"div":v,g=t.disabled,m=void 0!==g&&g,b=t.error,w=void 0!==b&&b,_=t.fullWidth,E=void 0!==_&&_,O=t.focused,I=t.hiddenLabel,S=void 0!==I&&I,T=t.margin,x=void 0===T?"none":T,k=t.required,j=void 0!==k&&k,A=t.size,N=t.variant,P=void 0===N?"standard":N,C=Object(i.a)(t,["children","classes","className","color","component","disabled","error","fullWidth","focused","hiddenLabel","margin","required","size","variant"]),R=o.useState((function(){var t=!1;return n&&o.Children.forEach(n,(function(e){if(Object(f.a)(e,["Input","Select"])){var n=Object(f.a)(e,["Select"])?e.props.input:e;n&&Object(s.a)(n.props)&&(t=!0)}})),t})),D=R[0],L=R[1],M=o.useState((function(){var t=!1;return n&&o.Children.forEach(n,(function(e){Object(f.a)(e,["Input","Select"])&&Object(s.b)(e.props,!0)&&(t=!0)})),t})),U=M[0],B=M[1],F=o.useState(!1),V=F[0],H=F[1],q=void 0!==O?O:V;m&&q&&H(!1);var G=o.useCallback((function(){B(!0)}),[]),W={adornedStart:D,setAdornedStart:L,color:p,disabled:m,error:w,filled:U,focused:q,fullWidth:E,hiddenLabel:S,margin:("small"===A?"dense":void 0)||x,onBlur:function(){H(!1)},onEmpty:o.useCallback((function(){B(!1)}),[]),onFilled:G,onFocus:function(){H(!0)},registerEffect:undefined,required:j,variant:P};return o.createElement(l.a.Provider,{value:W},o.createElement(y,Object(r.a)({className:Object(a.a)(u.root,h,"none"!==x&&u["margin".concat(Object(c.a)(x))],E&&u.fullWidth),ref:e},C),n))}));e.a=Object(u.a)({root:{display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},marginNormal:{marginTop:16,marginBottom:8},marginDense:{marginTop:8,marginBottom:4},fullWidth:{width:"100%"}},{name:"MuiFormControl"})(h)},2212:function(t,e,n){"use strict";var r=n(6),i=n(15),o=n(0),a=(n(22),n(17)),s=n(1231),u=n(26),c=n(190),f=n(35),l=o.forwardRef((function(t,e){t.checked;var n=t.classes,u=t.className,l=t.control,h=t.disabled,d=(t.inputRef,t.label),p=t.labelPlacement,v=void 0===p?"end":p,y=(t.name,t.onChange,t.value,Object(i.a)(t,["checked","classes","className","control","disabled","inputRef","label","labelPlacement","name","onChange","value"])),g=Object(s.a)(),m=h;"undefined"===typeof m&&"undefined"!==typeof l.props.disabled&&(m=l.props.disabled),"undefined"===typeof m&&g&&(m=g.disabled);var b={disabled:m};return["checked","name","onChange","value","inputRef"].forEach((function(e){"undefined"===typeof l.props[e]&&"undefined"!==typeof t[e]&&(b[e]=t[e])})),o.createElement("label",Object(r.a)({className:Object(a.a)(n.root,u,"end"!==v&&n["labelPlacement".concat(Object(f.a)(v))],m&&n.disabled),ref:e},y),o.cloneElement(l,b),o.createElement(c.a,{component:"span",className:Object(a.a)(n.label,m&&n.disabled)},d))}));e.a=Object(u.a)((function(t){return{root:{display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,"&$disabled":{cursor:"default"}},labelPlacementStart:{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},labelPlacementTop:{flexDirection:"column-reverse",marginLeft:16},labelPlacementBottom:{flexDirection:"column",marginLeft:16},disabled:{},label:{"&$disabled":{color:t.palette.text.disabled}}}}),{name:"MuiFormControlLabel"})(l)},2213:function(t,e,n){"use strict";var r=n(15),i=n(6),o=n(0),a=(n(22),n(17)),s=n(1232),u=n(1231),c=n(35),f=n(26),l=o.forwardRef((function(t,e){var n=t.children,f=t.classes,l=t.className,h=(t.color,t.component),d=void 0===h?"label":h,p=(t.disabled,t.error,t.filled,t.focused,t.required,Object(r.a)(t,["children","classes","className","color","component","disabled","error","filled","focused","required"])),v=Object(u.a)(),y=Object(s.a)({props:t,muiFormControl:v,states:["color","required","focused","disabled","error","filled"]});return o.createElement(d,Object(i.a)({className:Object(a.a)(f.root,f["color".concat(Object(c.a)(y.color||"primary"))],l,y.disabled&&f.disabled,y.error&&f.error,y.filled&&f.filled,y.focused&&f.focused,y.required&&f.required),ref:e},p),n,y.required&&o.createElement("span",{"aria-hidden":!0,className:Object(a.a)(f.asterisk,y.error&&f.error)},"\u2009","*"))}));e.a=Object(f.a)((function(t){return{root:Object(i.a)({color:t.palette.text.secondary},t.typography.body1,{lineHeight:1,padding:0,"&$focused":{color:t.palette.primary.main},"&$disabled":{color:t.palette.text.disabled},"&$error":{color:t.palette.error.main}}),colorSecondary:{"&$focused":{color:t.palette.secondary.main}},focused:{},disabled:{},error:{},filled:{},required:{},asterisk:{"&$error":{color:t.palette.error.main}}}}),{name:"MuiFormLabel"})(l)},2214:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(0),i=n(1408);function o(t,e,n){void 0===e&&(e=0),void 0===n&&(n=[]);var o=Object(i.a)(t,e),a=o[0],s=o[1],u=o[2];return Object(r.useEffect)(u,n),[a,s]}},2215:function(t,e,n){"use strict";var r=n(6),i=n(15),o=n(0),a=(n(22),n(17)),s=n(2230),u=n(26),c=o.forwardRef((function(t,e){var n=t.disableUnderline,u=t.classes,c=t.fullWidth,f=void 0!==c&&c,l=t.inputComponent,h=void 0===l?"input":l,d=t.multiline,p=void 0!==d&&d,v=t.type,y=void 0===v?"text":v,g=Object(i.a)(t,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return o.createElement(s.a,Object(r.a)({classes:Object(r.a)({},u,{root:Object(a.a)(u.root,!n&&u.underline),underline:null}),fullWidth:f,inputComponent:h,multiline:p,ref:e,type:y},g))}));c.muiName="Input",e.a=Object(u.a)((function(t){var e="light"===t.palette.type?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return{root:{position:"relative"},formControl:{"label + &":{marginTop:16}},focused:{},disabled:{},colorSecondary:{"&$underline:after":{borderBottomColor:t.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(t.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:t.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(e),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:not($disabled):before":{borderBottom:"2px solid ".concat(t.palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(e)}},"&$disabled:before":{borderBottomStyle:"dotted"}},error:{},marginDense:{},multiline:{},fullWidth:{},input:{},inputMarginDense:{},inputMultiline:{},inputTypeSearch:{}}}),{name:"MuiInput"})(c)},2216:function(t,e,n){"use strict";var r=n(6),i=n(15),o=n(0),a=(n(22),n(17)),s=n(2230),u=n(26),c=o.forwardRef((function(t,e){var n=t.disableUnderline,u=t.classes,c=t.fullWidth,f=void 0!==c&&c,l=t.inputComponent,h=void 0===l?"input":l,d=t.multiline,p=void 0!==d&&d,v=t.type,y=void 0===v?"text":v,g=Object(i.a)(t,["disableUnderline","classes","fullWidth","inputComponent","multiline","type"]);return o.createElement(s.a,Object(r.a)({classes:Object(r.a)({},u,{root:Object(a.a)(u.root,!n&&u.underline),underline:null}),fullWidth:f,inputComponent:h,multiline:p,ref:e,type:y},g))}));c.muiName="Input",e.a=Object(u.a)((function(t){var e="light"===t.palette.type,n=e?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",r=e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)";return{root:{position:"relative",backgroundColor:r,borderTopLeftRadius:t.shape.borderRadius,borderTopRightRadius:t.shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:e?"rgba(0, 0, 0, 0.13)":"rgba(255, 255, 255, 0.13)","@media (hover: none)":{backgroundColor:r}},"&$focused":{backgroundColor:e?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.09)"},"&$disabled":{backgroundColor:e?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)"}},colorSecondary:{"&$underline:after":{borderBottomColor:t.palette.secondary.main}},underline:{"&:after":{borderBottom:"2px solid ".concat(t.palette.primary.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},"&$focused:after":{transform:"scaleX(1)"},"&$error:after":{borderBottomColor:t.palette.error.main,transform:"scaleX(1)"},"&:before":{borderBottom:"1px solid ".concat(n),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},"&:hover:before":{borderBottom:"1px solid ".concat(t.palette.text.primary)},"&$disabled:before":{borderBottomStyle:"dotted"}},focused:{},disabled:{},adornedStart:{paddingLeft:12},adornedEnd:{paddingRight:12},error:{},marginDense:{},multiline:{padding:"27px 12px 10px","&$marginDense":{paddingTop:23,paddingBottom:6}},input:{padding:"27px 12px 10px","&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.type?null:"#fff",caretColor:"light"===t.palette.type?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},inputMarginDense:{paddingTop:23,paddingBottom:6},inputHiddenLabel:{paddingTop:18,paddingBottom:19,"&$inputMarginDense":{paddingTop:10,paddingBottom:11}},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiFilledInput"})(c)},2217:function(t,e,n){"use strict";var r=n(6),i=n(15),o=n(0),a=(n(22),n(17)),s=n(26),u=n(35),c=o.forwardRef((function(t,e){var n=t.classes,s=t.className,c=t.color,f=void 0===c?"default":c,l=t.component,h=void 0===l?"li":l,d=t.disableGutters,p=void 0!==d&&d,v=t.disableSticky,y=void 0!==v&&v,g=t.inset,m=void 0!==g&&g,b=Object(i.a)(t,["classes","className","color","component","disableGutters","disableSticky","inset"]);return o.createElement(h,Object(r.a)({className:Object(a.a)(n.root,s,"default"!==f&&n["color".concat(Object(u.a)(f))],m&&n.inset,!y&&n.sticky,!p&&n.gutters),ref:e},b))}));e.a=Object(s.a)((function(t){return{root:{boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:t.palette.text.secondary,fontFamily:t.typography.fontFamily,fontWeight:t.typography.fontWeightMedium,fontSize:t.typography.pxToRem(14)},colorPrimary:{color:t.palette.primary.main},colorInherit:{color:"inherit"},gutters:{paddingLeft:16,paddingRight:16},inset:{paddingLeft:72},sticky:{position:"sticky",top:0,zIndex:1,backgroundColor:"inherit"}}}),{name:"MuiListSubheader"})(c)},2218:function(t,e,n){"use strict";var r=n(15),i=n(51),o=n(6),a=n(0),s=(n(22),n(17)),u=n(26),c=n(2219),f=a.forwardRef((function(t,e){var n,i=t.classes,u=t.className,f=t.component,l=void 0===f?"li":f,h=t.disableGutters,d=void 0!==h&&h,p=t.ListItemClasses,v=t.role,y=void 0===v?"menuitem":v,g=t.selected,m=t.tabIndex,b=Object(r.a)(t,["classes","className","component","disableGutters","ListItemClasses","role","selected","tabIndex"]);return t.disabled||(n=void 0!==m?m:-1),a.createElement(c.a,Object(o.a)({button:!0,role:y,tabIndex:n,component:l,selected:g,disableGutters:d,classes:Object(o.a)({dense:i.dense},p),className:Object(s.a)(i.root,u,g&&i.selected,!d&&i.gutters),ref:e},b))}));e.a=Object(u.a)((function(t){return{root:Object(o.a)({},t.typography.body1,Object(i.a)({minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",width:"auto",overflow:"hidden",whiteSpace:"nowrap"},t.breakpoints.up("sm"),{minHeight:"auto"})),gutters:{},selected:{},dense:Object(o.a)({},t.typography.body2,{minHeight:"auto"})}}),{name:"MuiMenuItem"})(f)},2219:function(t,e,n){"use strict";var r=n(6),i=n(15),o=n(0),a=(n(22),n(17)),s=n(26),u=n(622),c=n(460),f=n(46),l=n(1331),h=n(60),d="undefined"===typeof window?o.useEffect:o.useLayoutEffect,p=o.forwardRef((function(t,e){var n=t.alignItems,s=void 0===n?"center":n,p=t.autoFocus,v=void 0!==p&&p,y=t.button,g=void 0!==y&&y,m=t.children,b=t.classes,w=t.className,_=t.component,E=t.ContainerComponent,O=void 0===E?"li":E,I=t.ContainerProps,S=(I=void 0===I?{}:I).className,T=Object(i.a)(I,["className"]),x=t.dense,k=void 0!==x&&x,j=t.disabled,A=void 0!==j&&j,N=t.disableGutters,P=void 0!==N&&N,C=t.divider,R=void 0!==C&&C,D=t.focusVisibleClassName,L=t.selected,M=void 0!==L&&L,U=Object(i.a)(t,["alignItems","autoFocus","button","children","classes","className","component","ContainerComponent","ContainerProps","dense","disabled","disableGutters","divider","focusVisibleClassName","selected"]),B=o.useContext(l.a),F={dense:k||B.dense||!1,alignItems:s},V=o.useRef(null);d((function(){v&&V.current&&V.current.focus()}),[v]);var H=o.Children.toArray(m),q=H.length&&Object(c.a)(H[H.length-1],["ListItemSecondaryAction"]),G=o.useCallback((function(t){V.current=h.findDOMNode(t)}),[]),W=Object(f.a)(G,e),K=Object(r.a)({className:Object(a.a)(b.root,w,F.dense&&b.dense,!P&&b.gutters,R&&b.divider,A&&b.disabled,g&&b.button,"center"!==s&&b.alignItemsFlexStart,q&&b.secondaryAction,M&&b.selected),disabled:A},U),z=_||"li";return g&&(K.component=_||"div",K.focusVisibleClassName=Object(a.a)(b.focusVisible,D),z=u.a),q?(z=K.component||_?z:"div","li"===O&&("li"===z?z="div":"li"===K.component&&(K.component="div")),o.createElement(l.a.Provider,{value:F},o.createElement(O,Object(r.a)({className:Object(a.a)(b.container,S),ref:W},T),o.createElement(z,K,H),H.pop()))):o.createElement(l.a.Provider,{value:F},o.createElement(z,Object(r.a)({ref:W},K),H))}));e.a=Object(s.a)((function(t){return{root:{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,"&$focusVisible":{backgroundColor:t.palette.action.selected},"&$selected, &$selected:hover":{backgroundColor:t.palette.action.selected},"&$disabled":{opacity:.5}},container:{position:"relative"},focusVisible:{},dense:{paddingTop:4,paddingBottom:4},alignItemsFlexStart:{alignItems:"flex-start"},disabled:{},divider:{borderBottom:"1px solid ".concat(t.palette.divider),backgroundClip:"padding-box"},gutters:{paddingLeft:16,paddingRight:16},button:{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:t.palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},secondaryAction:{paddingRight:48},selected:{}}}),{name:"MuiListItem"})(p)},2220:function(t,e,n){"use strict";var r=n(6),i=n(15),o=n(0),a=(n(22),n(17)),s=n(26),u=o.forwardRef((function(t,e){var n=t.classes,s=t.className,u=t.dividers,c=void 0!==u&&u,f=Object(i.a)(t,["classes","className","dividers"]);return o.createElement("div",Object(r.a)({className:Object(a.a)(n.root,s,c&&n.dividers),ref:e},f))}));e.a=Object(s.a)((function(t){return{root:{flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"8px 24px","&:first-child":{paddingTop:20}},dividers:{padding:"16px 24px",borderTop:"1px solid ".concat(t.palette.divider),borderBottom:"1px solid ".concat(t.palette.divider)}}}),{name:"MuiDialogContent"})(u)},2221:function(t,e,n){"use strict";var r=n(6),i=n(15),o=n(0),a=(n(22),n(17)),s=n(26),u=n(1331),c=o.forwardRef((function(t,e){var n=t.classes,s=t.className,c=Object(i.a)(t,["classes","className"]),f=o.useContext(u.a);return o.createElement("div",Object(r.a)({className:Object(a.a)(n.root,s,"flex-start"===f.alignItems&&n.alignItemsFlexStart),ref:e},c))}));e.a=Object(s.a)((function(t){return{root:{minWidth:56,color:t.palette.action.active,flexShrink:0,display:"inline-flex"},alignItemsFlexStart:{marginTop:8}}}),{name:"MuiListItemIcon"})(c)},2222:function(t,e,n){"use strict";var r=n(6),i=n(15),o=n(0),a=(n(22),n(17)),s=n(1553),u=n(2209),c=n(26),f=n(1147),l=n(658),h=n(35),d=n(151),p=n(127),v={left:"right",right:"left",top:"down",bottom:"up"};var y={enter:d.b.enteringScreen,exit:d.b.leavingScreen},g=o.forwardRef((function(t,e){var n=t.anchor,c=void 0===n?"left":n,d=t.BackdropProps,g=t.children,m=t.classes,b=t.className,w=t.elevation,_=void 0===w?16:w,E=t.ModalProps,O=(E=void 0===E?{}:E).BackdropProps,I=Object(i.a)(E,["BackdropProps"]),S=t.onClose,T=t.open,x=void 0!==T&&T,k=t.PaperProps,j=void 0===k?{}:k,A=t.SlideProps,N=t.TransitionComponent,P=void 0===N?f.a:N,C=t.transitionDuration,R=void 0===C?y:C,D=t.variant,L=void 0===D?"temporary":D,M=Object(i.a)(t,["anchor","BackdropProps","children","classes","className","elevation","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"]),U=Object(p.a)(),B=o.useRef(!1);o.useEffect((function(){B.current=!0}),[]);var F=function(t,e){return"rtl"===t.direction&&function(t){return-1!==["left","right"].indexOf(t)}(e)?v[e]:e}(U,c),V=o.createElement(l.a,Object(r.a)({elevation:"temporary"===L?_:0,square:!0},j,{className:Object(a.a)(m.paper,m["paperAnchor".concat(Object(h.a)(F))],j.className,"temporary"!==L&&m["paperAnchorDocked".concat(Object(h.a)(F))])}),g);if("permanent"===L)return o.createElement("div",Object(r.a)({className:Object(a.a)(m.root,m.docked,b),ref:e},M),V);var H=o.createElement(P,Object(r.a)({in:x,direction:v[F],timeout:R,appear:B.current},A),V);return"persistent"===L?o.createElement("div",Object(r.a)({className:Object(a.a)(m.root,m.docked,b),ref:e},M),H):o.createElement(s.a,Object(r.a)({BackdropProps:Object(r.a)({},d,O,{transitionDuration:R}),BackdropComponent:u.a,className:Object(a.a)(m.root,m.modal,b),open:x,onClose:S,ref:e},M,I),H)}));e.a=Object(c.a)((function(t){return{root:{},docked:{flex:"0 0 auto"},paper:{overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:t.zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},paperAnchorLeft:{left:0,right:"auto"},paperAnchorRight:{left:"auto",right:0},paperAnchorTop:{top:0,left:0,bottom:"auto",right:0,height:"auto",maxHeight:"100%"},paperAnchorBottom:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},paperAnchorDockedLeft:{borderRight:"1px solid ".concat(t.palette.divider)},paperAnchorDockedTop:{borderBottom:"1px solid ".concat(t.palette.divider)},paperAnchorDockedRight:{borderLeft:"1px solid ".concat(t.palette.divider)},paperAnchorDockedBottom:{borderTop:"1px solid ".concat(t.palette.divider)},modal:{}}}),{name:"MuiDrawer",flip:!1})(g)},2224:function(t,e,n){"use strict";var r,i=n(6),o=n(15),a=n(51),s=n(0),u=(n(1281),n(22),n(17)),c=n(280),f=n(458);function l(){if(r)return r;var t=document.createElement("div"),e=document.createElement("div");return e.style.width="10px",e.style.height="1px",t.appendChild(e),t.dir="rtl",t.style.fontSize="14px",t.style.width="4px",t.style.height="1px",t.style.position="absolute",t.style.top="-1000px",t.style.overflow="scroll",document.body.appendChild(t),r="reverse",t.scrollLeft>0?r="default":(t.scrollLeft=1,0===t.scrollLeft&&(r="negative")),document.body.removeChild(t),r}function h(t,e){var n=t.scrollLeft;if("rtl"!==e)return n;switch(l()){case"negative":return t.scrollWidth-t.clientWidth+n;case"reverse":return t.scrollWidth-t.clientWidth-n;default:return n}}function d(t){return(1+Math.sin(Math.PI*t-Math.PI/2))/2}var p={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function v(t){var e=t.onChange,n=Object(o.a)(t,["onChange"]),r=s.useRef(),a=s.useRef(null),u=function(){r.current=a.current.offsetHeight-a.current.clientHeight};return s.useEffect((function(){var t=Object(c.a)((function(){var t=r.current;u(),t!==r.current&&e(r.current)}));return window.addEventListener("resize",t),function(){t.clear(),window.removeEventListener("resize",t)}}),[e]),s.useEffect((function(){u(),e(r.current)}),[e]),s.createElement("div",Object(i.a)({style:p,ref:a},n))}var y=n(26),g=n(35),m=s.forwardRef((function(t,e){var n=t.classes,r=t.className,a=t.color,c=t.orientation,f=Object(o.a)(t,["classes","className","color","orientation"]);return s.createElement("span",Object(i.a)({className:Object(u.a)(n.root,n["color".concat(Object(g.a)(a))],r,"vertical"===c&&n.vertical),ref:e},f))})),b=Object(y.a)((function(t){return{root:{position:"absolute",height:2,bottom:0,width:"100%",transition:t.transitions.create()},colorPrimary:{backgroundColor:t.palette.primary.main},colorSecondary:{backgroundColor:t.palette.secondary.main},vertical:{height:"100%",width:2,right:0}}}),{name:"PrivateTabIndicator"})(m),w=n(452),_=Object(w.a)(s.createElement("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),E=Object(w.a)(s.createElement("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight"),O=n(622),I=s.createElement(_,{fontSize:"small"}),S=s.createElement(E,{fontSize:"small"}),T=s.forwardRef((function(t,e){var n=t.classes,r=t.className,a=t.direction,c=t.orientation,f=t.disabled,l=Object(o.a)(t,["classes","className","direction","orientation","disabled"]);return s.createElement(O.a,Object(i.a)({component:"div",className:Object(u.a)(n.root,r,f&&n.disabled,"vertical"===c&&n.vertical),ref:e,role:null,tabIndex:null},l),"left"===a?I:S)})),x=Object(y.a)({root:{width:40,flexShrink:0,opacity:.8,"&$disabled":{opacity:0}},vertical:{width:"100%",height:40,"& svg":{transform:"rotate(90deg)"}},disabled:{}},{name:"MuiTabScrollButton"})(T),k=n(133),j=n(127),A=s.forwardRef((function(t,e){var n=t["aria-label"],r=t["aria-labelledby"],p=t.action,y=t.centered,g=void 0!==y&&y,m=t.children,w=t.classes,_=t.className,E=t.component,O=void 0===E?"div":E,I=t.indicatorColor,S=void 0===I?"secondary":I,T=t.onChange,A=t.orientation,N=void 0===A?"horizontal":A,P=t.ScrollButtonComponent,C=void 0===P?x:P,R=t.scrollButtons,D=void 0===R?"auto":R,L=t.selectionFollowsFocus,M=t.TabIndicatorProps,U=void 0===M?{}:M,B=t.TabScrollButtonProps,F=t.textColor,V=void 0===F?"inherit":F,H=t.value,q=t.variant,G=void 0===q?"standard":q,W=Object(o.a)(t,["aria-label","aria-labelledby","action","centered","children","classes","className","component","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant"]),K=Object(j.a)(),z="scrollable"===G,X="rtl"===K.direction,Y="vertical"===N,$=Y?"scrollTop":"scrollLeft",J=Y?"top":"left",Q=Y?"bottom":"right",Z=Y?"clientHeight":"clientWidth",tt=Y?"height":"width";var et=s.useState(!1),nt=et[0],rt=et[1],it=s.useState({}),ot=it[0],at=it[1],st=s.useState({start:!1,end:!1}),ut=st[0],ct=st[1],ft=s.useState({overflow:"hidden",marginBottom:null}),lt=ft[0],ht=ft[1],dt=new Map,pt=s.useRef(null),vt=s.useRef(null),yt=function(){var t,e,n=pt.current;if(n){var r=n.getBoundingClientRect();t={clientWidth:n.clientWidth,scrollLeft:n.scrollLeft,scrollTop:n.scrollTop,scrollLeftNormalized:h(n,K.direction),scrollWidth:n.scrollWidth,top:r.top,bottom:r.bottom,left:r.left,right:r.right}}if(n&&!1!==H){var i=vt.current.children;if(i.length>0){var o=i[dt.get(H)];0,e=o?o.getBoundingClientRect():null}}return{tabsMeta:t,tabMeta:e}},gt=Object(k.a)((function(){var t,e=yt(),n=e.tabsMeta,r=e.tabMeta,i=0;if(r&&n)if(Y)i=r.top-n.top+n.scrollTop;else{var o=X?n.scrollLeftNormalized+n.clientWidth-n.scrollWidth:n.scrollLeft;i=r.left-n.left+o}var s=(t={},Object(a.a)(t,J,i),Object(a.a)(t,tt,r?r[tt]:0),t);if(isNaN(ot[J])||isNaN(ot[tt]))at(s);else{var u=Math.abs(ot[J]-s[J]),c=Math.abs(ot[tt]-s[tt]);(u>=1||c>=1)&&at(s)}})),mt=function(t){!function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){},o=r.ease,a=void 0===o?d:o,s=r.duration,u=void 0===s?300:s,c=null,f=e[t],l=!1,h=function(){l=!0},p=function r(o){if(l)i(new Error("Animation cancelled"));else{null===c&&(c=o);var s=Math.min(1,(o-c)/u);e[t]=a(s)*(n-f)+f,s>=1?requestAnimationFrame((function(){i(null)})):requestAnimationFrame(r)}};f===n?i(new Error("Element already at target position")):requestAnimationFrame(p)}($,pt.current,t)},bt=function(t){var e=pt.current[$];Y?e+=t:(e+=t*(X?-1:1),e*=X&&"reverse"===l()?-1:1),mt(e)},wt=function(){bt(-pt.current[Z])},_t=function(){bt(pt.current[Z])},Et=s.useCallback((function(t){ht({overflow:null,marginBottom:-t})}),[]),Ot=Object(k.a)((function(){var t=yt(),e=t.tabsMeta,n=t.tabMeta;if(n&&e)if(n[J]<e[J]){var r=e[$]+(n[J]-e[J]);mt(r)}else if(n[Q]>e[Q]){var i=e[$]+(n[Q]-e[Q]);mt(i)}})),It=Object(k.a)((function(){if(z&&"off"!==D){var t,e,n=pt.current,r=n.scrollTop,i=n.scrollHeight,o=n.clientHeight,a=n.scrollWidth,s=n.clientWidth;if(Y)t=r>1,e=r<i-o-1;else{var u=h(pt.current,K.direction);t=X?u<a-s-1:u>1,e=X?u>1:u<a-s-1}t===ut.start&&e===ut.end||ct({start:t,end:e})}}));s.useEffect((function(){var t=Object(c.a)((function(){gt(),It()})),e=Object(f.a)(pt.current);return e.addEventListener("resize",t),function(){t.clear(),e.removeEventListener("resize",t)}}),[gt,It]);var St=s.useCallback(Object(c.a)((function(){It()})));s.useEffect((function(){return function(){St.clear()}}),[St]),s.useEffect((function(){rt(!0)}),[]),s.useEffect((function(){gt(),It()})),s.useEffect((function(){Ot()}),[Ot,ot]),s.useImperativeHandle(p,(function(){return{updateIndicator:gt,updateScrollButtons:It}}),[gt,It]);var Tt=s.createElement(b,Object(i.a)({className:w.indicator,orientation:N,color:S},U,{style:Object(i.a)({},ot,U.style)})),xt=0,kt=s.Children.map(m,(function(t){if(!s.isValidElement(t))return null;var e=void 0===t.props.value?xt:t.props.value;dt.set(e,xt);var n=e===H;return xt+=1,s.cloneElement(t,{fullWidth:"fullWidth"===G,indicator:n&&!nt&&Tt,selected:n,selectionFollowsFocus:L,onChange:T,textColor:V,value:e})})),jt=function(){var t={};t.scrollbarSizeListener=z?s.createElement(v,{className:w.scrollable,onChange:Et}):null;var e=ut.start||ut.end,n=z&&("auto"===D&&e||"desktop"===D||"on"===D);return t.scrollButtonStart=n?s.createElement(C,Object(i.a)({orientation:N,direction:X?"right":"left",onClick:wt,disabled:!ut.start,className:Object(u.a)(w.scrollButtons,"on"!==D&&w.scrollButtonsDesktop)},B)):null,t.scrollButtonEnd=n?s.createElement(C,Object(i.a)({orientation:N,direction:X?"left":"right",onClick:_t,disabled:!ut.end,className:Object(u.a)(w.scrollButtons,"on"!==D&&w.scrollButtonsDesktop)},B)):null,t}();return s.createElement(O,Object(i.a)({className:Object(u.a)(w.root,_,Y&&w.vertical),ref:e},W),jt.scrollButtonStart,jt.scrollbarSizeListener,s.createElement("div",{className:Object(u.a)(w.scroller,z?w.scrollable:w.fixed),style:lt,ref:pt,onScroll:St},s.createElement("div",{"aria-label":n,"aria-labelledby":r,className:Object(u.a)(w.flexContainer,Y&&w.flexContainerVertical,g&&!z&&w.centered),onKeyDown:function(t){var e=t.target;if("tab"===e.getAttribute("role")){var n=null,r="vertical"!==N?"ArrowLeft":"ArrowUp",i="vertical"!==N?"ArrowRight":"ArrowDown";switch("vertical"!==N&&"rtl"===K.direction&&(r="ArrowRight",i="ArrowLeft"),t.key){case r:n=e.previousElementSibling||vt.current.lastChild;break;case i:n=e.nextElementSibling||vt.current.firstChild;break;case"Home":n=vt.current.firstChild;break;case"End":n=vt.current.lastChild}null!==n&&(n.focus(),t.preventDefault())}},ref:vt,role:"tablist"},kt),nt&&Tt),jt.scrollButtonEnd)}));e.a=Object(y.a)((function(t){return{root:{overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},vertical:{flexDirection:"column"},flexContainer:{display:"flex"},flexContainerVertical:{flexDirection:"column"},centered:{justifyContent:"center"},scroller:{position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},fixed:{overflowX:"hidden",width:"100%"},scrollable:{overflowX:"scroll",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},scrollButtons:{},scrollButtonsDesktop:Object(a.a)({},t.breakpoints.down("xs"),{display:"none"}),indicator:{}}}),{name:"MuiTabs"})(A)},2225:function(t,e,n){"use strict";var r=n(6),i=n(15),o=n(0),a=(n(22),n(17)),s=n(152),u=n(284),c=n(1231),f=n(26),l=n(237),h=o.forwardRef((function(t,e){var n=t.autoFocus,f=t.checked,h=t.checkedIcon,d=t.classes,p=t.className,v=t.defaultChecked,y=t.disabled,g=t.icon,m=t.id,b=t.inputProps,w=t.inputRef,_=t.name,E=t.onBlur,O=t.onChange,I=t.onFocus,S=t.readOnly,T=t.required,x=t.tabIndex,k=t.type,j=t.value,A=Object(i.a)(t,["autoFocus","checked","checkedIcon","classes","className","defaultChecked","disabled","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"]),N=Object(u.a)({controlled:f,default:Boolean(v),name:"SwitchBase",state:"checked"}),P=Object(s.a)(N,2),C=P[0],R=P[1],D=Object(c.a)(),L=y;D&&"undefined"===typeof L&&(L=D.disabled);var M="checkbox"===k||"radio"===k;return o.createElement(l.a,Object(r.a)({component:"span",className:Object(a.a)(d.root,p,C&&d.checked,L&&d.disabled),disabled:L,tabIndex:null,role:void 0,onFocus:function(t){I&&I(t),D&&D.onFocus&&D.onFocus(t)},onBlur:function(t){E&&E(t),D&&D.onBlur&&D.onBlur(t)},ref:e},A),o.createElement("input",Object(r.a)({autoFocus:n,checked:f,defaultChecked:v,className:d.input,disabled:L,id:M&&m,name:_,onChange:function(t){var e=t.target.checked;R(e),O&&O(t,e)},readOnly:S,ref:w,required:T,tabIndex:x,type:k,value:j},b)),C?h:g)})),d=Object(f.a)({root:{padding:9},checked:{},disabled:{},input:{cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}},{name:"PrivateSwitchBase"})(h),p=n(452),v=Object(p.a)(o.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),y=Object(p.a)(o.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),g=n(43),m=Object(p.a)(o.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox"),b=n(35),w=o.createElement(y,null),_=o.createElement(v,null),E=o.createElement(m,null),O=o.forwardRef((function(t,e){var n=t.checkedIcon,s=void 0===n?w:n,u=t.classes,c=t.color,f=void 0===c?"secondary":c,l=t.icon,h=void 0===l?_:l,p=t.indeterminate,v=void 0!==p&&p,y=t.indeterminateIcon,g=void 0===y?E:y,m=t.inputProps,O=t.size,I=void 0===O?"medium":O,S=Object(i.a)(t,["checkedIcon","classes","color","icon","indeterminate","indeterminateIcon","inputProps","size"]),T=v?g:h,x=v?g:s;return o.createElement(d,Object(r.a)({type:"checkbox",classes:{root:Object(a.a)(u.root,u["color".concat(Object(b.a)(f))],v&&u.indeterminate),checked:u.checked,disabled:u.disabled},color:f,inputProps:Object(r.a)({"data-indeterminate":v},m),icon:o.cloneElement(T,{fontSize:void 0===T.props.fontSize&&"small"===I?I:T.props.fontSize}),checkedIcon:o.cloneElement(x,{fontSize:void 0===x.props.fontSize&&"small"===I?I:x.props.fontSize}),ref:e},S))}));e.a=Object(f.a)((function(t){return{root:{color:t.palette.text.secondary},checked:{},disabled:{},indeterminate:{},colorPrimary:{"&$checked":{color:t.palette.primary.main,"&:hover":{backgroundColor:Object(g.d)(t.palette.primary.main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:t.palette.action.disabled}},colorSecondary:{"&$checked":{color:t.palette.secondary.main,"&:hover":{backgroundColor:Object(g.d)(t.palette.secondary.main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:t.palette.action.disabled}}}}),{name:"MuiCheckbox"})(O)},2226:function(t,e,n){"use strict";var r=n(6),i=n(15),o=n(0),a=(n(22),n(1148)),s=n(152),u=n(207),c=n(334),f=(n(1281),n(17)),l=n(168),h=n(35),d=n(2190),p=n(1329),v=n(46),y=n(284);function g(t,e){return"object"===Object(u.a)(e)&&null!==e?t===e:String(t)===String(e)}var m=o.forwardRef((function(t,e){var n=t["aria-label"],a=t.autoFocus,u=t.autoWidth,m=t.children,b=t.classes,w=t.className,_=t.defaultValue,E=t.disabled,O=t.displayEmpty,I=t.IconComponent,S=t.inputRef,T=t.labelId,x=t.MenuProps,k=void 0===x?{}:x,j=t.multiple,A=t.name,N=t.onBlur,P=t.onChange,C=t.onClose,R=t.onFocus,D=t.onOpen,L=t.open,M=t.readOnly,U=t.renderValue,B=t.SelectDisplayProps,F=void 0===B?{}:B,V=t.tabIndex,H=(t.type,t.value),q=t.variant,G=void 0===q?"standard":q,W=Object(i.a)(t,["aria-label","autoFocus","autoWidth","children","classes","className","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"]),K=Object(y.a)({controlled:H,default:_,name:"Select"}),z=Object(s.a)(K,2),X=z[0],Y=z[1],$=o.useRef(null),J=o.useState(null),Q=J[0],Z=J[1],tt=o.useRef(null!=L).current,et=o.useState(),nt=et[0],rt=et[1],it=o.useState(!1),ot=it[0],at=it[1],st=Object(v.a)(e,S);o.useImperativeHandle(st,(function(){return{focus:function(){Q.focus()},node:$.current,value:X}}),[Q,X]),o.useEffect((function(){a&&Q&&Q.focus()}),[a,Q]),o.useEffect((function(){if(Q){var t=Object(l.a)(Q).getElementById(T);if(t){var e=function(){getSelection().isCollapsed&&Q.focus()};return t.addEventListener("click",e),function(){t.removeEventListener("click",e)}}}}),[T,Q]);var ut,ct,ft=function(t,e){t?D&&D(e):C&&C(e),tt||(rt(u?null:Q.clientWidth),at(t))},lt=o.Children.toArray(m),ht=function(t){return function(e){var n;if(j||ft(!1,e),j){n=Array.isArray(X)?X.slice():[];var r=X.indexOf(t.props.value);-1===r?n.push(t.props.value):n.splice(r,1)}else n=t.props.value;t.props.onClick&&t.props.onClick(e),X!==n&&(Y(n),P&&(e.persist(),Object.defineProperty(e,"target",{writable:!0,value:{value:n,name:A}}),P(e,t)))}},dt=null!==Q&&(tt?L:ot);delete W["aria-invalid"];var pt=[],vt=!1;(Object(p.b)({value:X})||O)&&(U?ut=U(X):vt=!0);var yt=lt.map((function(t){if(!o.isValidElement(t))return null;var e;if(j){if(!Array.isArray(X))throw new Error(Object(c.a)(2));(e=X.some((function(e){return g(e,t.props.value)})))&&vt&&pt.push(t.props.children)}else(e=g(X,t.props.value))&&vt&&(ct=t.props.children);return e&&!0,o.cloneElement(t,{"aria-selected":e?"true":void 0,onClick:ht(t),onKeyUp:function(e){" "===e.key&&e.preventDefault(),t.props.onKeyUp&&t.props.onKeyUp(e)},role:"option",selected:e,value:void 0,"data-value":t.props.value})}));vt&&(ut=j?pt.join(", "):ct);var gt,mt=nt;!u&&tt&&Q&&(mt=Q.clientWidth),gt="undefined"!==typeof V?V:E?null:0;var bt=F.id||(A?"mui-component-select-".concat(A):void 0);return o.createElement(o.Fragment,null,o.createElement("div",Object(r.a)({className:Object(f.a)(b.root,b.select,b.selectMenu,b[G],w,E&&b.disabled),ref:Z,tabIndex:gt,role:"button","aria-disabled":E?"true":void 0,"aria-expanded":dt?"true":void 0,"aria-haspopup":"listbox","aria-label":n,"aria-labelledby":[T,bt].filter(Boolean).join(" ")||void 0,onKeyDown:function(t){if(!M){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(t.key)&&(t.preventDefault(),ft(!0,t))}},onMouseDown:E||M?null:function(t){0===t.button&&(t.preventDefault(),Q.focus(),ft(!0,t))},onBlur:function(t){!dt&&N&&(t.persist(),Object.defineProperty(t,"target",{writable:!0,value:{value:X,name:A}}),N(t))},onFocus:R},F,{id:bt}),function(t){return null==t||"string"===typeof t&&!t.trim()}(ut)?o.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):ut),o.createElement("input",Object(r.a)({value:Array.isArray(X)?X.join(","):X,name:A,ref:$,"aria-hidden":!0,onChange:function(t){var e=lt.map((function(t){return t.props.value})).indexOf(t.target.value);if(-1!==e){var n=lt[e];Y(n.props.value),P&&P(t,n)}},tabIndex:-1,className:b.nativeInput,autoFocus:a},W)),o.createElement(I,{className:Object(f.a)(b.icon,b["icon".concat(Object(h.a)(G))],dt&&b.iconOpen,E&&b.disabled)}),o.createElement(d.a,Object(r.a)({id:"menu-".concat(A||""),anchorEl:Q,open:dt,onClose:function(t){ft(!1,t)}},k,{MenuListProps:Object(r.a)({"aria-labelledby":T,role:"listbox",disableListWrap:!0},k.MenuListProps),PaperProps:Object(r.a)({},k.PaperProps,{style:Object(r.a)({minWidth:mt},null!=k.PaperProps?k.PaperProps.style:null)})}),yt))})),b=n(1232),w=n(1231),_=n(26),E=n(452),O=Object(E.a)(o.createElement("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),I=n(2215),S=o.forwardRef((function(t,e){var n=t.classes,a=t.className,s=t.disabled,u=t.IconComponent,c=t.inputRef,l=t.variant,d=void 0===l?"standard":l,p=Object(i.a)(t,["classes","className","disabled","IconComponent","inputRef","variant"]);return o.createElement(o.Fragment,null,o.createElement("select",Object(r.a)({className:Object(f.a)(n.root,n.select,n[d],a,s&&n.disabled),disabled:s,ref:c||e},p)),t.multiple?null:o.createElement(u,{className:Object(f.a)(n.icon,n["icon".concat(Object(h.a)(d))],s&&n.disabled)}))})),T=function(t){return{root:{},select:{"-moz-appearance":"none","-webkit-appearance":"none",userSelect:"none",borderRadius:0,minWidth:16,cursor:"pointer","&:focus":{backgroundColor:"light"===t.palette.type?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)",borderRadius:0},"&::-ms-expand":{display:"none"},"&$disabled":{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:t.palette.background.paper},"&&":{paddingRight:24}},filled:{"&&":{paddingRight:32}},outlined:{borderRadius:t.shape.borderRadius,"&&":{paddingRight:32}},selectMenu:{height:"auto",minHeight:"1.1876em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},disabled:{},icon:{position:"absolute",right:0,top:"calc(50% - 12px)",pointerEvents:"none",color:t.palette.action.active,"&$disabled":{color:t.palette.action.disabled}},iconOpen:{transform:"rotate(180deg)"},iconFilled:{right:7},iconOutlined:{right:7},nativeInput:{bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%"}}},x=o.createElement(I.a,null),k=o.forwardRef((function(t,e){var n=t.children,a=t.classes,s=t.IconComponent,u=void 0===s?O:s,c=t.input,f=void 0===c?x:c,l=t.inputProps,h=(t.variant,Object(i.a)(t,["children","classes","IconComponent","input","inputProps","variant"])),d=Object(w.a)(),p=Object(b.a)({props:t,muiFormControl:d,states:["variant"]});return o.cloneElement(f,Object(r.a)({inputComponent:S,inputProps:Object(r.a)({children:n,classes:a,IconComponent:u,variant:p.variant,type:void 0},l,f?f.props.inputProps:{}),ref:e},h))}));k.muiName="Select";Object(_.a)(T,{name:"MuiNativeSelect"})(k);var j=n(2216),A=n(2231),N=T,P=o.createElement(I.a,null),C=o.createElement(j.a,null),R=o.forwardRef((function t(e,n){var s=e.autoWidth,u=void 0!==s&&s,c=e.children,f=e.classes,l=e.displayEmpty,h=void 0!==l&&l,d=e.IconComponent,p=void 0===d?O:d,v=e.id,y=e.input,g=e.inputProps,_=e.label,E=e.labelId,I=e.labelWidth,T=void 0===I?0:I,x=e.MenuProps,k=e.multiple,j=void 0!==k&&k,N=e.native,R=void 0!==N&&N,D=e.onClose,L=e.onOpen,M=e.open,U=e.renderValue,B=e.SelectDisplayProps,F=e.variant,V=void 0===F?"standard":F,H=Object(i.a)(e,["autoWidth","children","classes","displayEmpty","IconComponent","id","input","inputProps","label","labelId","labelWidth","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"]),q=R?S:m,G=Object(w.a)(),W=Object(b.a)({props:e,muiFormControl:G,states:["variant"]}).variant||V,K=y||{standard:P,outlined:o.createElement(A.a,{label:_,labelWidth:T}),filled:C}[W];return o.cloneElement(K,Object(r.a)({inputComponent:q,inputProps:Object(r.a)({children:c,IconComponent:p,variant:W,type:void 0,multiple:j},R?{id:v}:{autoWidth:u,displayEmpty:h,labelId:E,MenuProps:x,onClose:D,onOpen:L,open:M,renderValue:U,SelectDisplayProps:Object(r.a)({id:v},B)},g,{classes:g?Object(a.a)({baseClasses:f,newClasses:g.classes,Component:t}):f},y?y.props.inputProps:{}),ref:n},H))}));R.muiName="Select";e.a=Object(_.a)(N,{name:"MuiSelect"})(R)},2227:function(t,e,n){"use strict";var r=n(0),i=n(1615),o=function(t){var e=Object(r.useRef)(t);e.current=t,Object(i.a)((function(){return function(){return e.current()}}))},a=function(t){var e=Object(r.useRef)(0),n=Object(r.useState)(t),i=n[0],a=n[1],s=Object(r.useCallback)((function(t){cancelAnimationFrame(e.current),e.current=requestAnimationFrame((function(){a(t)}))}),[]);return o((function(){cancelAnimationFrame(e.current)})),[i,s]},s=n(1634),u="object"===typeof window;n.n(s).a,e.a=function(t,e){void 0===t&&(t=1/0),void 0===e&&(e=1/0);var n=a({width:u?window.innerWidth:t,height:u?window.innerHeight:e}),i=n[0],o=n[1];return Object(r.useEffect)((function(){if(u){var t=function(){o({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}}}),[]),i}},2228:function(t,e,n){"use strict";n.d(e,"a",(function(){return y}));var r=n(0),i=r.useLayoutEffect,o=n(1256),a=n(1255);function s(t){var e=r.useRef();return e.current||(e.current={v:t()}),e.current.v}var u=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},c=function(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};var f,l=function(){return(l=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},h=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n},d=function(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},p=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(d(arguments[e]));return t};function v(t,e){(0,t.exec)(e.context,e._event.data,{action:t,state:e,_event:e._event})()}function y(t,e){void 0===e&&(e={});var n=s((function(){return"function"===typeof t?t():t})),y=e.context,g=e.guards,m=e.actions,b=e.activities,w=e.services,_=e.delays,E=e.state,O=h(e,["context","guards","actions","activities","services","delays","state"]),I=d(s((function(){var t={context:y,guards:g,actions:m,activities:b,services:w,delays:_},e=n.withConfig(t,l(l({},n.context),y));return[e,Object(o.c)(e,l({deferEvents:!0},O))]})),2),S=I[0],T=I[1],x=d(Object(r.useState)((function(){var t=S.initialState;return E?a.a.create(E):t})),2),k=x[0],j=x[1],A=Object(r.useRef)([]),N=Object(r.useRef)([]);return i((function(){return T.onTransition((function(t){var e,n,r=void 0===t.changed&&Object.keys(t.children).length;if((t.changed||r)&&j(t),t.actions.length){var i=t.actions.filter((function(t){return"function"===typeof t.exec&&"__effect"in t.exec})),o=d(function(t,e){var n,r,i=u([[],[]],2),o=i[0],a=i[1];try{for(var s=c(t),f=s.next();!f.done;f=s.next()){var l=f.value;e(l)?o.push(l):a.push(l)}}catch(h){n={error:h}}finally{try{f&&!f.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return[o,a]}(i,(function(t){return t.exec.__effect===f.Effect})),2),a=o[0],s=o[1];(e=A.current).push.apply(e,p(a.map((function(e){return[e,t]})))),(n=N.current).push.apply(n,p(s.map((function(e){return[e,t]}))))}})).start(E?a.a.create(E):void 0),function(){T.stop()}}),[]),Object(r.useEffect)((function(){Object.assign(T.machine.options.actions,m)}),[m]),Object(r.useEffect)((function(){Object.assign(T.machine.options.services,w)}),[w]),i((function(){for(;N.current.length;){var t=d(N.current.shift(),2);v(t[0],t[1])}}),[k]),Object(r.useEffect)((function(){for(;A.current.length;){var t=d(A.current.shift(),2);v(t[0],t[1])}}),[k]),[k,T.send,T]}!function(t){t[t.Effect=1]="Effect",t[t.LayoutEffect=2]="LayoutEffect"}(f||(f={}))},2229:function(t,e,n){"use strict";var r=n(6),i=n(15),o=n(0),a=(n(22),n(17)),s=n(2215),u=n(2216),c=n(2231),f=n(1232),l=n(1231),h=n(26),d=n(2213),p=o.forwardRef((function(t,e){var n=t.classes,s=t.className,u=t.disableAnimation,c=void 0!==u&&u,h=(t.margin,t.shrink),p=(t.variant,Object(i.a)(t,["classes","className","disableAnimation","margin","shrink","variant"])),v=Object(l.a)(),y=h;"undefined"===typeof y&&v&&(y=v.filled||v.focused||v.adornedStart);var g=Object(f.a)({props:t,muiFormControl:v,states:["margin","variant"]});return o.createElement(d.a,Object(r.a)({"data-shrink":y,className:Object(a.a)(n.root,s,v&&n.formControl,!c&&n.animated,y&&n.shrink,"dense"===g.margin&&n.marginDense,{filled:n.filled,outlined:n.outlined}[g.variant]),classes:{focused:n.focused,disabled:n.disabled,error:n.error,required:n.required,asterisk:n.asterisk},ref:e},p))})),v=Object(h.a)((function(t){return{root:{display:"block",transformOrigin:"top left"},focused:{},disabled:{},error:{},required:{},asterisk:{},formControl:{position:"absolute",left:0,top:0,transform:"translate(0, 24px) scale(1)"},marginDense:{transform:"translate(0, 21px) scale(1)"},shrink:{transform:"translate(0, 1.5px) scale(0.75)",transformOrigin:"top left"},animated:{transition:t.transitions.create(["color","transform"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},filled:{zIndex:1,pointerEvents:"none",transform:"translate(12px, 20px) scale(1)","&$marginDense":{transform:"translate(12px, 17px) scale(1)"},"&$shrink":{transform:"translate(12px, 10px) scale(0.75)","&$marginDense":{transform:"translate(12px, 7px) scale(0.75)"}}},outlined:{zIndex:1,pointerEvents:"none",transform:"translate(14px, 20px) scale(1)","&$marginDense":{transform:"translate(14px, 12px) scale(1)"},"&$shrink":{transform:"translate(14px, -6px) scale(0.75)"}}}}),{name:"MuiInputLabel"})(p),y=n(2211),g=o.forwardRef((function(t,e){var n=t.children,s=t.classes,u=t.className,c=t.component,h=void 0===c?"p":c,d=(t.disabled,t.error,t.filled,t.focused,t.margin,t.required,t.variant,Object(i.a)(t,["children","classes","className","component","disabled","error","filled","focused","margin","required","variant"])),p=Object(l.a)(),v=Object(f.a)({props:t,muiFormControl:p,states:["variant","margin","disabled","error","filled","focused","required"]});return o.createElement(h,Object(r.a)({className:Object(a.a)(s.root,("filled"===v.variant||"outlined"===v.variant)&&s.contained,u,v.disabled&&s.disabled,v.error&&s.error,v.filled&&s.filled,v.focused&&s.focused,v.required&&s.required,"dense"===v.margin&&s.marginDense),ref:e},d)," "===n?o.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}}):n)})),m=Object(h.a)((function(t){return{root:Object(r.a)({color:t.palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,margin:0,"&$disabled":{color:t.palette.text.disabled},"&$error":{color:t.palette.error.main}}),error:{},disabled:{},marginDense:{marginTop:4},contained:{marginLeft:14,marginRight:14},focused:{},filled:{},required:{}}}),{name:"MuiFormHelperText"})(g),b=n(2226),w={standard:s.a,filled:u.a,outlined:c.a},_=o.forwardRef((function(t,e){var n=t.autoComplete,s=t.autoFocus,u=void 0!==s&&s,c=t.children,f=t.classes,l=t.className,h=t.color,d=void 0===h?"primary":h,p=t.defaultValue,g=t.disabled,_=void 0!==g&&g,E=t.error,O=void 0!==E&&E,I=t.FormHelperTextProps,S=t.fullWidth,T=void 0!==S&&S,x=t.helperText,k=t.hiddenLabel,j=t.id,A=t.InputLabelProps,N=t.inputProps,P=t.InputProps,C=t.inputRef,R=t.label,D=t.multiline,L=void 0!==D&&D,M=t.name,U=t.onBlur,B=t.onChange,F=t.onFocus,V=t.placeholder,H=t.required,q=void 0!==H&&H,G=t.rows,W=t.rowsMax,K=t.select,z=void 0!==K&&K,X=t.SelectProps,Y=t.type,$=t.value,J=t.variant,Q=void 0===J?"standard":J,Z=Object(i.a)(t,["autoComplete","autoFocus","children","classes","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","hiddenLabel","id","InputLabelProps","inputProps","InputProps","inputRef","label","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","rowsMax","select","SelectProps","type","value","variant"]);var tt={};if("outlined"===Q&&(A&&"undefined"!==typeof A.shrink&&(tt.notched=A.shrink),R)){var et,nt=null!==(et=null===A||void 0===A?void 0:A.required)&&void 0!==et?et:q;tt.label=o.createElement(o.Fragment,null,R,nt&&"\xa0*")}z&&(X&&X.native||(tt.id=void 0),tt["aria-describedby"]=void 0);var rt=x&&j?"".concat(j,"-helper-text"):void 0,it=R&&j?"".concat(j,"-label"):void 0,ot=w[Q],at=o.createElement(ot,Object(r.a)({"aria-describedby":rt,autoComplete:n,autoFocus:u,defaultValue:p,fullWidth:T,multiline:L,name:M,rows:G,rowsMax:W,type:Y,value:$,id:j,inputRef:C,onBlur:U,onChange:B,onFocus:F,placeholder:V,inputProps:N},tt,P));return o.createElement(y.a,Object(r.a)({className:Object(a.a)(f.root,l),disabled:_,error:O,fullWidth:T,hiddenLabel:k,ref:e,required:q,color:d,variant:Q},Z),R&&o.createElement(v,Object(r.a)({htmlFor:j,id:it},A),R),z?o.createElement(b.a,Object(r.a)({"aria-describedby":rt,id:j,labelId:it,value:$,input:at},X),c):at,x&&o.createElement(m,Object(r.a)({id:rt},I),x))}));e.a=Object(h.a)({root:{}},{name:"MuiTextField"})(_)},2230:function(t,e,n){"use strict";var r=n(15),i=n(6),o=n(334),a=n(0),s=(n(22),n(17)),u=n(1232),c=n(1330),f=n(26),l=n(35),h=n(46),d=n(280);function p(t,e){return parseInt(t[e],10)||0}var v="undefined"!==typeof window?a.useLayoutEffect:a.useEffect,y={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"},g=a.forwardRef((function(t,e){var n=t.onChange,o=t.rows,s=t.rowsMax,u=t.rowsMin,c=void 0===u?1:u,f=t.style,l=t.value,g=Object(r.a)(t,["onChange","rows","rowsMax","rowsMin","style","value"]),m=o||c,b=a.useRef(null!=l).current,w=a.useRef(null),_=Object(h.a)(e,w),E=a.useRef(null),O=a.useRef(0),I=a.useState({}),S=I[0],T=I[1],x=a.useCallback((function(){var e=w.current,n=window.getComputedStyle(e),r=E.current;r.style.width=n.width,r.value=e.value||t.placeholder||"x","\n"===r.value.slice(-1)&&(r.value+=" ");var i=n["box-sizing"],o=p(n,"padding-bottom")+p(n,"padding-top"),a=p(n,"border-bottom-width")+p(n,"border-top-width"),u=r.scrollHeight-o;r.value="x";var c=r.scrollHeight-o,f=u;m&&(f=Math.max(Number(m)*c,f)),s&&(f=Math.min(Number(s)*c,f));var l=(f=Math.max(f,c))+("border-box"===i?o+a:0),h=Math.abs(f-u)<=1;T((function(t){return O.current<20&&(l>0&&Math.abs((t.outerHeightStyle||0)-l)>1||t.overflow!==h)?(O.current+=1,{overflow:h,outerHeightStyle:l}):t}))}),[s,m,t.placeholder]);a.useEffect((function(){var t=Object(d.a)((function(){O.current=0,x()}));return window.addEventListener("resize",t),function(){t.clear(),window.removeEventListener("resize",t)}}),[x]),v((function(){x()})),a.useEffect((function(){O.current=0}),[l]);return a.createElement(a.Fragment,null,a.createElement("textarea",Object(i.a)({value:l,onChange:function(t){O.current=0,b||x(),n&&n(t)},ref:_,rows:m,style:Object(i.a)({height:S.outerHeightStyle,overflow:S.overflow?"hidden":null},f)},g)),a.createElement("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:E,tabIndex:-1,style:Object(i.a)({},y,f)}))})),m=n(1329),b="undefined"===typeof window?a.useEffect:a.useLayoutEffect,w=a.forwardRef((function(t,e){var n=t["aria-describedby"],f=t.autoComplete,d=t.autoFocus,p=t.classes,v=t.className,y=(t.color,t.defaultValue),w=t.disabled,_=t.endAdornment,E=(t.error,t.fullWidth),O=void 0!==E&&E,I=t.id,S=t.inputComponent,T=void 0===S?"input":S,x=t.inputProps,k=void 0===x?{}:x,j=t.inputRef,A=(t.margin,t.multiline),N=void 0!==A&&A,P=t.name,C=t.onBlur,R=t.onChange,D=t.onClick,L=t.onFocus,M=t.onKeyDown,U=t.onKeyUp,B=t.placeholder,F=t.readOnly,V=t.renderSuffix,H=t.rows,q=t.rowsMax,G=t.rowsMin,W=t.startAdornment,K=t.type,z=void 0===K?"text":K,X=t.value,Y=Object(r.a)(t,["aria-describedby","autoComplete","autoFocus","classes","className","color","defaultValue","disabled","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","rowsMax","rowsMin","startAdornment","type","value"]),$=null!=k.value?k.value:X,J=a.useRef(null!=$).current,Q=a.useRef(),Z=a.useCallback((function(t){0}),[]),tt=Object(h.a)(k.ref,Z),et=Object(h.a)(j,tt),nt=Object(h.a)(Q,et),rt=a.useState(!1),it=rt[0],ot=rt[1],at=Object(c.b)();var st=Object(u.a)({props:t,muiFormControl:at,states:["color","disabled","error","hiddenLabel","margin","required","filled"]});st.focused=at?at.focused:it,a.useEffect((function(){!at&&w&&it&&(ot(!1),C&&C())}),[at,w,it,C]);var ut=at&&at.onFilled,ct=at&&at.onEmpty,ft=a.useCallback((function(t){Object(m.b)(t)?ut&&ut():ct&&ct()}),[ut,ct]);b((function(){J&&ft({value:$})}),[$,ft,J]);a.useEffect((function(){ft(Q.current)}),[]);var lt=T,ht=Object(i.a)({},k,{ref:nt});"string"!==typeof lt?ht=Object(i.a)({inputRef:nt,type:z},ht,{ref:null}):N?!H||q||G?(ht=Object(i.a)({rows:H,rowsMax:q},ht),lt=g):lt="textarea":ht=Object(i.a)({type:z},ht);return a.useEffect((function(){at&&at.setAdornedStart(Boolean(W))}),[at,W]),a.createElement("div",Object(i.a)({className:Object(s.a)(p.root,p["color".concat(Object(l.a)(st.color||"primary"))],v,st.disabled&&p.disabled,st.error&&p.error,O&&p.fullWidth,st.focused&&p.focused,at&&p.formControl,N&&p.multiline,W&&p.adornedStart,_&&p.adornedEnd,"dense"===st.margin&&p.marginDense),onClick:function(t){Q.current&&t.currentTarget===t.target&&Q.current.focus(),D&&D(t)},ref:e},Y),W,a.createElement(c.a.Provider,{value:null},a.createElement(lt,Object(i.a)({"aria-invalid":st.error,"aria-describedby":n,autoComplete:f,autoFocus:d,defaultValue:y,disabled:st.disabled,id:I,onAnimationStart:function(t){ft("mui-auto-fill-cancel"===t.animationName?Q.current:{value:"x"})},name:P,placeholder:B,readOnly:F,required:st.required,rows:H,value:$,onKeyDown:M,onKeyUp:U},ht,{className:Object(s.a)(p.input,k.className,st.disabled&&p.disabled,N&&p.inputMultiline,st.hiddenLabel&&p.inputHiddenLabel,W&&p.inputAdornedStart,_&&p.inputAdornedEnd,"search"===z&&p.inputTypeSearch,"dense"===st.margin&&p.inputMarginDense),onBlur:function(t){C&&C(t),k.onBlur&&k.onBlur(t),at&&at.onBlur?at.onBlur(t):ot(!1)},onChange:function(t){if(!J){var e=t.target||Q.current;if(null==e)throw new Error(Object(o.a)(1));ft({value:e.value})}for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];k.onChange&&k.onChange.apply(k,[t].concat(r)),R&&R.apply(void 0,[t].concat(r))},onFocus:function(t){st.disabled?t.stopPropagation():(L&&L(t),k.onFocus&&k.onFocus(t),at&&at.onFocus?at.onFocus(t):ot(!0))}}))),_,V?V(Object(i.a)({},st,{startAdornment:W})):null)}));e.a=Object(f.a)((function(t){var e="light"===t.palette.type,n={color:"currentColor",opacity:e?.42:.5,transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})},r={opacity:"0 !important"},o={opacity:e?.42:.5};return{"@global":{"@keyframes mui-auto-fill":{},"@keyframes mui-auto-fill-cancel":{}},root:Object(i.a)({},t.typography.body1,{color:t.palette.text.primary,lineHeight:"1.1876em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center","&$disabled":{color:t.palette.text.disabled,cursor:"default"}}),formControl:{},focused:{},disabled:{},adornedStart:{},adornedEnd:{},error:{},marginDense:{},multiline:{padding:"".concat(6,"px 0 ").concat(7,"px"),"&$marginDense":{paddingTop:3}},colorSecondary:{},fullWidth:{width:"100%"},input:{font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"".concat(6,"px 0 ").concat(7,"px"),border:0,boxSizing:"content-box",background:"none",height:"1.1876em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{"-webkit-appearance":"none"},"label[data-shrink=false] + $formControl &":{"&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus:-ms-input-placeholder":o,"&:focus::-ms-input-placeholder":o},"&$disabled":{opacity:1},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},inputMarginDense:{paddingTop:3},inputMultiline:{height:"auto",resize:"none",padding:0},inputTypeSearch:{"-moz-appearance":"textfield","-webkit-appearance":"textfield"},inputAdornedStart:{},inputAdornedEnd:{},inputHiddenLabel:{}}}),{name:"MuiInputBase"})(w)},2231:function(t,e,n){"use strict";var r=n(6),i=n(15),o=n(0),a=(n(22),n(17)),s=n(2230),u=n(51),c=n(26),f=n(127),l=n(35),h=o.forwardRef((function(t,e){t.children;var n=t.classes,s=t.className,c=t.label,h=t.labelWidth,d=t.notched,p=t.style,v=Object(i.a)(t,["children","classes","className","label","labelWidth","notched","style"]),y="rtl"===Object(f.a)().direction?"right":"left";if(void 0!==c)return o.createElement("fieldset",Object(r.a)({"aria-hidden":!0,className:Object(a.a)(n.root,s),ref:e,style:p},v),o.createElement("legend",{className:Object(a.a)(n.legendLabelled,d&&n.legendNotched)},c?o.createElement("span",null,c):o.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})));var g=h>0?.75*h+8:.01;return o.createElement("fieldset",Object(r.a)({"aria-hidden":!0,style:Object(r.a)(Object(u.a)({},"padding".concat(Object(l.a)(y)),8),p),className:Object(a.a)(n.root,s),ref:e},v),o.createElement("legend",{className:n.legend,style:{width:d?g:.01}},o.createElement("span",{dangerouslySetInnerHTML:{__html:"&#8203;"}})))})),d=Object(c.a)((function(t){return{root:{position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden"},legend:{textAlign:"left",padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})},legendLabelled:{display:"block",width:"auto",textAlign:"left",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),"& > span":{paddingLeft:5,paddingRight:5,display:"inline-block"}},legendNotched:{maxWidth:1e3,transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})}}}),{name:"PrivateNotchedOutline"})(h),p=o.forwardRef((function(t,e){var n=t.classes,u=t.fullWidth,c=void 0!==u&&u,f=t.inputComponent,l=void 0===f?"input":f,h=t.label,p=t.labelWidth,v=void 0===p?0:p,y=t.multiline,g=void 0!==y&&y,m=t.notched,b=t.type,w=void 0===b?"text":b,_=Object(i.a)(t,["classes","fullWidth","inputComponent","label","labelWidth","multiline","notched","type"]);return o.createElement(s.a,Object(r.a)({renderSuffix:function(t){return o.createElement(d,{className:n.notchedOutline,label:h,labelWidth:v,notched:"undefined"!==typeof m?m:Boolean(t.startAdornment||t.filled||t.focused)})},classes:Object(r.a)({},n,{root:Object(a.a)(n.root,n.underline),notchedOutline:null}),fullWidth:c,inputComponent:l,multiline:g,ref:e,type:w},_))}));p.muiName="Input";e.a=Object(c.a)((function(t){var e="light"===t.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{root:{position:"relative",borderRadius:t.shape.borderRadius,"&:hover $notchedOutline":{borderColor:t.palette.text.primary},"@media (hover: none)":{"&:hover $notchedOutline":{borderColor:e}},"&$focused $notchedOutline":{borderColor:t.palette.primary.main,borderWidth:2},"&$error $notchedOutline":{borderColor:t.palette.error.main},"&$disabled $notchedOutline":{borderColor:t.palette.action.disabled}},colorSecondary:{"&$focused $notchedOutline":{borderColor:t.palette.secondary.main}},focused:{},disabled:{},adornedStart:{paddingLeft:14},adornedEnd:{paddingRight:14},error:{},marginDense:{},multiline:{padding:"18.5px 14px","&$marginDense":{paddingTop:10.5,paddingBottom:10.5}},notchedOutline:{borderColor:e},input:{padding:"18.5px 14px","&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.type?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.type?null:"#fff",caretColor:"light"===t.palette.type?null:"#fff",borderRadius:"inherit"}},inputMarginDense:{paddingTop:10.5,paddingBottom:10.5},inputMultiline:{padding:0},inputAdornedStart:{paddingLeft:0},inputAdornedEnd:{paddingRight:0}}}),{name:"MuiOutlinedInput"})(p)},2232:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(1408),i=n(0),o=function(t){return(t+1)%1e6},a=function(){return Object(i.useReducer)(o,0)[1]};function s(t){void 0===t&&(t=0);var e=a();return Object(r.a)(e,t)}},456:function(t,e,n){"use strict";n.r(e);var r=n(658);n.d(e,"default",(function(){return r.a}))},650:function(t,e,n){"use strict";n.r(e);var r=n(622);n.d(e,"default",(function(){return r.a}))},96:function(t,e,n){"use strict";n.r(e),n.d(e,"hexToRgb",(function(){return r.g})),n.d(e,"rgbToHex",(function(){return r.k})),n.d(e,"hslToRgb",(function(){return r.h})),n.d(e,"decomposeColor",(function(){return r.b})),n.d(e,"recomposeColor",(function(){return r.j})),n.d(e,"getContrastRatio",(function(){return r.e})),n.d(e,"getLuminance",(function(){return r.f})),n.d(e,"emphasize",(function(){return r.c})),n.d(e,"fade",(function(){return r.d})),n.d(e,"darken",(function(){return r.a})),n.d(e,"lighten",(function(){return r.i})),n.d(e,"createMuiTheme",(function(){return i.a})),n.d(e,"unstable_createMuiStrictModeTheme",(function(){return a})),n.d(e,"createStyles",(function(){return s.a})),n.d(e,"makeStyles",(function(){return u.a})),n.d(e,"responsiveFontSizes",(function(){return c.a})),n.d(e,"styled",(function(){return f.a})),n.d(e,"easing",(function(){return l.c})),n.d(e,"duration",(function(){return l.b})),n.d(e,"useTheme",(function(){return h.a})),n.d(e,"withStyles",(function(){return d.a})),n.d(e,"withTheme",(function(){return E})),n.d(e,"createGenerateClassName",(function(){return O.a})),n.d(e,"jssPreset",(function(){return I.a})),n.d(e,"ServerStyleSheets",(function(){return j})),n.d(e,"StylesProvider",(function(){return k.b})),n.d(e,"MuiThemeProvider",(function(){return A.a})),n.d(e,"ThemeProvider",(function(){return A.a}));var r=n(43),i=n(465),o=n(424);function a(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return i.a.apply(void 0,[Object(o.a)({unstable_strictMode:!0},t)].concat(n))}var s=n(1128),u=n(44),c=n(1129),f=n(66),l=n(151),h=n(127),d=n(26),p=n(6),v=n(15),y=n(0),g=n.n(y),m=(n(22),n(134)),b=n.n(m),w=n(640);function _(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.defaultTheme,n=function(t){var n=g.a.forwardRef((function(n,r){var i=n.innerRef,o=Object(v.a)(n,["innerRef"]),a=Object(w.a)()||e;return g.a.createElement(t,Object(p.a)({theme:a,ref:i||r},o))}));return b()(n,t),n};return n}_();var E=_({defaultTheme:n(185).a}),O=n(1116),I=n(644),S=n(1400),T=n(326),x=n(87),k=n(1149),j=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(S.a)(this,t),this.options=e}return Object(T.a)(t,[{key:"collect",value:function(t){var e=new Map;this.sheetsRegistry=new x.b;var n=Object(O.a)();return g.a.createElement(k.b,Object(p.a)({sheetsManager:e,serverGenerateClassName:n,sheetsRegistry:this.sheetsRegistry},this.options),t)}},{key:"toString",value:function(){return this.sheetsRegistry?this.sheetsRegistry.toString():""}},{key:"getStyleElement",value:function(t){return g.a.createElement("style",Object(p.a)({id:"jss-server-side",key:"jss-server-side",dangerouslySetInnerHTML:{__html:this.toString()}},t))}}]),t}(),A=n(1160)}}]);
//# sourceMappingURL=5.35215fb5.chunk.js.map