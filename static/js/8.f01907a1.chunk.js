(this["webpackJsonpdefichain-bridge"]=this["webpackJsonpdefichain-bridge"]||[]).push([[8],{1253:function(e,t,n){"use strict";(function(e){n.d(t,"f",(function(){return d})),n.d(t,"e",(function(){return j})),n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return x})),n.d(t,"d",(function(){return m}));var c=n(2),a=n.n(c),r=n(8),i=(n(10),n(451)),o=n(1570),s=n.n(o),l=n(1571),u=n(1605),b={bip32:{public:76067358,private:76066276},messagePrefix:"Defichain Signed Message:\n",pubKeyHash:18,scriptHash:81,wif:128},d=function(e){return u.toSatoshi(e)},j=function(t,n){return new Promise(function(){var c=Object(r.a)(a.a.mark((function c(r,i){var o,s,u;return a.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,p(n);case 2:u=c.sent,console.log(u),0==((null===u||void 0===u||null===(o=u.data)||void 0===o?void 0:o.length)||0)&&i("This TxID is not known on the Defichain blockchain"),null===u||void 0===u||null===(s=u.data)||void 0===s||s.forEach((function(n){var c,a;if("pubkeyhash"===((null===n||void 0===n||null===(c=n.script)||void 0===c?void 0:c.type)||"")){var i,o=(a=(null===n||void 0===n||null===(i=n.script)||void 0===i?void 0:i.hex)||"",l.address.fromOutputScript(e.from(a,"hex"),b));if(console.log(o.toLowerCase(),"==",t.toLowerCase()),o.toLowerCase()===t.toLowerCase()){var s={n:null===n||void 0===n?void 0:n.n,satoshi:null===n||void 0===n?void 0:n.value};r(s)}}})),i("This transaction does not pay into your deposit address");case 7:case"end":return c.stop()}}),c)})));return function(e,t){return c.apply(this,arguments)}}())},O=function(e){return"ethereum"==e?i.b.ETHEREUM_BACKEND_ENDPOINT:i.b.BSC_BACKEND_ENDPOINT},h=function(){var e=Object(r.a)(a.a.mark((function e(t,n){var c,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=O(n)+"/deposit/"+t,r={method:"Get"},e.abrupt("return",s()(c,r).then((function(e){return e.json()})));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),p=function(){var e=Object(r.a)(a.a.mark((function e(t){var n,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://ocean.defichain.com/v0/mainnet/transactions/"+t+"/vouts",c={method:"Get"},e.abrupt("return",s()(n,c).then((function(e){return e.json()})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(r.a)(a.a.mark((function e(t,n){var c,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=O(n)+"/eligible/"+t,r={method:"Get"},e.abrupt("return",s()(c,r).then((function(e){return e.json()})));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),x=function(){var e=Object(r.a)(a.a.mark((function e(t,n,c,r){var i,o;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=O(r)+"/mint/"+t+"/"+n+"/"+c,console.log(i),o={method:"Get"},e.abrupt("return",s()(i,o).then((function(e){return e.json()})));case 4:case"end":return e.stop()}}),e)})));return function(t,n,c,a){return e.apply(this,arguments)}}(),m=function(){var e=Object(r.a)(a.a.mark((function e(t,n){var c,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=O(n)+"/logs/"+t,r={method:"Get"},e.abrupt("return",s()(c,r).then((function(e){return e.json()})));case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}).call(this,n(4).Buffer)},2223:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),r=n(449),i=n(62),o=n(5),s=n(7),l=n(41),u=n(44),b=n(658),d=n(66),j=n(76),O=n.n(j),h=n(154),p=n(1),f=Object(u.a)((function(e){return{root:{maxWidth:400,margin:"0 auto",position:"relative",overflow:"hidden"}}})),x=function(e){var t=e.shaking,n=e.className,c=Object(l.a)(e,["shaking","className"]),a=f(),r=Object(h.d)(),i=O()(n,Object(s.a)({},r.shaking,t));return Object(p.jsx)(b.a,Object(o.a)({className:i,classes:a},c))},m=Object(d.a)("div")({marginTop:40}),v=10,g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"big";switch(e){case"small":return v;case"medium":return 20;case"big":default:return 40}},y=Object(u.a)((function(e){return{root:{paddingLeft:function(e){var t=e.paddingVariant;return g(t)},paddingRight:function(e){var t=e.paddingVariant;return g(t)}},top:{paddingTop:function(e){var t=e.paddingVariant;return g(t)}},bottom:{paddingBottom:function(e){var t=e.paddingVariant;return g(t)}},darker:{backgroundColor:e.customColors.whiteDarker}}})),C=function(e){var t,n=e.topPadding,c=e.bottomPadding,a=e.darker,r=e.paddingVariant,i=e.className,o=e.children,l=y({paddingVariant:r}),u=O()(l.root,i,(t={},Object(s.a)(t,l.top,n),Object(s.a)(t,l.bottom,c),Object(s.a)(t,l.darker,a),t));return Object(p.jsx)("div",{className:u,children:o})},k=Object(d.a)("header")({display:"flex",justifyContent:"space-between",alignItems:"center",paddingTop:v,paddingBottom:v,paddingLeft:v,paddingRight:v}),w=Object(d.a)("div")({justifySelf:"flex-start",minWidth:72}),T=Object(d.a)("div")({justifySelf:"flex-end",minWidth:72,"& > *":{margin:"0 4px","&:first-child":{marginLeft:0},"&:last-child":{marginRight:0}}}),S=Object(d.a)("div")({justifySelf:"center",textAlign:"center",width:"100%"}),N=Object(u.a)({root:{minHeight:200},rootSmaller:{minHeight:130}}),E=function(e){var t=e.smaller,n=Object(l.a)(e,["smaller"]),c=N(),a=O()(c.root,Object(s.a)({},c.rootSmaller,t));return Object(p.jsx)(C,Object(o.a)({className:a},n))},I=n(218),A=n(88),M=n(102),B=n(167),D=n(2224),R=n(2206),F=function(){var e=Object(i.f)(),t=Object(i.h)().path,n=Object(c.useCallback)((function(t,n){e.push(n)}),[e]);return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(D.a,{value:t,onChange:n,indicatorColor:"primary",variant:"fullWidth",children:[Object(p.jsx)(R.a,{label:"Pull From Defichain",value:M.a.MINT}),Object(p.jsx)(R.a,{label:"Send To Defichain",value:M.a.RELEASE})]})})},P=n(170),W=n(2),L=n.n(W),_=n(8),H=n(10),z=n(1398),U=n(451);n(1563),n(1554),n(2192);var V=function(){var e=Object(_.a)(L.a.mark((function e(t,n){var c,a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.collection("users").doc(n),e.next=3,c.get();case 3:if(a=e.sent,e.prev=4,!a.exists){e.next=10;break}return e.next=8,c.update({updated:z.a.firestore.Timestamp.fromDate(new Date(Date.now()))});case 8:e.next=12;break;case 10:return e.next=12,c.set({uid:n,updated:z.a.firestore.Timestamp.fromDate(new Date(Date.now())),signatures:[]});case 12:e.next=18;break;case 14:throw e.prev=14,e.t0=e.catch(4),console.error("failed to update user profile",e.t0),e.t0;case 18:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t,n){return e.apply(this,arguments)}}(),G=function(){var e=Object(_.a)(L.a.mark((function e(t,n){var c,a,r;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=null,e.prev=1,e.next=4,z.a.functions().httpsCallable("authenticate")({signed:n,account:t});case 4:if(a=e.sent,c=a.data.token){e.next=8;break}throw new Error("missing token");case 8:e.next=14;break;case 10:throw e.prev=10,e.t0=e.catch(1),console.error("Failed to create token",e.t0),e.t0;case 14:if(e.prev=14,e.t1=c,!e.t1){e.next=20;break}return e.next=19,z.a.auth().signInWithCustomToken(c);case 19:e.t1=e.sent.user;case 20:r=e.t1,e.next=27;break;case 23:throw e.prev=23,e.t2=e.catch(14),console.error("Failed to authenticate with token",e.t2),e.t2;case 27:if(r){e.next=29;break}return e.abrupt("return",null);case 29:return e.next=31,V(z.a.firestore(),r.uid);case 31:return e.abrupt("return",r);case 32:case"end":return e.stop()}}),e,null,[[1,10],[14,23]])})));return function(t,n){return e.apply(this,arguments)}}(),J=function(){var e=Object(_.a)(L.a.mark((function e(t,n){var c,a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=z.a.auth(),(a=c.currentUser)&&a.uid===t){e.next=8;break}if((null===a||void 0===a?void 0:a.uid)===t){e.next=5;break}return e.next=5,z.a.auth().signOut();case 5:return e.abrupt("return",G(t,n.rawSignature));case 8:return e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();U.b.FIREBASE_KEY||console.warn("No database key set."),z.a.initializeApp({apiKey:U.b.FIREBASE_KEY,authDomain:window.location.hostname,projectId:U.b.FIREBASE_PROJECT_ID}),n(1554);var K,q=new function e(){var t=this;Object(H.a)(this,e),this.db=void 0,this.addTx=function(){var e=Object(_.a)(L.a.mark((function e(n,c,a){var r,i;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=z.a.firestore.Timestamp.fromDate(new Date(Date.now())),i=Object(o.a)(Object(o.a)({},n),{},{created:r,updated:r}),e.next=4,t.db.collection("transactions").doc(n.id).set({user:c.toLowerCase(),walletSignature:a,id:n.id,updated:r,createdSeconds:r.seconds,data:JSON.stringify(i)}).catch((function(e){return console.error("failed to track tx",e)}));case 4:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),this.updateTx=function(){var e=Object(_.a)(L.a.mark((function e(n){var c,a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=z.a.firestore.Timestamp.fromDate(new Date(Date.now())),a=Object(o.a)(Object(o.a)({},n),{},{updated:c}),e.prev=2,e.next=5,t.db.collection("transactions").doc(n.id).update({data:JSON.stringify(a),updated:c});case 5:e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(2),console.error("failed to update",e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}(),this.deleteTx=function(){var e=Object(_.a)(L.a.mark((function e(n){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.db.collection("transactions").doc(n.id).update({deleted:!0});case 3:e.next=9;break;case 5:throw e.prev=5,e.t0=e.catch(0),console.error("failed to delete",e.t0),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}(),this.getTx=function(){var e=Object(_.a)(L.a.mark((function e(n){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.db.collection("transactions").doc(n.id).get().then((function(e){if(e.exists){var t=e.data();if(t&&!t.deleted)return JSON.parse(t.data)}throw new Error("Tx: ".concat(n.id," not found"))})).catch((function(e){throw console.error("Failed to get tx",e),e})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getTxs=function(){var e=Object(_.a)(L.a.mark((function e(n){var c,a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.db.collection("transactions").where("user","==",n.toLowerCase()).get();case 3:return c=e.sent,a=[],c.empty||c.forEach((function(e){var t=e.data();if(!t.deleted){var n=JSON.parse(t.data);a.push(n)}})),e.abrupt("return",a);case 9:throw e.prev=9,e.t0=e.catch(0),console.error("failed to fetch txs",e.t0),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),this.getUser=function(){var e=Object(_.a)(L.a.mark((function e(t,n){var c;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J(t,n);case 2:return c=e.sent,e.abrupt("return",c&&{uid:c.uid});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.db=z.a.firestore()},Y=n(19),Q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4;if(!e)return"";if(e.length<=2*t)return e;var n=e.slice(0,t),c=e.slice(-t);return"".concat(n,"...").concat(c)},X=("eaiou".split(""),n(279)),Z=n(11),$=n(1252),ee=n(427),te=n.n(ee);!function(e){e.DISCONNECTED="disconnected",e.CONNECTING="connecting",e.CONNECTED="connected",e.WRONG_NETWORK="wrong_network"}(K||(K={}));var ne,ce,ae=n(450),re=function(e){var t,n,c=Object($.useMultiwallet)(),a=c.enabledChains,r=c.targetNetwork,i=c.activateConnector,o=c.setTargetNetwork,s=(null===a||void 0===a?void 0:a[e])||{},l=s.account,u=void 0===l?"":l,b=s.status,d=void 0===b?"disconnected":b,j=null===a||void 0===a||null===(t=a[e])||void 0===t?void 0:t.provider,O=function(e){var t;return(null===e||void 0===e?void 0:e.isMetaMask)?Y.c.METAMASKW:"0x61"===(null===e||void 0===e?void 0:e.chainId)||(null===e||void 0===e||null===(t=e.chainId)||void 0===t?void 0:t.indexOf("Binance"))?Y.c.BINANCESMARTW:(null===e||void 0===e?void 0:e.isMewConnect)||(null===e||void 0===e?void 0:e.isMEWConnect)?Y.c.MEWCONNECTW:Y.c.UNKNOWNW}(j),h=(null===(n=a[e])||void 0===n?void 0:n.connector.deactivate)||function(){};return{account:u,status:d,walletConnected:d===K.CONNECTED,provider:j,symbol:O,targetNetwork:r,enabledChains:a,activateConnector:i,setTargetNetwork:o,deactivateConnector:h}},ie=function(){var e=Object(r.c)(ae.d);return re(e)},oe=[{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"From",type:"address"},{indexed:!1,internalType:"string",name:"To",type:"string"},{indexed:!1,internalType:"string",name:"Bridge",type:"string"},{indexed:!1,internalType:"uint256",name:"Value",type:"uint256"},{indexed:!1,internalType:"uint256",name:"Extradata",type:"uint256"}],name:"DepositToDefichain",type:"event"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"bytes",name:"",type:"bytes"}],name:"spent_outputs",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"string",name:"",type:"string"}],name:"supported_bridges",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"new_owner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"name",type:"string"},{internalType:"address",name:"tokenAddress",type:"address"}],name:"addNewToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"name",type:"string"}],name:"removeToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"bridge",type:"string"}],name:"haveBridge",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"targetAddress",type:"address"},{internalType:"uint256",name:"txid",type:"uint256"},{internalType:"uint256",name:"n",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"string",name:"bridge",type:"string"}],name:"messageToSign",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"pure",type:"function",constant:!0},{inputs:[{internalType:"address",name:"targetAddress",type:"address"},{internalType:"uint256",name:"txid",type:"uint256"},{internalType:"uint256",name:"n",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"string",name:"bridge",type:"string"}],name:"hashToSign",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"pure",type:"function",constant:!0},{inputs:[{internalType:"string",name:"targetAddress",type:"string"},{internalType:"string",name:"bridge",type:"string"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"burnToken",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"targetAddress",type:"address"},{internalType:"uint256",name:"txid",type:"uint256"},{internalType:"uint256",name:"n",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"string",name:"bridge",type:"string"},{internalType:"bytes32",name:"signature_r",type:"bytes32"},{internalType:"bytes32",name:"signature_s",type:"bytes32"},{internalType:"uint8",name:"signature_v",type:"uint8"}],name:"whoSignedThis",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"pure",type:"function",constant:!0},{inputs:[{internalType:"address",name:"targetAddress",type:"address"},{internalType:"uint256",name:"txid",type:"uint256"},{internalType:"uint256",name:"n",type:"uint256"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"string",name:"bridge",type:"string"},{internalType:"bytes32",name:"signature_r",type:"bytes32"},{internalType:"bytes32",name:"signature_s",type:"bytes32"},{internalType:"uint8",name:"signature_v",type:"uint8"}],name:"mintToken",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"in_signer",type:"address"}],name:"initialize_gateway",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"new_signer",type:"address"}],name:"newSigner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"precisionRebase",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function",constant:!0},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"reducePrecision",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function",constant:!0},{inputs:[{internalType:"uint256",name:"txid",type:"uint256"},{internalType:"uint256",name:"n",type:"uint256"}],name:"manuallySpend",outputs:[],stateMutability:"nonpayable",type:"function"}],se=function(){var e=ie().provider;return Object(c.useMemo)((function(){return new te.a(e)}),[e])},le=function(){var e=Object(_.a)(L.a.mark((function e(t,n,c,a,r,i,o,s,l,u,b){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,d){if(n.currentProvider.connection.isMetaMask){var j=new n.eth.Contract(oe,"ethereum"==c?U.b.ETH_CONTRACT_ADDRESS:U.b.BSC_CONTRACT_ADDRESS);console.log(l.padStart(64,"0"),u.padStart(64,"0")),j.methods.mintToken(a,"0x"+r,i,o,s,l,u,b).send({from:t}).on("transactionHash",e).on("error",d)}})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,c,a,r,i,o,s,l,u,b){return e.apply(this,arguments)}}(),ue=function(){var e=Object(_.a)(L.a.mark((function e(t,n){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){t.currentProvider.connection.isMetaMask&&t.currentProvider.connection.request({method:"wallet_addEthereumChain",params:[{chainId:"0x38",chainName:"Binance Smart Chain",nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18},rpcUrls:["https://bsc-dataseed.binance.org/"],blockExplorerUrls:["https://bscscan.com/"]}]},(function(t,c){console.log("provider returned",t,c),t||"error"in c?n("error"):e("good")}))})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),be=function(){var e=Object(_.a)(L.a.mark((function e(t,n){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){t.currentProvider.connection.isMetaMask&&t.currentProvider.connection.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x1"}]},(function(t,c){console.log("provider returned",t,c),t||"error"in c?n("error"):e("good")}))})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),de=function(){var e=Object(_.a)(L.a.mark((function e(t,n,c,a,r,i){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,o){if(n.currentProvider.connection.isMetaMask)new n.eth.Contract(oe,"ethereum"==c?U.b.ETH_CONTRACT_ADDRESS:U.b.BSC_CONTRACT_ADDRESS).methods.burnToken(a,i,"0x"+r.toString(16)).send({from:t}).on("transactionHash",e).on("error",o)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,c,a,r,i){return e.apply(this,arguments)}}(),je=function(){var e=Object(r.c)(ae.d),t=re(e),n=t.account,a=t.status,i=se(),o=Object(r.b)();return{getSignatures:Object(c.useCallback)(function(){var t=Object(_.a)(L.a.mark((function t(c,r,o,s,l,u,b,d){var j;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s-=1e6,!n||!i||"connected"!==a){t.next=13;break}return t.prev=2,console.log(c,r,o,s,l.toUpperCase(),u,b,d),t.next=6,le(n,i,e,c,r,o,s,l.toUpperCase(),u,b,d);case 6:return j=t.sent,t.abrupt("return",{err:null,result:j});case 10:return t.prev=10,t.t0=t.catch(2),t.abrupt("return",{err:t.t0,result:null});case 13:return t.abrupt("return",{err:{code:-1,message:"something went wrong"},result:null});case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e,n,c,a,r,i,o,s){return t.apply(this,arguments)}}(),[n,i,a,e,o])}},Oe=function(){var e=Object(r.c)(ae.d),t=se();return{getToken:Object(c.useCallback)((function(){t&&function(e,t){console.log("Add Token for Network:",t),e.currentProvider.connection.isMetaMask&&e.currentProvider.connection.sendAsync({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:"ethereum"==t?U.b.ETH_TOKEN_ADDRESS:U.b.BSC_TOKEN_ADDRESS,symbol:"DFI",decimals:18,image:"https://cryptologos.cc/logos/defichain-dfi-logo.svg?v=018"}}},(function(e,t){console.log("provider returned",e,t)}))}(t,e)}),[t,e])}},he=function(e){var t=Object(r.c)(ae.d),n=re(t),a=n.account,i=n.status,o=se(),s=Object(r.b)();return{updateBsc:Object(c.useCallback)(Object(_.a)(L.a.mark((function n(){var c,a;return L.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!o){n.next=18;break}if(n.prev=1,"Ethereum"!=e){n.next=9;break}return n.next=5,be(o,t);case 5:return c=n.sent,n.abrupt("return",{err:null,result:c});case 9:return n.next=11,ue(o,t);case 11:return a=n.sent,n.abrupt("return",{err:null,result:a});case 13:n.next=18;break;case 15:return n.prev=15,n.t0=n.catch(1),n.abrupt("return",{err:n.t0,result:null});case 18:return n.abrupt("return",{err:{code:-1,message:"something went wrong"},result:null});case 19:case"end":return n.stop()}}),n,null,[[1,15]])}))),[a,o,i,t,s])}},pe=function(){var e=Object(r.b)(),t=Object(r.c)(ae.d),n=re(t),a=n.account,i=n.status,o=se();return{getSignatures:Object(c.useCallback)(Object(_.a)(L.a.mark((function e(){return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.debug("reauth");case 2:case"end":return e.stop()}}),e)}))),[a,o,i,t,e])}},fe=function(e){var t=Object(r.b)();Object(c.useEffect)((function(){return t(Object(ae.j)(e)),function(){t(Object(ae.j)(!1))}}),[t,e])},xe=n(461),me=n(21),ve=function(e){var t=Object(r.b)(),n=Object(r.c)(ae.d),a=Object(r.c)(X.a);Object(c.useEffect)((function(){var c=Object(Y.k)(e).networkMappings[n],r=null;Object(Y.s)(a)?r=c.testnet:Object(Y.r)(a)?r=c.mainnet:console.error("Unknown network ".concat(r)),r&&a!==r&&t(Object(X.c)(r))}),[t,n,e,a])},ge=function(e){var t=Object(r.b)(),n=Object(r.c)(xe.b);Object(c.useEffect)((function(){e!==n&&t(Object(xe.g)(e))}),[t,e,n])},ye=n(237),Ce=n(190),ke=n(1120),we=n(2211),Te=n(2212),Se=n(2225),Ne=n(2213),Ee=n(239),Ie=n(9),Ae=Object(d.a)("div")({marginTop:10,textAlign:"center"}),Me=n(431),Be=n(217),De=Object(u.a)({root:{background:"lightgray"},wrapper:{background:"gray",overflow:"hidden",height:5,"&:hover":{height:10}},wrapperEnabled:{height:"auto","&:hover":{height:"auto"}}}),Re=0==U.a,Fe=function(e){var t=e.enabled,n=e.children,a=De(),r=Object(c.useState)(!1),i=Object(A.a)(r,2),o=i[0],l=i[1],u=Object(c.useCallback)((function(){l(!o)}),[o]);if(!t)return Object(p.jsx)(p.Fragment,{children:n});var b=O()(a.wrapper,Object(s.a)({},a.wrapperEnabled,o));return Object(p.jsx)("div",{className:b,onClick:u,children:n})},Pe=function(){var e=new WeakSet;return function(t,n){if(n&&"Buffer"===n.type)return"buffer";if("object"===typeof n&&null!==n){if(e.has(n))return;e.add(n)}return n}},We=function(e){var t=e.it,n=e.force,a=e.disable,r=e.wrapper,i=e.children,o=De(),s=t||i,l=!Re||n,u=Object(c.useCallback)((function(e){e.stopPropagation()}),[]);return l&&!a?Object(p.jsx)(Fe,{enabled:!!r,children:Object(p.jsx)("pre",{className:o.root,onClick:u,children:JSON.stringify(s,Pe(),2)})}):null},Le=function(e){return Object(p.jsx)(We,{it:e})},_e=function(e,t){var n=Object(r.c)(ae.d),a=re(n),i=(a.provider,a.walletConnected,Object(r.c)(X.a),Object(c.useState)({mint:20,burn:20,lock:1e6,release:1e6})),o=Object(A.a)(i,2),s=o[0],l=(o[1],Object(c.useState)(!1)),u=Object(A.a)(l,2),b=u[0];u[1];return{fees:s,pending:b}},He=n(1568),ze=(n(1569),{thousandSeparator:!0,allowLeadingZeros:!1,allowNegative:!1,allowedDecimalSeparators:[".",","]}),Ue=function(e){var t=e.spacedSuffix,n=e.suffix,c=Object(l.a)(e,["spacedSuffix","suffix"]),a=t?" ".concat(t):n;return Object(p.jsx)(He.a,Object(o.a)(Object(o.a)({},ze),{},{displayType:"text",suffix:a},c))},Ve=n(455),Ge=n(429),Je=n(422),Ke=n(127),qe=n(346),Ye=(n(2210),n(169)),Qe=n(2209),Xe=n(2208),Ze=n(2207),$e=n(464),et=n.n($e),tt=Object(u.a)((function(e){return{dialogTitle:{display:"flex",justifyContent:"space-between",alignItems:"stretch",borderBottom:"1px solid ".concat(e.palette.divider)},titleWrapper:{flexGrow:1,paddingLeft:30,paddingRight:30,textAlign:"center"},title:{},customContentWrapper:{flexGrow:1,display:"flex",alignItems:"center",justifyContent:"center"},closeButtonWrapper:{minWidth:30},closeButton:{color:e.palette.grey[600]},prevButtonWrapper:{minWidth:30},prevButton:{color:e.palette.grey[600]}}})),nt=function(e){var t=e.title,n=e.onClose,c=e.onPrev,a=e.className,r=e.children,i=tt();return Object(p.jsxs)(Ze.a,{disableTypography:!0,className:O()(a,i.dialogTitle),children:[Object(p.jsx)("div",{className:i.prevButtonWrapper,children:c?Object(p.jsx)(ye.a,{"aria-label":"prev",className:i.prevButton,onClick:function(){c&&c()},children:Object(p.jsx)(Ie.b,{fontSize:"inherit"})}):null}),t&&Object(p.jsx)("div",{className:i.titleWrapper,children:Object(p.jsx)(Ce.a,{variant:"body1",className:i.title,children:t})}),r&&Object(p.jsx)("div",{className:i.customContentWrapper,children:r}),Object(p.jsx)("div",{className:i.closeButtonWrapper,children:n?Object(p.jsx)(ye.a,{"aria-label":"close",className:i.closeButton,onClick:function(){n&&n({},"backdropClick")},children:Object(p.jsx)(et.a,{fontSize:"inherit"})}):null})]})},ct=function(e){var t=e.title,n=e.open,c=e.onClose,a=e.children,r=e.maxWidth;return Object(p.jsxs)(Xe.a,{onClose:c,open:n,maxWidth:r,children:[Object(p.jsx)(nt,{onClose:c,title:t}),a]})},at=Object(u.a)((function(e){return{backdrop:{position:"absolute",top:0,right:0,bottom:0,left:0,zIndex:"auto"},positioner:{position:"relative",top:0,right:0,bottom:0,left:0},paper:{position:"absolute",top:160,bottom:0,width:"100%",display:"flex",flexDirection:"column"}}})),rt=function(e){e.stopPropagation()},it=Object(d.a)("div")({display:"flex",flexDirection:"column",flexGrow:2,justifyContent:"space-between"}),ot=Object(d.a)("div")({}),st=Object(d.a)("div")({}),lt=function(e){var t=e.open,n=e.onClose,c=e.title,a=e.className,r=e.children,i=at(),o=O()(a,i.paper);return Object(p.jsx)(Qe.a,{className:i.backdrop,open:t,onClick:n,children:Object(p.jsxs)(x,{className:o,onClick:rt,children:[c&&Object(p.jsx)(nt,{onClose:n,title:c}),r]})})},ut=(Object(d.a)("div")({marginTop:5,marginBottom:5}),function(e){var t=e.reason,n=void 0===t?"":t,a=e.processing,r=void 0===a||a,i=Object(Ke.a)(),o=Object(B.d)(),s=Object(A.a)(o,2)[1];return Object(c.useEffect)((function(){s(n)}),[s,n]),Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(Ve.d,{children:Object(p.jsx)(Ve.c,{processing:r,color:i.palette.primary.main,children:Object(p.jsx)(Ve.f,{status:n})})})})}),bt=Object(d.a)("div")((function(e){return{fontSize:72,lineHeight:1,marginTop:8,textAlign:"center",color:e.theme.customColors.textLight}})),dt=function(e){var t=e.title,n=void 0===t?"Error":t,c=e.open,a=e.reason,r=void 0===a?"":a,i=e.actionText,o=void 0===i?"":i,s=e.onAction,l=e.children;return Object(p.jsxs)(ct,{open:c,title:n,maxWidth:"xs",children:[Object(p.jsxs)(E,{children:[Object(p.jsx)(bt,{children:Object(p.jsx)(Ie.Q,{fontSize:"inherit",color:"inherit"})}),Object(p.jsx)(Ce.a,{variant:"h5",align:"center",gutterBottom:!0,children:r}),Object(p.jsx)(Ce.a,{color:"textSecondary",align:"center",gutterBottom:!0,component:"div",children:l})]}),Object(p.jsx)(C,{bottomPadding:!0,children:Object(p.jsx)(Ee.b,{children:Object(p.jsx)(Ee.a,{onClick:s,children:o})})})]})},jt=function(e){return Object(p.jsx)(dt,Object(o.a)(Object(o.a)({reason:"Error submitting",actionText:"Return to submission screen"},e),{},{children:Object(p.jsx)("span",{children:"Return to previous screen to resubmit"})}))},Ot=function(e){return Object(p.jsx)(dt,Object(o.a)(Object(o.a)({reason:"An error has occurred",actionText:"Refresh page"},e),{},{children:Object(p.jsxs)("span",{children:["Please ensure you have this page bookmarked before refreshing. If this error persists, please"," ",Object(p.jsx)(Ye.a,{external:!0,href:I.b.BUGS_LOG,color:"primary",underline:"hover",children:"submit a bug here"}),"."]})}))},ht=function(e){var t=e.title,n=void 0===t?"Warning":t,c=e.open,a=e.reason,r=void 0===a?"":a,i=e.mainActionText,o=void 0===i?"":i,s=e.onMainAction,l=e.mainActionDisabled,u=e.alternativeActionText,b=void 0===u?"":u,d=e.onAlternativeAction,j=e.alternativeActionDisabled,O=e.children,h=s&&o;return Object(p.jsxs)(ct,{open:c,title:n,maxWidth:"xs",children:[Object(p.jsxs)(E,{children:[Object(p.jsx)(bt,{children:Object(p.jsx)(Ie.K,{fontSize:"inherit",color:"inherit"})}),Object(p.jsx)(Ce.a,{variant:"h5",align:"center",gutterBottom:!0,children:r}),Object(p.jsx)(Ce.a,{color:"textSecondary",align:"center",gutterBottom:!0,component:"div",children:O})]}),Object(p.jsxs)(C,{bottomPadding:!0,children:[Object(p.jsx)(Ee.b,{children:Object(p.jsx)(Ee.f,{variant:"text",color:"inherit",onClick:d,disabled:j,children:b})}),h&&Object(p.jsx)(Ee.b,{children:Object(p.jsx)(Ee.a,{onClick:s,disabled:l,children:o})})]})]})},pt=function(e){var t=e.address,n=e.addressExplorerLink,c=e.currency,a=Object(l.a)(e,["address","addressExplorerLink","currency"]);return Object(p.jsx)(ht,Object(o.a)(Object(o.a)({reason:"Different account detected",alternativeActionText:"Continue anyway"},a),{},{children:Object(p.jsxs)("span",{children:["This transaction was created with a different account to the current account (",Object(p.jsx)(Ye.a,{external:!0,href:n,color:"primary",underline:"hover",children:Q(t,5)}),"). If you do not have access to the account that created the transaction, you will not be able to access the ",c,". Please switch account in your wallet."]})}))},ft="The amount and asset you\u2019re sending before fees are applied.",xt="The blockchain you\u2019re sending the asset to.",mt="The wallet that will receive the minted assets.",vt=Object(d.a)("div")({position:"relative"}),gt=function(){return Object(p.jsx)("span",{children:"DefiChain-Bridge has detected another deposit to the same gateway address. It will require an additional submission to to the destination chain via your web3 wallet."})},yt=function(e){var t=e.currency,n=e.type,c=e.chain,a=e.address,r=e.hideButton,i=ie().status,o=(Object(Y.k)(t),Object(Y.h)(c)),s=_e(),l=s.fees,u=s.pending,b=Object(Je.a)({fees:l,type:n}),d=b.renVMFee,j=(b.renVMFeeAmount,b.networkFee),O=(Oe().getToken,n===me.f.MINT?t:Object(Y.y)(t)),h=Object(Y.k)(O),f=Object(Y.h)(h.sourceChain),x=Object(me.k)({mintFee:l.mint/1e4,releaseFee:l.burn/1e4,sourceCurrency:O,chain:c});Object(Ge.a)(1337),Object(Y.k)(o.nativeCurrency);return i!==K.CONNECTED?null:u?Object(p.jsx)(Ve.b,{}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(We,{it:{currency:t,fees:l}}),Object(p.jsx)(Be.d,{label:"Bridge Node Fee",labelTooltip:x.renVmFee,value:Object(p.jsx)(Ue,{value:d,spacedSuffix:"%",decimalScale:2})}),Object(p.jsx)(Be.d,{label:"".concat(f.full," Miner Fee"),labelTooltip:x.sourceChainMinerFee,value:Object(p.jsx)(Ue,{value:j,spacedSuffix:f.short})}),Object(p.jsx)(Be.d,{label:"Esti. ".concat(o.short," Fee"),labelTooltip:x.renCurrencyChainFee,value:"See Metamask"}),a&&Object(p.jsx)(Be.d,{label:"Recipient Address",labelTooltip:mt,value:Object(p.jsx)(Be.e,{hoverable:!0,children:a})}),!r&&Object(p.jsx)(p.Fragment,{})]})},Ct=n(283),kt=n(457),wt=n(471),Tt=function(){var e=function(){var e=Object(i.g)();return e.pathname.indexOf(M.a.MINT)>-1?"mint":e.pathname.indexOf(M.a.RELEASE)>-1?"burn":null}(),t=Object(r.c)(ae.b),n=Object(r.c)(X.a),c=Object(r.c)(Ct.b),a=Object(r.c)(kt.b);if(t!==Y.a.ETHC||null==e||Object(Y.r)(n))return"";var o="mint"===e?Object(Y.x)(c):a;return Object(Y.k)(o).ethTestnet||Y.d.KOVAN},St=n(245),Nt=n(1253),Et=function(e){var t=e.onPrev;fe(!0);var n,a=Object(r.b)(),o=Object(i.f)(),s=ie(),l=s.status,u=s.walletConnected,b=s.account,d=Object(c.useState)(!1),j=Object(A.a)(d,2),O=j[0],h=j[1],f=Object(r.c)(Ct.a).currency,x=Object(r.c)(ae.e),m=x.chain,v=x.signatures.signature,g=Object(r.c)(X.a),y=Object(r.c)(xe.a),N=_e(0,me.f.MINT),E=(N.fees,N.pending,Object(Y.k)(f).GreyIcon,Object(Y.h)(m)),I=Object(Y.k)(E.nativeCurrency),B=(n=I,{acknowledge:"Minting an asset on ".concat(E.full," requires you to submit a transaction. It will cost you a small amount of ").concat(n.short,".")}),D=Object(Y.x)(f),R=(Object(Y.k)(D),Object(c.useState)(!1)),F=Object(A.a)(R,2),P=F[0],W=F[1],H=Object(c.useState)(!1),z=Object(A.a)(H,2),U=z[0],V=z[1],G=!P&&U,J=Object(c.useCallback)((function(e){V(!0),W(e.target.checked)}),[]);!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:600,n=Object(r.b)();Object(c.useEffect)((function(){return e&&(n(Object(wt.b)(!0)),setTimeout((function(){n(Object(wt.b)(!1))}),t)),function(){n(Object(wt.b)(!1))}}),[n,e,t])}(G);var q=Object(c.useMemo)((function(){return Object(St.a)({currency:f,destAddress:b,mintedCurrency:Object(Y.x)(f),mintedCurrencyChain:m,userAddress:b,network:g,dayIndex:y})}),[f,b,m,g,y]),Q=Object(St.e)(q),Z=P&&Q,$=Object(c.useCallback)((function(){l===K.CONNECTED?(V(!0),h(!!Z)):(V(!1),h(!1),a(Object(ae.l)(!0)))}),[a,l,Z]),ee=Object(c.useCallback)(function(){var e=Object(_.a)(L.a.mark((function e(t){var n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Nt.a)(t.userAddress,t.destination);case 2:1==(n=e.sent).status&&(t.gatewayAddress=n.result,a(Object(xe.g)(t.id)),a(Object(xe.e)(t)),o.push({pathname:M.a.MINT_TRANSACTION,search:"?"+Object(me.h)(t),state:{txState:{newTx:!0}}}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[a,o,b,v]),te=Object(c.useState)(!1),ne=Object(A.a)(te,2),ce=ne[0],re=ne[1];return Object(c.useEffect)((function(){O&&!ce&&(re(!0),ee(q).finally())}),[ee,O,q,ce]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(k,{children:[Object(p.jsx)(w,{children:Object(p.jsx)(ye.a,{onClick:t,children:Object(p.jsx)(Ie.b,{})})}),Object(p.jsx)(S,{children:"Fees & Confirm"}),Object(p.jsx)(T,{})]}),Object(p.jsxs)(C,{bottomPadding:!0,children:[Object(p.jsx)(Ce.a,{variant:"body1",gutterBottom:!0,children:"Details"}),Object(p.jsx)(Be.c,{label:"Sending",labelTooltip:ft,strvalue:f+" on "+Object(Y.k)(f).full}),Object(p.jsx)(Be.d,{label:"To",labelTooltip:xt,value:E.full}),Object(p.jsx)(Be.d,{label:"Recipient Address",labelTooltip:mt,value:Object(p.jsx)(Be.e,{hoverable:!0,children:q.userAddress})}),Object(p.jsx)(Be.f,{}),Object(p.jsx)(Ce.a,{variant:"body1",gutterBottom:!0,children:"Fees"}),Object(p.jsx)(yt,{chain:m,currency:f,type:me.f.MINT,hideButton:!0})]}),Object(p.jsx)(ke.a,{}),Object(p.jsxs)(C,{darker:!0,topPadding:!0,bottomPadding:!0,children:[Object(p.jsx)(Ae,{children:Object(p.jsx)(we.a,{error:G,children:Object(p.jsx)(Te.a,{control:Object(p.jsx)(Se.a,{checked:P,onChange:J,name:"ack",color:"primary"}),label:Object(p.jsx)(Ne.a,{htmlFor:"ack",component:Ce.a,children:Object(p.jsxs)(Ce.a,{variant:"caption",color:G?"inherit":"textPrimary",children:["I acknowledge this transaction requires"," ",I.short," ",Object(p.jsx)(Me.a,{title:B.acknowledge})]})})})})}),Object(p.jsx)(Ee.b,{children:Object(p.jsx)(Ee.a,{onClick:$,disabled:!P||O||!u,children:u?O?"Confirming...":"Confirm":"Connect Wallet"})})]}),Object(p.jsx)(We,{it:{tx:q}})]})},It=n(2220),At=n(657),Mt=n(2229),Bt=n(2226),Dt=n(2217),Rt=n(2218),Ft=n(57),Pt=n(2214),Wt=n(352),Lt=function(e){var t=Object(r.b)(),n=Object(r.c)(ae.b),a=ie(),i=a.walletConnected,o=a.provider,s=a.account,l=Object(r.c)(X.a),u=Object(Y.h)(n),b=Wt.d[u.rentxName];Object(c.useEffect)((function(){i||t(Object(ae.i)())}),[t,i]);var d=Object(c.useCallback)((function(e){return o&&s&&i&&function(e,t,n){var c=Object(Y.k)(e);if(c.networkMappings){var a=c.networkMappings[n];return a.testnet===t||a.mainnet===t}return!0}(e,l,u.rentxName)?b(o,l).getBalance(e,s).then((function(e){return e.toNumber()/1e8})).catch(console.error):Promise.resolve(null)}),[b,s,l,o,i,u.rentxName]);Object(Pt.a)((function(){if(i){var n,c=Object(Ft.a)(e);try{var a=function(){var e=n.value,c=Object(Y.y)(e);d(c).then((function(n){null!==n&&t(Object(ae.h)({symbol:e,balance:n}))}))};for(c.s();!(n=c.n()).done;)a()}catch(r){c.e(r)}finally{c.f()}}}),1e3,[t,d,i])},_t=function(e,t){var n=e.find((function(e){return e.symbol===t}));return null===n||void 0===n?void 0:n.balance},Ht=function(e){return"chain"===e?Object.values(Y.f):Object.values(Y.g)},zt={width:32,height:32},Ut=Object(u.a)((function(){return{select:{paddingTop:4,paddingBottom:4}}})),Vt=Object(u.a)((function(e){return{root:{width:"100%",borderRadius:e.shape.borderRadius,border:"1px solid ".concat(e.customColors.grayLight)},inputRoot:{width:"100%"},supplementalText:{fontSize:12},iconWrapper:{display:"inline-flex",justifyContent:"center",alignItems:"center"},listIcon:zt,assetName:{fontSize:13},assetFullName:{fontSize:11},balance:{fontSize:12},listSubheader:{pointerEvents:"none",fontSize:10,lineHeight:1},listSubheaderLabel:{fontSize:10}}})),Gt=function(e){var t=e.mode,n=e.available,a=e.condensed,r=void 0!==a&&a,i=e.label,s=e.balances,u=Object(l.a)(e,["mode","available","condensed","label","balances"]),b=Vt(),d=Ut(),j=Object(c.useMemo)((function(){return function(e){return function(t){return!e||e.includes(t.symbol)}}(n)}),[n]),O=Object(c.useMemo)((function(){return function(e){var n=function(e,t){return Ht(t).find((function(t){return t.symbol===e}))}(e,t),c=function(e){var t="Select",n="Select",c=Ie.A;return e&&(t=e.full,n=e.short,c=e.MainIcon),{full:t,short:n,Icon:c}}(n),a=c.Icon,o=c.full;c.short;return Object(p.jsxs)(At.a,{display:"flex",alignItems:"center",width:"100%",children:[!r&&Object(p.jsx)(At.a,{width:"37%",children:Object(p.jsx)(Ce.a,{variant:"body2",className:b.supplementalText,children:i})}),Object(p.jsx)(At.a,{width:"45px",display:"flex",alignItems:"center",children:Object(p.jsx)(a,{className:b.listIcon})}),Object(p.jsx)(At.a,{flexGrow:1,children:Object(p.jsx)(Ce.a,{variant:"body2",children:o})})]})}}),[t,b,i,r]);return Object(p.jsx)("div",{children:Object(p.jsxs)(Bt.a,Object(o.a)(Object(o.a)({variant:"outlined",className:r?void 0:b.inputRoot,classes:r?d:void 0,renderValue:O,displayEmpty:!0,MenuProps:{anchorOrigin:{vertical:"bottom",horizontal:"left"},getContentAnchorEl:null}},u),{},{children:[Object(p.jsx)(Dt.a,{className:b.listSubheader,children:Object(p.jsxs)(At.a,{display:"flex",alignItems:"center",width:"100%",children:[Object(p.jsx)(At.a,{width:"45px"}),Object(p.jsx)(At.a,{flexGrow:1,children:Object(p.jsx)(Ce.a,{variant:"overline",className:b.listSubheaderLabel,children:"chain"===t?"Blockchain":"Asset"})}),s&&s.length>0&&Object(p.jsx)(At.a,{flexGrow:1,textAlign:"right",children:Object(p.jsx)(Ce.a,{variant:"overline",className:b.listSubheaderLabel,children:"Your Balance"})})]})}),Ht(t).filter(j).map((function(e){var n=e.symbol,c=e.MainIcon,a=(e.GreyIcon,e.full),r=e.short;return Object(p.jsx)(Rt.a,{value:n,children:Object(p.jsxs)(At.a,{display:"flex",alignItems:"center",width:"100%",children:[Object(p.jsx)(At.a,{width:"45px",className:b.iconWrapper,children:Object(p.jsx)(c,{className:b.listIcon})}),Object(p.jsxs)(At.a,{flexGrow:1,children:[Object(p.jsx)(Ce.a,{variant:"body1",className:b.assetName,children:"chain"===t?a:r}),"chain"!==t&&Object(p.jsx)(Ce.a,{color:"textSecondary",className:b.assetFullName,children:a})]}),s&&Object(p.jsx)(At.a,{flexGrow:1,textAlign:"right",className:b.balance,children:Object(p.jsx)(Ue,{value:_t(s,n)})})]})},n)}))]}))})},Jt=Object(d.a)("div")({marginTop:10}),Kt=n(1161),qt=function(e){var t=e.onNext,n=Object(r.b)(),a=Object(r.c)(Ct.a).currency,i=Object(r.c)(ae.e).chain,o=ie(),s=(o.status,o.walletConnected),l=o.account,b=je().getSignatures,d=Object(c.useState)(!1),j=Object(A.a)(d,2),O=j[0],h=j[1],f=Object(c.useState)(""),x=Object(A.a)(f,2),m=x[0],v=x[1],g=Object(c.useState)(""),y=Object(A.a)(g,2),k=y[0],w=y[1],T=Object(c.useState)(""),S=Object(A.a)(T,2),N=S[0],E=S[1],I=Object(c.useState)(""),M=Object(A.a)(I,2),B=M[0],D=M[1],R=Object(c.useState)(!1),F=Object(A.a)(R,2),P=F[0],W=F[1],H=Object(c.useState)(null),z=Object(A.a)(H,2),U=z[0],V=z[1],G=Object(c.useState)({}),J=Object(A.a)(G,2),K=J[0],q=J[1],Q=Object(c.useCallback)((function(e){E(""),D(""),V(null),W(!1),h(!0),e.preventDefault()}),[]),X=Object(c.useCallback)((function(){h(!1)}),[]),Z=Object(c.useCallback)((function(e){n(Object(Ct.e)(e.target.value))}),[n]),$=Object(c.useCallback)((function(e){n(Object(ae.k)(e.target.value))}),[n]),ee=Object(Y.x)(a);ve(ee);var te=!0,ne=Object(c.useCallback)((function(){s?t&&t():n(Object(ae.l)(!0))}),[n,t,s,te]),ce=Object(c.useCallback)(Object(_.a)(L.a.mark((function e(){var t,n,c,a,r,i,o;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("Submitting via Wallet Provider"),void 0!=(n=U).signatures){e.next=6;break}return E("Signature Object seems bad"),console.log(n),e.abrupt("return");case 6:return c="0x"+n.signatures[0].r.padStart(64,"0")||!1,a="0x"+n.signatures[0].s.padStart(64,"0")||!1,r="00"==n.signatures[0].recovery_id?0:1,e.next=11,b(k,m,K.n||0,Object(Nt.f)(K.satoshi||"0"),"DFI",c,a,r+27);case 11:if(null===(i=e.sent).err||0==(null===(t=i.err)||void 0===t?void 0:t.code)){e.next=18;break}return E(null===(o=i.err)||void 0===o?void 0:o.message),console.log(n),e.abrupt("return");case 18:D(i.result);case 19:case"end":return e.stop()}}),e)}))),[l,i,k,m,U,K]),re=Object(c.useCallback)(Object(_.a)(L.a.mark((function e(){var t;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return E(""),D(""),W(!0),e.prev=3,console.log("recover on chain:","BSCC"==i.toString()?"binance":"ethereum"),e.next=7,Object(Nt.a)(k,"BSCC"==i.toString()?"binance":"ethereum");case 7:t=e.sent,console.log("deposit address was:",t.result),Object(Nt.e)(t.result||"",m).then((function(e){console.log("found n:",e),q(e),console.log("SATOS:",Object(Nt.f)(e.satoshi||"0")),Object(Nt.c)(k,m,e.n||0,"BSCC"==i.toString()?"binance":"ethereum").then((function(e){var t;if(console.log(e),1!=e.status)return E((null===e||void 0===e||null===(t=e.blame)||void 0===t?void 0:t.fail_reason)||"Unknown Error"),void W(!1);V(e)})).catch((function(e){E(e),W(!1)}))})).catch((function(e){E(e),W(!1)})),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),E(e.t0.toString()),W(!1);case 16:case"end":return e.stop()}}),e,null,[[3,12]])}))),[l,k,i,m,K]),oe=Object(Y.x)(a),se=(Object(Y.k)(oe).GreyIcon,Object(u.a)((function(e){return{root:{"& .MuiInputBase-input":{background:"rgb(232, 241, 250)"}}}}))());return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(C,{bottomPadding:!0,children:[Object(p.jsx)(Jt,{children:Object(p.jsx)(Gt,{label:"Send",mode:"send",available:Y.u,value:a,onChange:Z})}),Object(p.jsx)(Jt,{children:Object(p.jsx)(Gt,{label:"Destination",mode:"chain",available:Y.v,value:i,onChange:$})})]}),Object(p.jsx)(ke.a,{}),Object(p.jsxs)(C,{darker:!0,topPadding:!0,bottomPadding:!0,children:[Object(p.jsx)(Ee.b,{children:Object(p.jsx)(Ee.a,{onClick:ne,disabled:!1,children:s?"Next":"Connect Wallet"})}),Object(p.jsx)(Ce.a,{variant:"subtitle2",align:"center",color:"textSecondary",gutterBottom:!0,children:s?Object(p.jsx)(Ye.a,{href:"#",onClick:Q,color:"textSecondary",children:"Click here to recover an incomplete transaction"}):""})]}),Object(p.jsx)(ct,{open:O,title:"Recovery",onClose:X,children:Object(p.jsxs)(It.a,{children:[""!=N?Object(p.jsx)(At.a,{mb:2,children:Object(p.jsx)(Kt.a,{severity:"error",children:N})}):"",""!=B?Object(p.jsx)(At.a,{mb:2,children:Object(p.jsx)(Kt.a,{severity:"success",children:B})}):"",Object(p.jsx)(Ce.a,{variant:"h5",align:"center",gutterBottom:!0,children:"Transaction Recovery"}),Object(p.jsx)(Ce.a,{variant:"body2",align:"center",gutterBottom:!0,children:"If your transaction has got stuck, you can recover the last state by specifying the Defichain transaction id for your deposit. After clicking the recovery button, the last state of your deposit+mint transaction will be recovered."}),null==U?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(At.a,{mt:3,alignItems:"center",justifyContent:"center",display:"flex",children:Object(p.jsx)(Mt.a,{autoFocus:!0,className:se.root,style:{width:"60%"},label:"Enter your Defichain TxID",onChange:function(e){v(e.target.value)}})}),Object(p.jsx)(At.a,{mt:3,alignItems:"center",justifyContent:"center",display:"flex",children:Object(p.jsx)(Mt.a,{autoFocus:!0,className:se.root,style:{width:"60%"},label:"Enter your ERC20 target address",onChange:function(e){w(e.target.value.toLowerCase())}})}),Object(p.jsx)(At.a,{mt:5,alignItems:"center",justifyContent:"center",display:"flex",children:Object(p.jsx)(Ee.a,{disabled:P,onClick:re,children:P?"Wait ... might take some time.":"Recover"})})]}):Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(At.a,{mt:5,alignItems:"center",justifyContent:"center",display:"flex",children:Object(p.jsxs)(Ee.a,{color:"secondary",onClick:ce,children:["Click here to mint on ","BSCC"==i.toString()?"Binance":"Ethereum"]})})})]})})]})},Yt=n(2187),Qt=n(216),Xt=n(1608),Zt=n.n(Xt),$t=n(2232),en=n(208),tn=Object(u.a)((function(e){return{root:{width:400},body:{padding:24},header:{display:"flex",justifyContent:"space-between",alignItems:"stretch",borderBottom:"1px solid ".concat(e.palette.divider),padding:"16px 16px 14px"},headerTitle:{flexGrow:2,paddingLeft:16,textAlign:"center",lineHeight:2},headerCloseIcon:{fontSize:16},button:{border:"1px solid ".concat(e.palette.divider)},chainTitle:{textTransform:"capitalize",fontSize:14}}})),nn=Object(u.a)({root:{marginTop:20,fontSize:16,padding:"11px 20px 11px 20px"},label:{display:"flex",justifyContent:"space-between",alignContent:"center"},icon:{fontSize:36,display:"inline-flex"}}),cn=function(e){var t=e.onClick,n=e.name,c=(e.logo,nn()),a=c.icon,r=Object(l.a)(c,["icon"]),i=Object(Y.q)(n),o=i.MainIcon;return Object(p.jsxs)(qe.a,{classes:r,variant:"outlined",size:"large",fullWidth:!0,onClick:t,children:[Object(p.jsx)("span",{children:i.full})," ",Object(p.jsx)("span",{className:a,children:Object(p.jsx)(o,{fontSize:"inherit"})})]})},an=function(e){var t=e.chain,n=Object(Y.i)(t);return Object(p.jsx)("span",{children:n.full})},rn=function(e){var t=e.chain,n=e.onClose,c=Object(Ke.a)(),a=Object(Y.i)(t),r="ethereum"===t?Y.c.METAMASKW:Y.c.BINANCESMARTW,i=Object(Y.p)(r),o=function(e,t){return{initialTitle:"Connecting",actionTitle:"".concat(t.short," action required"),initialMessage:"Connecting to ".concat(e.full),actionMessage:"When prompted, connect securely via the ".concat(t.full," browser extension.")}}(a,i),s=i.MainIcon,l=Object($t.a)(3e3),u=(0,Object(A.a)(l,1)[0])();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(We,{it:{chainConfig:a}}),Object(p.jsx)(nt,{title:u?o.actionTitle:o.initialTitle,onClose:n}),Object(p.jsxs)(C,{bottomPadding:!0,children:[Object(p.jsx)(Ve.d,{children:Object(p.jsx)(Ve.c,{size:128,color:c.customColors.skyBlueLight,fontSize:"big",processing:!0,children:Object(p.jsx)(s,{fontSize:"inherit"})})}),Object(p.jsx)(Ce.a,{variant:"h6",align:"center",children:u?o.actionMessage:o.initialMessage})]})]})},on=Object(u.a)((function(e){return{iconWrapper:{padding:13,backgroundColor:e.palette.divider,display:"flex",justifyContent:"center",alignItems:"center",fontSize:44}}})),sn=function(){var e=Object(Ke.a)(),t=on();return Object(p.jsx)(Ve.c,{color:e.customColors.redLighter,size:128,children:Object(p.jsx)("div",{className:t.iconWrapper,children:Object(p.jsx)(Ie.P,{fontSize:"inherit",color:"secondary"})})})},ln=function(e){var t=e.chain,n=e.targetNetwork,c=e.onClose,a=Object(Ke.a)(),r=Tt(),i=Object(Y.i)(t).full,s=Object(Y.o)(n).full,l=he("BSC").updateBsc,u=he("Ethereum").updateBsc,b=function(){var e=Object(_.a)(L.a.mark((function e(){var t,n;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Ethereum"!=i){e.next=7;break}return e.next=3,u();case 3:t=e.sent,console.log(t),e.next=11;break;case 7:return e.next=9,l();case 9:n=e.sent,console.log(n);case 11:return e.abrupt("return",!0);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Le,Object(o.a)({},e)),Object(p.jsx)(nt,{title:"Wrong Network",onClose:c}),Object(p.jsxs)(C,{bottomPadding:!0,children:[Object(p.jsx)(Ve.d,{children:Object(p.jsx)(Ve.c,{size:128,color:a.customColors.redLighter,fontSize:"big",children:Object(p.jsx)(Zt.a,{fontSize:"inherit",color:"secondary"})})}),Object(p.jsxs)(Ce.a,{variant:"h5",align:"center",gutterBottom:!0,children:["Switch to ",i," ",s,r&&Object(p.jsxs)("span",{children:[" (",r,")"]})]}),Object(p.jsxs)(Ce.a,{variant:"body1",align:"center",color:"textSecondary",children:["Defichain-Bridge requires you to connect to the ",i," ",s," ",r]}),Object(p.jsx)(Ee.c,{children:Object(p.jsxs)(Ee.a,{onClick:b,children:["Switch Metamask to ",i]})})]})]})},un=function(e,t){var n=Object(h.a)(t,3,e),c=n.pulsingStyles,a=n.pulsingKeyframes;return Object(o.a)(Object(o.a)({},a),{},Object(s.a)({},e,Object(o.a)(Object(o.a)({},c),{},{backgroundColor:t})))},bn=Object(u.a)((function(e){return Object(o.a)(Object(o.a)(Object(o.a)(Object(o.a)({root:{width:8,height:8,borderRadius:4,backgroundColor:e.palette.divider}},un("connected",e.palette.success.main)),un("disconnected",e.palette.error.main)),un("connecting",e.palette.info.main)),un("wrongNetwork",e.palette.warning.main))})),dn=function(e){var t,n=e.status,c=e.className,a=bn(),r=O()(a.root,c,(t={},Object(s.a)(t,a.connected,n===K.CONNECTED),Object(s.a)(t,a.wrongNetwork,n===K.WRONG_NETWORK),Object(s.a)(t,a.disconnected,n===K.DISCONNECTED),Object(s.a)(t,a.connecting,n===K.CONNECTING),t));return Object(p.jsx)("div",{className:r})},jn=Object(u.a)((function(e){return{root:{backgroundColor:e.palette.common.white,borderColor:e.palette.divider,boxShadow:en.b,"&:hover":{borderColor:e.palette.divider,backgroundColor:e.palette.divider}},hoisted:{zIndex:e.zIndex.tooltip},indicator:{marginRight:10},indicatorMobile:{marginLeft:16,marginRight:30},account:{marginLeft:20}}})),On=function(e){var t=e.status,n=e.account,c=e.wallet,a=e.hoisted,r=e.className,i=e.mobile,u=Object(l.a)(e,["status","account","wallet","hoisted","className","mobile"]),b=jn(),d=b.indicator,j=b.indicatorMobile,h=b.account,f=b.hoisted,x=Object(l.a)(b,["indicator","indicatorMobile","account","hoisted"]),m=t===K.CONNECTED?Object(Y.p)(c).short:function(e){switch(e){case"disconnected":return"Connect a Wallet";case"connecting":return"Connecting...";case"connected":return"Connected";case"wrong_network":return"Wrong Network!"}}(t),v=Q(n),g=O()(r,Object(s.a)({},f,a)),y=i?{}:{variant:"outlined",color:"secondary",classes:x};return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(qe.a,Object(o.a)(Object(o.a)(Object(o.a)({className:g},y),u),{},{children:[Object(p.jsx)(dn,{status:t,className:i?j:d}),Object(p.jsx)("span",{children:m}),v&&Object(p.jsx)("span",{className:h,children:v})]}))})},hn=n(1153),pn=n(1609),fn=n.n(pn),xn=n(1615),mn=n(20),vn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=!1;window.Notification&&(t="granted"===Notification.permission);var n=Object(c.useCallback)((function(){t?e&&e():Notification.requestPermission().then((function(){e&&e()}))}),[t,e]),a=Object(c.useCallback)((function(e){window.Notification&&(new Notification(e).onclick=function(){})}),[]);return{enabled:t,handleEnable:n,Notification:Notification,showBrowserNotification:a}},gn=function(e){var t=e.tx,n=Object(St.b)(t),c=n.lockCurrencyConfig,a=n.lockChainConfig,r=n.suggestedAmount,i=(n.mintAddressLink,c.color),o=a.MainIcon;return Object(B.f)("Send ".concat(a.short)),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Ve.d,{children:Object(p.jsx)(Ve.c,{color:i||mn.orangeLight,size:64,children:Object(p.jsx)(o,{fontSize:"inherit",color:"inherit"})})}),Object(p.jsx)(Qt.c,{children:Object(p.jsx)(Be.a,{value:Object(p.jsxs)("span",{children:["Send ",c.short," to"]})})}),t.gatewayAddress&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Qt.a,{children:Object(p.jsx)(hn.a,{in:!0,children:Object(p.jsx)(Ee.d,{children:Object(p.jsx)(fn.a,{value:Object(me.l)(a.symbol,t.gatewayAddress,r)})})})}),Object(p.jsx)(Ee.e,{content:t.gatewayAddress})]})]})},yn=function(e){var t,n=e.tx,a=e.depositHash,r=Object(B.d)(),i=Object(A.a)(r,2)[1],o=Object(St.b)(n,a),s=o.lockCurrencyConfig,l=o.lockChainConfig,u=o.lockTxHash,b=o.lockTxLink,d=o.lockTxAmount,j=o.lockConfirmations,O=o.lockTargetConfirmations,h=(o.lockProcessingTime,n.transactions[a]);u=a,b="https://defiscan.live/transactions/"+a.split(":")[0],j=(null===h||void 0===h?void 0:h.confirmations)||0;var f=(null===h||void 0===h||null===(t=h.vout)||void 0===t?void 0:t.value)||"???",x=l.MainIcon,m=j>=(O=(null===l||void 0===l?void 0:l.targetConfirmations)||0);return Object(c.useEffect)((function(){i(m?"Confirmed":"Confirming")}),[i,m]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Ve.d,{children:Object(p.jsx)(Ve.c,{color:s.color||mn.orangeLight,confirmations:j,targetConfirmations:O,children:Object(p.jsx)(x,{fontSize:"inherit",color:"inherit"})})}),Object(p.jsxs)(Qt.f,{children:[Object(p.jsx)(Ce.a,{variant:"h5",align:"center",children:Object(p.jsxs)("b",{children:["Received ",f," DFI"]})}),Object(p.jsxs)(Ce.a,{variant:"body1",align:"center",children:[j," of ",O," confirmations"]})]}),Object(p.jsx)(Qt.c,{children:Object(p.jsx)(Be.a,{value:Object(p.jsx)(Ue,{value:d,spacedSuffix:s.short})})}),Object(p.jsx)(Ee.h,{label:l.short,address:u,link:b})]})},Cn=function(e){var t,n=e.tx,c=e.onSubmit,a=e.onReload,r=e.submitting,i=e.submittingError,o=e.depositHash;Object(B.f)("Submit"),Object(B.e)(!0);var s=Object(Ke.a)(),l=Object(St.b)(n,o),u=l.lockCurrencyConfig,b=l.lockChainConfig,d=l.lockTxHash,j=l.lockTxAmount,O=l.lockTxLink,h=l.lockConfirmations,f=l.lockTargetConfirmations,x=l.mintChainConfig,m=n.transactions[o];d=o,O="https://defiscan.live/transactions/"+o.split(":")[0],h=(null===m||void 0===m?void 0:m.confirmations)||0;var v=(null===m||void 0===m||null===(t=m.vout)||void 0===t?void 0:t.value)||"???";f=(null===b||void 0===b?void 0:b.targetConfirmations)||0;var g="".concat(h>f?f:h,"/").concat(f," confirmations, ready to submit ").concat(u.short," to ").concat(x.full,"?"),y=Object(P.c)().showNotification,C=vn().showBrowserNotification;Object(xn.a)((function(){y(g),C(g)}));var k=b.MainIcon;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Ve.d,{children:r?Object(p.jsx)(Ve.c,{color:s.customColors.skyBlue,processing:!0,children:Object(p.jsx)(k,{fontSize:"inherit",color:"inherit"})}):Object(p.jsx)(Ve.c,{color:u.color||s.customColors.skyBlue,confirmations:h,targetConfirmations:f,children:Object(p.jsx)(k,{fontSize:"inherit",color:"inherit"})})}),Object(p.jsx)(Ce.a,{variant:"h5",align:"center",children:Object(p.jsxs)("b",{children:["Received ",v," DFI"]})}),Object(p.jsxs)(Ce.a,{variant:"body1",align:"center",gutterBottom:!0,children:[Object(p.jsx)(Ue,{value:j,spacedSuffix:u.full})," ","Received ",h>f?f:h,"/",f," Confirmations"]}),Object(p.jsx)(Ee.b,{children:Object(p.jsxs)(Ee.a,{onClick:c,disabled:r,children:[r?"Submitting":"Submit"," to ",x.full,r&&"..."]})}),Object(p.jsx)(Ee.b,{children:Object(p.jsx)(Ee.h,{label:b.short,address:d,link:O})}),Object(p.jsx)(jt,{open:i,onAction:a})]})},kn=function(e){var t=e.tx,n=e.onSubmit,c=void 0===n?function(){}:n,a=e.submitting,r=e.depositHash,i=Object(Ke.a)(),o=Object(St.b)(t,r),s=o.lockCurrencyConfig,l=o.lockChainConfig,u=o.lockTxHash,b=o.lockTxAmount,d=o.lockTxLink,j=o.mintTxLink,O=o.mintTxHash,h=o.mintChainConfig;t.transactions[r];return u=r,d="https://defiscan.live/transactions/"+r.split(":")[0],Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Ve.d,{children:Object(p.jsx)(Ve.c,{color:i.customColors.skyBlue,processing:!0,children:Object(p.jsx)(Ve.f,{status:"Pending",chain:h.full,address:Object(p.jsx)(Ye.a,{color:"primary",underline:"hover",href:j,target:"_blank",children:O})})})}),Object(p.jsx)(Ce.a,{variant:"body1",align:"center",gutterBottom:!0,children:Object(p.jsx)(Ue,{value:b,spacedSuffix:s.full})}),Object(p.jsx)(Ee.b,{children:Object(p.jsxs)(Ee.a,{onClick:c,disabled:a,children:[a?"Submitting":"Submit"," to ",h.full,a&&"..."]})}),Object(p.jsx)(Ee.b,{children:Object(p.jsx)(Ee.h,{label:l.short,address:u,link:d})})]})},wn=function(e){var t=e.tx,n=e.depositHash,a=e.mintHash,o=e.chain;Object(B.f)("Complete");var s=Object(r.b)(),l=Object(i.f)(),u=Object(St.b)(t,n),b=u.lockCurrencyConfig,d=u.mintCurrencyConfig,j=u.lockChainConfig,O=u.lockTxLink,h=(u.lockTxAmount,u.mintTxLink),f=u.mintChainConfig;O="https://defiscan.live/transactions/"+n.split(":")[0],h="ethereum"==o?"https://etherscan.io/tx/"+a:"https://bscscan.com/tx/"+a;var x=_e(b.symbol,me.f.MINT),m=x.fees,v=x.pending,g=Object(Je.a)({fees:m,type:me.f.MINT}).conversionTotal,y=Object(c.useCallback)((function(){l.push(M.a.MINT),s(Object(Ct.d)())}),[s,l]),C=Object(P.c)().showNotification,k=vn().showBrowserNotification,w=Object(c.useCallback)((function(){if(!v){var e="Successfully minted ".concat(d.short," on ").concat(f.full,".");C(Object(p.jsxs)("span",{children:[e," ",Object(p.jsxs)(Ye.a,{external:!0,href:h,children:["View ",f.full," transaction"]})]})),k(e)}}),[C,k,v,g,f,d,h]);return Object(c.useEffect)(w,[v]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Ve.d,{children:Object(p.jsx)(Ve.c,{children:Object(p.jsx)(Ve.a,{})})}),Object(p.jsx)(Ee.b,{children:Object(p.jsx)(Ee.a,{onClick:y,children:"Back to start"})}),Object(p.jsxs)(At.a,{display:"flex",justifyContent:"space-between",flexWrap:"wrap",py:2,children:[Object(p.jsxs)(Ye.a,{external:!0,color:"primary",variant:"button",underline:"hover",href:O,children:[j.full," transaction"]}),Object(p.jsxs)(Ye.a,{external:!0,color:"primary",variant:"button",underline:"hover",href:h,children:[f.full," transaction"]})]})]})},Tn=n(622),Sn=Object(u.a)((function(e){return{root:{color:e.palette.primary.main,fontSize:90,transition:"all 1s",display:"inline-flex",cursor:"pointer","&:hover":{color:e.palette.primary.dark}},disabled:{opacity:.2,cursor:"default"},hidden:{display:"none",opacity:0}}})),Nn=function(e){var t,n=e.direction,c=e.disabled,a=e.hidden,r=e.className,i=e.onClick,o=Sn(),l=O()(o.root,r,(t={},Object(s.a)(t,o.disabled,c),Object(s.a)(t,o.hidden,a),t)),u="prev"===n?Ie.I:Ie.H;return Object(p.jsx)(Tn.a,{className:l,disabled:c,onClick:i,children:Object(p.jsx)(u,{fontSize:"inherit"})})},En=Object(d.a)((function(e){return Object(p.jsx)(Nn,Object(o.a)({direction:"prev"},e))}))({position:"absolute",top:38,left:-42}),In=Object(d.a)((function(e){return Object(p.jsx)(Nn,Object(o.a)({direction:"next"},e))}))({position:"absolute",top:38,right:-42}),An=n(1413),Mn=n(2228),Bn=n(423),Dn=n(459),Rn=function(e){var t=e.history,n=e.location;fe(!0);var a=Object(r.b)(),i=Object(r.c)(ae.b),s=Object(Yt.a)("rdDict",{"bcc207a0e3745b9b4394e0daa6c098edc4224cb28379505c70b8407d73738905:0":"skip"}),l=Object(A.a)(s,2),u=l[0],b=l[1],d=(je().getSignatures,ie().walletConnected),j=Object(me.r)(),O=j.tx,h=j.txState,f=Object(c.useState)(void 0!==(null===O||void 0===O?void 0:O.depositHash)?O.depositHash+":"+O.depositN:""),x=Object(A.a)(f,2),m=x[0],v=x[1],g=Object(c.useState)(!1),y=Object(A.a)(g,2),N=(y[0],y[1],Object(c.useState)(O)),E=Object(A.a)(N,2),I=E[0],M=E[1];ge(I.id),Object(B.c)(Object(me.n)(I));var D=Object(B.d)(),R=Object(A.a)(D,2),F=R[0],P=R[1];Object(c.useEffect)((function(){d||P("Resume Transaction")}),[d,P]);var W=Object(c.useCallback)((function(){t.goBack()}),[t]),L=null===O||void 0===O?void 0:O.destChain;Object(c.useEffect)((function(){if(L){var e=Object(Y.i)(L);a(Object(ae.k)(e.symbol))}}),[a,L]);var _=Object(c.useCallback)((function(){a(Object(ae.l)(!0))}),[a]),H=(Object(c.useCallback)((function(){t.replace(Object(o.a)(Object(o.a)({},n),{},{state:void 0}))}),[t,n]),!!I&&d),z=Object(Y.l)(I.sourceAsset).symbol,U=Object(c.useState)(0),V=Object(A.a)(U,2);V[0],V[1];return Object(c.useEffect)((function(){var e=setInterval((function(){I&&Object(Nt.b)(I.userAddress,I.destChain).then((function(e){var t=JSON.parse(JSON.stringify(I));if(1==e.status){var n=!1;if(void 0!==e.result&&void 0!==e.result.data&&e.result.data.length>0){for(var c=0;c<e.result.data.length;++c){var a,r,i=(null===(a=e.result.data[c].vout)||void 0===a?void 0:a.txid)+":"+(null===(r=e.result.data[c].vout)||void 0===r?void 0:r.n);i in u||i in t.transactions&&JSON.stringify(t.transactions[i])==JSON.stringify(e.result.data[c])||(t.transactions[i]=e.result.data[c],n=!0)}""===m&&Object.keys(t.transactions).length>0&&v(Object.keys(t.transactions)[0]),n&&M(t)}}}))}),3e3);return function(){return clearInterval(e)}}),[m]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(k,{children:[Object(p.jsx)(w,{children:Object(p.jsx)(ye.a,{onClick:W,children:Object(p.jsx)(Ie.b,{})})}),Object(p.jsx)(S,{children:F}),Object(p.jsx)(T,{})]}),Object(p.jsxs)(C,{bottomPadding:!0,children:[H&&Object(p.jsx)(Fn,{tx:I,depositHash:m,updateHash:function(e){v(e)},rdtx:u,setRdtx:b}),!d&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Qt.e,{children:Object(p.jsx)(Qt.a,{children:Object(p.jsx)(sn,{})})}),Object(p.jsx)(Ee.a,{onClick:_,children:"Connect Wallet"})]})]}),d&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(ke.a,{}),Object(p.jsx)(C,{darker:!0,topPadding:!0,bottomPadding:!0,children:Object(p.jsx)(yt,{chain:i,currency:z,type:me.f.MINT,address:I.userAddress})})]}),Object(p.jsx)(We,{it:{tx:I,txState:h}})]})},Fn=function(e){var t=e.tx,n=e.depositHash,a=void 0===n?"":n,o=e.updateHash,s=e.rdtx,l=e.setRdtx,u=Object(r.c)(ae.b),b=Object(r.c)(X.a),d=ie().account,j=Object(c.useState)("restoringDeposit"),O=Object(A.a)(j,2),h=O[0],f=O[1],x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,a=e.transactions,r=Object.keys(a).map((function(e){return e})),i=r.length,o=t||i>0?r[0]:"",s=Object(c.useState)(o),l=Object(A.a)(s,2),u=l[0],b=l[1];Object(c.useEffect)((function(){b(o)}),[o]);var d=r.indexOf(u),j=r[i>0&&d+1<i?d+1:0],O=r[i>0&&d-1>=0?d-1:0],h=Object(c.useCallback)((function(){console.log(r),console.log("next:",j),b(j),n(j)}),[j]),p=Object(c.useCallback)((function(){console.log("prev:",O),b(O),n(O)}),[O]);return{currentHash:u,currentIndex:d,handleNext:h,handlePrev:p,total:i}}(t,a,o),m=x.currentIndex,v=x.currentHash,g=x.total,y=x.handlePrev,C=x.handleNext,k=Object(P.c)(),w=k.showNotification,T=k.closeNotification,S=Object(c.useState)({}),N=Object(A.a)(S,2),E=N[0],I=N[1],B=Object(c.useState)(0),D=Object(A.a)(B,2),R=D[0],F=D[1],W=void 0,H=function(){F(R+1)};Object(c.useEffect)((function(){var e=t.transactions[a];(console.log(e),void 0!==W&&(Object(Dn.clearTimeout)(W),W=void 0),e)&&((null===e||void 0===e?void 0:e.good)||!1?a in E?(console.log(s),console.log(a),f(a in s?"completed":"accepted")):(f("srcConfirmed"),U(),W=setTimeout(H,12e3)):f("srcSettling"))}),[t,a,E,s,R]);var z=function(){var e=Object(_.a)(L.a.mark((function e(){var n,c,r,i,o,u,b,d,j,O,h;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("Submitting via Wallet Provider"),void 0!=(i=E[a]).signatures){e.next=4;break}return e.abrupt("return");case 4:return o="0x"+i.signatures[0].r||!1,u="0x"+i.signatures[0].s||!1,b="00"==i.signatures[0].recovery_id?0:1,console.log(t.destAddress,a.split(":")[0],parseInt(a.split(":")[1]),(null===Y||void 0===Y||null===(n=Y.vout)||void 0===n?void 0:n.value_satoshi)||0,t.sourceAsset,o,u,b+27),e.next=10,Q(t.destAddress,a.split(":")[0],parseInt(a.split(":")[1]),(null===Y||void 0===Y||null===(c=Y.vout)||void 0===c?void 0:c.value_satoshi)||0,t.sourceAsset,o,u,b+27);case 10:null!==(d=e.sent).err&&0!=(null===(r=d.err)||void 0===r?void 0:r.code)?(console.log(null===(j=d.err)||void 0===j?void 0:j.message),w((null===(O=d.err)||void 0===O?void 0:O.message)||"",{variant:"error",persist:!1})):(console.log(d),(h=JSON.parse(JSON.stringify(s)))[a]=d.result,l(h));case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(_.a)(L.a.mark((function e(){var n,c;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Submitting Signing Request"),Object(Nt.c)(t.destAddress,((null===Y||void 0===Y||null===(n=Y.vout)||void 0===n?void 0:n.txid)||"").replace("0x",""),(null===Y||void 0===Y||null===(c=Y.vout)||void 0===c?void 0:c.n)||0,t.destChain).then((function(e){if(e&&1==(null===e||void 0===e?void 0:e.status)){var t=JSON.parse(JSON.stringify(E));t[a]=e,I(t)}})).catch((function(e){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){var e=0;return g>1&&(e=w(Object(p.jsx)(gt,{}),{variant:"warning",persist:!0})),function(){e&&T(e)}}),[w,T,g]);var V=Object(c.useState)(!1),G=Object(A.a)(V,2),J=G[0],K=G[1],q=Object(c.useCallback)((function(){K(!1)}),[]);Object(c.useEffect)((function(){d&&t.userAddress&&d.toLowerCase()!==t.userAddress.toLowerCase()?K(!0):K(!1)}),[d,t.userAddress,t]);var Y=Object(c.useMemo)((function(){if(void 0===(null===t||void 0===t?void 0:t.transactions))return null;var e=t.transactions[v||a];return e||null}),[v,t,a]),Q=je().getSignatures,Z=Object(i.g)(),$=Object(i.f)();Object(c.useEffect)((function(){if(Z.search){var e=Object(me.p)(Z.search),n=((null===e||void 0===e?void 0:e.transactions)||{})[v];Y&&!n&&$.replace({pathname:M.a.MINT_TRANSACTION,search:"?"+Object(me.h)(t)})}}),[v,a,Z,Y,t,$]);var ee=Object(St.b)(t,v).mintCurrencyConfig,te=Object(me.i)(u,b,d);return Object(p.jsxs)(p.Fragment,{children:[Y?Object(p.jsxs)(vt,{children:[Object(p.jsx)(Pn,{tx:t,deposit:Y,depositHash:a,state:h,submitter:z,mintHash:s[a]}),g>1&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(En,{onClick:y,disabled:0===m}),Object(p.jsx)(In,{onClick:C,disabled:m===g-1})]})]}):Object(p.jsx)(gn,{tx:t}),Object(p.jsx)(pt,{open:J,address:d,addressExplorerLink:te,currency:ee.short,onAlternativeAction:q}),Object(p.jsx)(We,{it:{depositHash:a,pagination:{currentIndex:m,currentHash:v,total:g},activeDeposit:Y,total:g,currentIndex:m,currentHash:v}})]})},Pn=function(e){var t=e.tx,n=(e.deposit,e.depositHash),c=e.state,a=e.submitter,r=e.mintHash;Object(i.f)(),Object(i.g)();switch(console.debug(t.id,n,c),c){case"srcSettling":return Object(p.jsx)(yn,{tx:t,depositHash:n});case"srcConfirmed":return Object(p.jsx)(ut,{reason:"Generating Signatures"});case"errorAccepting":case"errorSubmitting":case"claiming":case"accepted":return Object(p.jsx)(Cn,{tx:t,depositHash:n,submitting:"claiming"===c,submittingError:"errorSubmitting"===c||"errorAccepting"===c,onSubmit:a});case"destInitiated":return Object(p.jsx)(kn,{tx:t,depositHash:n,submitting:!0});case"completed":return Object(p.jsx)(wn,{tx:t,depositHash:n,mintHash:r,chain:t.destChain});case"restoringDeposit":return Object(p.jsx)(ut,{reason:"Restoring deposit"});default:return Object(p.jsx)(ut,{reason:"This is just weird"})}},Wn=function(){var e=Object(c.useState)(me.c.INITIAL),t=Object(A.a)(e,2),n=t[0],a=t[1];ge("");var r=Object(c.useCallback)((function(){a(me.c.FEES)}),[]),i=Object(c.useCallback)((function(){a(me.c.INITIAL)}),[]);return Object(p.jsxs)(p.Fragment,{children:[n===me.c.INITIAL&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(F,{}),Object(p.jsx)(qt,{onNext:r})]}),n===me.c.FEES&&Object(p.jsx)(Et,{onPrev:i})]})},Ln=function(e){e.match;return Object(B.c)("Minting"),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(i.a,{exact:!0,path:M.a.MINT,component:Wn}),Object(p.jsx)(i.a,{exact:!0,path:M.a.MINT_TRANSACTION,component:Rn})]})},_n=n(285),Hn=function(e){var t=e.tx,n=e.onSubmit,a=e.onReload,r=e.submitting,i=void 0!==r&&r,o=e.submittingError,s=e.generalError,l=e.pending,u=void 0!==l&&l;Object(B.f)("Submit");var b=Object(Ke.a)(),d=Object(_n.b)(t),j=d.burnChainConfig,O=d.releaseCurrencyConfig,h=d.burnTxHash,f=d.burnTxLink,x=j.MainIcon,m=Object(c.useCallback)((function(){n&&n()}),[n]),v=u||i;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Ve.d,{children:Object(p.jsx)(Ve.c,{color:b.customColors.skyBlue,processing:v,children:u?Object(p.jsx)(Ve.f,{status:"Pending",chain:j.full,address:Object(p.jsx)(Ye.a,{color:"primary",underline:"hover",href:f,target:"_blank",children:h})}):Object(p.jsx)(x,{fontSize:"inherit",color:"inherit"})})}),!u&&Object(p.jsxs)(Ce.a,{variant:"body1",align:"center",gutterBottom:!0,children:["To receive your ",O.short,", submit a release transaction to ",j.full," via your Web3 Wallet."]}),Object(p.jsx)(Ee.b,{children:Object(p.jsxs)(Ee.a,{onClick:m,disabled:v,children:[v?"Submitting":"Submit"," to ",j.full,v&&"..."]})}),Object(p.jsx)(jt,{open:Boolean(o),onAction:a}),Object(p.jsx)(Ot,{open:Boolean(s),onAction:a})]})},zn=function(e){var t=e.tx;Object(B.f)("Completed");var n=Object(r.b)(),a=Object(i.f)(),o=Object(_n.b)(t),s=o.releaseChainConfig,l=o.releaseCurrencyConfig,u=o.burnChainConfig,b=o.burnTxLink,d=o.releaseTxLink,j=o.releaseAddressLink,O=Object(c.useCallback)((function(){a.push(M.a.RELEASE),n(Object(kt.d)())}),[n,a]),h="Successfully released ".concat(t.targetAmount," ").concat(l.short),f=Object(P.c)().showNotification,x=vn().showBrowserNotification;return Object(xn.a)((function(){f(Object(p.jsxs)("span",{children:[h," ",Object(p.jsxs)(Ye.a,{external:!0,href:d||j,children:["View ",s.full," ",d?"transaction":"address"]})]})),x(h)})),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Ve.d,{children:Object(p.jsx)(Ve.c,{children:Object(p.jsx)(Ve.a,{})})}),Object(p.jsx)(Ee.b,{children:Object(p.jsx)(Ee.a,{onClick:O,children:"Back to Start"})}),Object(p.jsxs)(At.a,{display:"flex",justifyContent:"space-between",flexWrap:"wrap",py:2,children:[Object(p.jsxs)(Ye.a,{external:!0,color:"primary",variant:"button",underline:"hover",href:d||j,children:[s.full," ",d?"transaction":"address"]}),Object(p.jsxs)(Ye.a,{external:!0,color:"primary",variant:"button",underline:"hover",href:b,children:[u.full," transaction"]})]}),Object(p.jsx)(We,{it:{tx:t}})]})},Un=function(e){var t=e.txid,n=(e.amount,e.chain),a=e.onPrev;Object(B.f)("Completed");var o,s=Object(r.b)(),l=Object(i.f)(),u=Object(c.useCallback)((function(){a&&a(),s(Object(kt.d)())}),[s,l]),b="Successfully released",d=Object(P.c)().showNotification,j=vn().showBrowserNotification;return o="ethereum"==n?"https://etherscan.io/tx/"+t:"https://bscscan.com/tx/"+t,Object(xn.a)((function(){d(Object(p.jsxs)("span",{children:[b," ",Object(p.jsx)(Ye.a,{external:!0,href:o,children:"View Transaction"})]})),j(b)})),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Ve.d,{children:Object(p.jsx)(Ve.c,{children:Object(p.jsx)(Ve.a,{})})}),Object(p.jsx)(Ee.b,{children:Object(p.jsx)(Ee.a,{onClick:u,children:"Back to Start"})}),Object(p.jsx)(At.a,{display:"flex",justifyContent:"space-between",flexWrap:"wrap",py:2,children:Object(p.jsx)(Ye.a,{external:!0,color:"primary",variant:"button",underline:"hover",href:o,children:"View Transaction on Block Explorer"})})]})},Vn=n(1626),Gn=n(348),Jn=n(1630),Kn=function(e){return Object(Jn.createHash)().update(e).digest()};!function(e){e.mainnet="mainnet",e.testnet="testnet",e.regtest="regtest"}(ne||(ne={})),function(e){e.p2pkh="p2pkh",e.p2sh="p2sh",e.p2wpkh="p2wpkh",e.p2wsh="p2wsh",e.p2tr="p2tr"}(ce||(ce={}));var qn={18:{type:ce.p2pkh,network:ne.mainnet},90:{type:ce.p2sh,network:ne.mainnet}},Yn=function(e){var t,n=e.substr(0,2).toLowerCase();if("df"===n||"tb"===n)return function(e){var t;try{t=Gn.bech32.decode(e)}catch(a){throw new Error("Invalid address")}var n={df:ne.mainnet,tb:ne.testnet,bcrt:ne.regtest}[t.prefix];if(void 0===n)throw new Error("Invalid address");var c=t.words[0];if(c<0||c>16)throw new Error("Invalid address");return{bech32:!0,network:n,address:e,type:20===Gn.bech32.fromWords(t.words.slice(1)).length?ce.p2wpkh:1===c?ce.p2tr:ce.p2wsh}}(e);try{t=Object(Vn.base58_to_binary)(e)}catch(u){throw new Error("Invalid address")}var c=t.length;if(25!==c)throw new Error("Invalid address");var a=t[0],r=t.slice(c-4,c),i=t.slice(0,c-4),s=Kn(Kn(i)).slice(0,4);if(r.some((function(e,t){return e!==s[t]})))throw new Error("Invalid address");if(!Object.keys(qn).map(Number).includes(a))throw new Error("Invalid address");var l=qn[a];return Object(o.a)(Object(o.a)({},l),{},{address:e,bech32:!1})},Qn=function(e,t){try{var n=Yn(e);return console.log(n),!t||t===n.network}catch(c){return!1}},Xn=Qn,Zn="The amount and asset you're releasing before fees are applied.",$n="The blockchain you are releasing the asset from.",ec="The wallet address you're receiving the assets to.",tc=function(e){var t=e.onPrev;fe(!0);var n=Object(r.b)(),a=(Object(i.f)(),ie()),o=a.account,s=a.walletConnected,l=Object(c.useState)(!1),u=Object(A.a)(l,2),b=u[0],d=u[1],j=Object(c.useState)(""),O=Object(A.a)(j,2),h=O[0],f=O[1],x=Object(c.useState)({}),m=Object(A.a)(x,2),v=m[0],g=m[1],y=Object(r.c)(kt.a),N=y.currency,E=y.address,I=y.amount,M=Object(r.c)(X.a),B=Object(r.c)(ae.e),D=B.chain,R=(B.signatures.signature,Object(r.c)(ae.d)),F=_e(0,me.f.BURN),W=(F.fees,F.pending,function(){var e=Object(r.c)(ae.d),t=re(e),n=t.account,a=t.status,i=se(),o=Object(r.b)();return{getBurn:Object(c.useCallback)(function(){var t=Object(_.a)(L.a.mark((function t(c,r,o){var s,l;return L.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=BigInt(i.utils.toWei(r.toString(),"ether")),!n||!i||"connected"!==a){t.next=12;break}return t.prev=2,t.next=5,de(n,i,e,c,s,o.toUpperCase());case 5:return l=t.sent,t.abrupt("return",{err:null,result:l});case 9:return t.prev=9,t.t0=t.catch(2),t.abrupt("return",{err:t.t0,result:null});case 12:return t.abrupt("return",{err:{code:-1,message:"something went wrong"},result:null});case 13:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e,n,c){return t.apply(this,arguments)}}(),[n,i,a,e,o])}}().getBurn),H=Object(Y.k)(N),z=Object(Y.h)(D),U=Object(Y.y)(N),V=Object(Y.k)(U).MainIcon,G=Object(c.useMemo)((function(){return Object(_n.a)({currency:N,destAddress:E,userAddress:o,sourceChain:R,network:M})}),[N,E,o,R,M]),J=Object(_n.d)(G),K=Object(P.c)(),q=K.showNotification,Q=(K.closeNotification,Object(c.useCallback)(Object(_.a)(L.a.mark((function e(){var t,c,a;return L.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d(!0),!s){e.next=9;break}return e.next=4,W(E,I,G.sourceAsset);case 4:c=e.sent,console.log(c),null!==c.err&&0!=(null===(t=c.err)||void 0===t?void 0:t.code)?(d(!1),q((null===(a=c.err)||void 0===a?void 0:a.message)||"",{variant:"error",persist:!1})):(d(!1),f(c.result)),e.next=11;break;case 9:d(!1),n(Object(ae.l)(!0));case 11:case"end":return e.stop()}}),e)}))),[n,J,s])),Z=Object(Y.y)(N),$=Object(Y.k)(Z),ee=Object(Y.h)($.sourceChain),te=Object(c.useMemo)((function(){return Qn(E,ne.mainnet)}),[ee.rentxName,M,E]),ce=function e(){""!=h&&0==((null===v||void 0===v?void 0:v.Executed)||!1)&&Object(Nt.d)(h,"BSCC"==D?"binance":"ethereum").then((function(t){g(t);setTimeout((function(){return e()}),3e3)})).catch((function(){setTimeout((function(){return e()}),3e3)}))};return Object(c.useEffect)((function(){""!=h&&ce()}),[h]),""!=h?1==((null===v||void 0===v?void 0:v.Executed)||!1)?Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(k,{children:[Object(p.jsx)(w,{children:Object(p.jsx)(ye.a,{onClick:t,children:Object(p.jsx)(Ie.b,{})})}),Object(p.jsx)(S,{children:"All Done"}),Object(p.jsx)(T,{})]}),Object(p.jsx)(C,{bottomPadding:!0,children:Object(p.jsx)(Un,{txid:h,amount:I,chain:G.sourceChain,onPrev:t})})]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(k,{}),Object(p.jsxs)(C,{bottomPadding:!0,children:[Object(p.jsx)(Ve.d,{children:Object(p.jsx)(Ve.c,{color:mn.orangeLight,confirmations:(null===v||void 0===v?void 0:v.Confirmations)||0,targetConfirmations:5,children:Object(p.jsx)(V,{fontSize:"inherit",color:"inherit"})})}),Object(p.jsx)(Qt.f,{children:Object(p.jsxs)(Ce.a,{variant:"body1",align:"center",children:[(null===v||void 0===v?void 0:v.Confirmations)||0," of ",5," confirmations"]})}),Object(p.jsx)(Qt.c,{children:Object(p.jsxs)(Ce.a,{variant:"body1",align:"center",children:["Please wait until your transaction has been confirmed on the ","BSCC"==D?"Binance":"Ethereum"," Blockchain. Do not close this window, as your DFI  will be released after this step has completed."]})})]})]}):Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(k,{children:[Object(p.jsx)(w,{children:Object(p.jsx)(ye.a,{onClick:t,children:Object(p.jsx)(Ie.b,{})})}),Object(p.jsx)(S,{children:"Fees & Confirm"}),Object(p.jsx)(T,{})]}),Object(p.jsxs)(C,{bottomPadding:!0,children:[Object(p.jsx)(Be.b,{children:Object(p.jsx)(Be.a,{value:Object(p.jsx)(Ue,{value:I,spacedSuffix:H.short})})}),Object(p.jsx)(Ce.a,{variant:"body1",gutterBottom:!0,children:"Details"}),Object(p.jsx)(Be.d,{label:"Releasing",labelTooltip:Zn,value:Object(p.jsx)(Ue,{value:I,spacedSuffix:H.short})}),Object(p.jsx)(Be.d,{label:"From",labelTooltip:$n,value:z.full}),Object(p.jsx)(Be.d,{label:"To",labelTooltip:ec,value:Object(p.jsx)(Be.e,{hoverable:!0,children:E})}),Object(p.jsx)(Be.f,{}),Object(p.jsx)(Ce.a,{variant:"body1",gutterBottom:!0,children:"Fees"}),Object(p.jsx)(yt,{chain:D,currency:N,type:me.f.BURN,hideButton:!0})]}),Object(p.jsx)(ke.a,{}),Object(p.jsx)(C,{darker:!0,topPadding:!0,bottomPadding:!0,children:Object(p.jsx)(Ee.b,{children:Object(p.jsx)(Ee.a,{onClick:Q,disabled:b||I<=.01||!te,children:s?b?"Confirming...":"Confirm":"Connect Wallet"})})})]})},nc=Object(u.a)((function(e){return{root:{fontSize:13},input:{paddingTop:10,fontSize:13}}})),cc=function(e){var t=nc(),n=t.input,c=Object(l.a)(t,["input"]);return Object(p.jsx)(Mt.a,Object(o.a)({classes:c,variant:"outlined",InputProps:{notched:!1,classes:{root:n}},fullWidth:!0},e))},ac=Object(d.a)("div")({minHeight:75}),rc=Object(d.a)("div")({marginTop:40,marginBottom:10}),ic=Object(d.a)("div")({marginTop:0,marginBottom:25}),oc=function(e){var t=e.onNext,n=Object(r.b)(),a=ie().walletConnected,i=Object(r.c)(ae.e),o=i.chain,s=i.balances,l=Object(r.c)(X.a),b=Object(r.c)(kt.a),d=b.currency,j=b.address,O=b.amount,h=_t(s,d),f=Object(c.useState)(!1),x=Object(A.a)(f,2),m=x[0],v=x[1];ve(d),Lt(Y.w);var g,y=_e(0,me.f.BURN),k=(y.fees,y.pending),w=Object(c.useCallback)((function(e){n(Object(ae.k)(e.target.value))}),[n]),T=Object(c.useCallback)((function(e){n(Object(kt.g)(e.target.value))}),[n]),S=Object(c.useCallback)((function(e){n(Object(kt.e)(e.target.value))}),[n]),N=Object(c.useCallback)((function(e){n(Object(kt.f)(e.target.value))}),[n]),E=Object(c.useState)(!1),I=Object(A.a)(E,2),M=I[0],B=I[1],D=Object(c.useCallback)((function(e){B(!0),z(""),J(""),v(!1),e.preventDefault()}),[]),R=Object(c.useCallback)((function(){B(!1)}),[]),F=Object(Y.y)(d),P=(Object(Y.k)(d),Object(Y.k)(F)),W=(P.MainIcon,Object(Y.h)(P.sourceChain)),L=Object(c.useState)(""),_=Object(A.a)(L,2),H=_[0],z=_[1],U=Object(c.useState)(""),V=Object(A.a)(U,2),G=V[0],J=V[1],K=Object(c.useState)(""),q=Object(A.a)(K,2),Q=q[0],Z=q[1],$=Object(c.useMemo)((function(){return Xn(j,ne.mainnet)}),[W.rentxName,l,j]),ee=j&&$&&!k,te=null!==h;g=ee&&O>.1;var ce=Object(c.useCallback)((function(){z(""),J(""),v(!0);try{Object(Nt.d)(Q,"BSCC"==o?"binance":"ethereum").then((function(e){var t;2==e.status?(z((null===(t=e.blame)||void 0===t?void 0:t.fail_reason)||"unknown error"),v(!1)):(console.log(e),J("Broadcasted raw tx: "+e.DefiTx),v(!1))})).catch((function(e){z(e.toString()),v(!1)}))}catch(e){z(e.toString()),v(!1)}}),[Q,o]),re=Object(c.useCallback)((function(){a||n(Object(ae.l)(!0)),t&&ee&&te&&t()}),[n,t,a,ee,te]),oe=Object(u.a)((function(e){return{root:{"& .MuiInputBase-input":{background:"rgb(232, 241, 250)"},"& .MuiAlert-message":{overflowWrap:"anywhere"}}}}))();return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(C,{children:[Object(p.jsx)(Jt,{children:Object(p.jsx)(Gt,{label:"Chain",mode:"chain",available:Y.t,value:o,onChange:w})}),Object(p.jsx)(Jt,{children:Object(p.jsx)(Gt,{label:"Asset",mode:"send",available:Y.w,balances:s,value:d,onChange:T})}),Object(p.jsx)(rc,{children:Object(p.jsx)(cc,{error:!!j&&!$,placeholder:"Enter a Destination ".concat(W.full," Address"),label:"Releasing to",onChange:S,value:j})}),Object(p.jsx)(ic,{children:Object(p.jsx)(cc,{error:!!j&&!$,placeholder:"Enter an Amount",label:"Amount to Burn/Transfer",onChange:N})})]}),Object(p.jsx)(ke.a,{}),Object(p.jsxs)(C,{darker:!0,topPadding:!0,bottomPadding:!0,children:[Object(p.jsx)(Ee.b,{children:Object(p.jsx)(Ee.a,{onClick:re,disabled:!!a&&!g,children:a?"Next":"Connect Wallet"})}),Object(p.jsx)(Ce.a,{variant:"subtitle2",align:"center",color:"textSecondary",gutterBottom:!0,children:a?Object(p.jsx)(Ye.a,{href:"#",onClick:D,color:"textSecondary",children:"Click here to recover an incomplete transaction"}):""})]}),Object(p.jsx)(ct,{open:M,title:"Recovery",onClose:R,children:Object(p.jsxs)(It.a,{children:[""!=H?Object(p.jsx)(At.a,{mb:2,children:Object(p.jsx)(Kt.a,{severity:"error",children:H})}):"",""!=G?Object(p.jsx)(At.a,{mb:2,children:Object(p.jsx)(Kt.a,{className:oe.root,severity:"success",children:G})}):"",Object(p.jsx)(Ce.a,{variant:"h5",align:"center",gutterBottom:!0,children:"Transaction Recovery"}),Object(p.jsxs)(Ce.a,{variant:"body2",align:"center",gutterBottom:!0,children:["If you haven't received your native DFI after burning them on ","BSCC"==o.toString()?"Binance":"Ethereum",", you can use this recovery form to re-request them. Let's start with the transaction id of your burn transaction."]}),Object(p.jsx)(At.a,{mt:3,alignItems:"center",justifyContent:"center",display:"flex",children:Object(p.jsx)(Mt.a,{autoFocus:!0,className:oe.root,style:{width:"60%"},label:"BSCC"==o.toString()?"Enter your Binance TxID":"Enter your Ethereum TxID",onChange:function(e){Z(e.target.value)}})}),Object(p.jsx)(At.a,{mt:5,alignItems:"center",justifyContent:"center",display:"flex",children:Object(p.jsx)(Ee.a,{disabled:m,onClick:ce,children:m?"Wait ... might take some time.":"Recover"})})]})})]})},sc=n(1151),lc=n(1123),uc=function(e){var t=e.open,n=e.onClose,c=e.onEnable;return Object(p.jsx)(lt,{title:" ",open:t,onClose:n,children:Object(p.jsxs)(it,{children:[Object(p.jsx)(ot,{children:Object(p.jsxs)(C,{topPadding:!0,children:[Object(p.jsx)(Ce.a,{variant:"h5",align:"center",gutterBottom:!0,children:"Enable browser notifications"}),Object(p.jsx)(Ce.a,{variant:"subtitle1",align:"center",color:"textSecondary",gutterBottom:!0,children:"It will let you track transaction progress."})]})}),Object(p.jsx)(st,{children:Object(p.jsxs)(C,{bottomPadding:!0,children:[Object(p.jsx)(Ee.b,{children:Object(p.jsx)(qe.a,{variant:"text",color:"primary",onClick:n,children:"Do not enable"})}),Object(p.jsx)(Ee.b,{children:Object(p.jsx)(Ee.a,{onClick:c,children:"Enable Browser Notifications"})})]})})]})})},bc=function(e){var t=e.pressed,n=e.onClick,c=e.onTooltipClose,a=e.tooltipOpened;return Object(p.jsx)(sc.a,{onClickAway:c,children:Object(p.jsx)(lc.a,{onClose:c,open:a,disableFocusListener:!0,disableHoverListener:!0,disableTouchListener:!0,title:"Turn off browser notifications in your browser settings.",children:Object(p.jsx)("span",{children:Object(p.jsx)(Ee.g,{pressed:t,variant:"notifications",onClick:n})})})})},dc=n(2221),jc=n(277),Oc=Object(u.a)((function(e){return{root:{padding:"8px 20px",fontSize:12},iconWrapper:{minWidth:32}}})),hc=function(e){var t=e.onClick,n=e.Icon,c=e.children,a=e.className,r=(e.button,Object(l.a)(e,["onClick","Icon","children","className","button"])),i=Oc();return Object(p.jsxs)(Rt.a,Object(o.a)(Object(o.a)({dense:!0,onClick:t,className:O()(i.root,a)},r),{},{children:[Object(p.jsx)(dc.a,{className:i.iconWrapper,children:Object(p.jsx)(jc.a,{Icon:n,fontSize:"small",variant:"outlined"})}),Object(p.jsx)(Ce.a,{variant:"inherit",children:c})]}))},pc=Object(u.a)((function(e){return{root:{fontSize:12},modalTitle:{padding:"12px 20px"},titleIconWrapper:{minWidth:32},menuItems:{paddingTop:6,minHeight:150},transferId:{paddingBottom:10}}})),fc=function(e){var t=e.open,n=e.onClose,a=e.onDeleteTx,r=e.onUpdateTx,i=e.tx,s=pc(),l=Object(c.useCallback)((function(){n&&n()}),[n]),u=Object(c.useState)(!1),b=Object(A.a)(u,2),d=b[0],j=b[1],O=Object(c.useCallback)((function(){j(!1)}),[]),h=Object(c.useCallback)((function(){j(!0)}),[]),f=Object(c.useState)(!1),x=Object(A.a)(f,2),m=x[0],v=x[1],g=Object(c.useCallback)((function(){v(!1)}),[]),y=Object(c.useCallback)((function(){v(!0)}),[]);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(lt,{open:t,onClose:l,className:s.root,children:[Object(p.jsxs)(nt,{className:s.modalTitle,onClose:l,children:[Object(p.jsx)(dc.a,{className:s.titleIconWrapper,children:Object(p.jsx)(jc.a,{Icon:Ie.N,fontSize:"small",variant:"solid"})}),Object(p.jsx)(Ce.a,{variant:"inherit",children:"Transaction Menu"})]}),Object(p.jsxs)(it,{children:[Object(p.jsx)(ot,{children:Object(p.jsxs)("div",{className:s.menuItems,children:[Object(p.jsx)(hc,{Icon:Ie.a,onClick:y,children:"Insert/update transaction"}),Object(p.jsx)(hc,{Icon:Ie.q,onClick:h,children:"Delete transaction"})]})}),Object(p.jsxs)(st,{children:[Object(p.jsx)(C,{paddingVariant:"medium",className:s.transferId,children:Object(p.jsxs)(Ce.a,{variant:"inherit",children:["Transfer ID: ",i.id]})}),Object(p.jsx)(ke.a,{}),Object(p.jsx)(C,{bottomPadding:!0,topPadding:!0,paddingVariant:"medium",children:Object(p.jsx)(qe.a,Object(o.a)(Object(o.a)({variant:"outlined",size:"small",href:"https://renprotocol.typeform.com/to/YdmFyB"},Ye.b),{},{children:"Report an Issue"}))})]})]})]}),Object(p.jsx)(xc,{open:d,onClose:O,onDeleteTx:a}),r&&Object(p.jsx)(vc,{open:m,onClose:g,onUpdateTx:r})]})},xc=function(e){var t=e.open,n=e.onClose,a=e.onDeleteTx,r=Object(c.useState)(!1),i=Object(A.a)(r,2),o=i[0],s=i[1],l=Object(c.useCallback)((function(){s(!0),a()}),[a]);return Object(p.jsx)(lt,{title:"Delete a Transaction",open:t,onClose:n,children:Object(p.jsxs)(it,{children:[Object(p.jsx)(ot,{children:Object(p.jsxs)(C,{topPadding:!0,children:[Object(p.jsx)(Ce.a,{variant:"h5",align:"center",gutterBottom:!0,children:"Are you sure?"}),Object(p.jsx)(Ce.a,{variant:"body2",align:"center",color:"textSecondary",gutterBottom:!0,children:"If you have already sent your assets you will lose them forever if you remove the transaction."})]})}),Object(p.jsx)(st,{children:Object(p.jsxs)(C,{bottomPadding:!0,children:[Object(p.jsx)(Ee.b,{children:Object(p.jsxs)(Ee.f,{variant:"text",color:"inherit",startIcon:Object(p.jsx)(Ie.q,{}),onClick:l,disabled:o,children:[o?"Removing...":"Remove"," Transaction"]})}),Object(p.jsx)(Ee.b,{children:Object(p.jsx)(Ee.a,{onClick:n,disabled:o,children:"Cancel"})})]})})]})})},mc=function(e){return Number.isInteger(Number(e))},vc=function(e){var t=e.open,n=e.onClose,a=e.onUpdateTx,r=Object(c.useState)(""),i=Object(A.a)(r,2),o=i[0],s=i[1],l=Object(c.useState)(""),u=Object(A.a)(l,2),b=u[0],d=u[1],j=Object(c.useState)(""),O=Object(A.a)(j,2),h=O[0],f=O[1],x=Object(c.useState)(!1),m=Object(A.a)(x,2),v=m[0],g=m[1],y=o&&b&&h,k=Object(c.useCallback)((function(e){var t=e.target.value;mc(t)&&s(t)}),[]),w=Object(c.useCallback)((function(e){var t=e.target.value;mc(t)&&d(t)}),[]),T=Object(c.useCallback)((function(e){f(e.target.value)}),[]),S=Object(c.useCallback)((function(){g(!0),a(Number(o),Number(b),h)}),[a,h,b,o]);return Object(p.jsx)(lt,{title:"Update Transaction Hash",open:t,onClose:n,children:Object(p.jsxs)(it,{children:[Object(p.jsx)(ot,{children:Object(p.jsxs)(C,{topPadding:!0,children:[Object(p.jsx)(ac,{children:Object(p.jsx)(cc,{label:"Amount (sats)",value:o,onChange:k,placeholder:"Enter amount in sats"})}),Object(p.jsx)(ac,{children:Object(p.jsx)(cc,{label:"Transaction Hash",value:h,onChange:T,placeholder:"Enter transaction hash"})}),Object(p.jsx)(ac,{children:Object(p.jsx)(cc,{label:"vOut",value:b,onChange:w,placeholder:"Enter transaction vOut"})})]})}),Object(p.jsx)(st,{children:Object(p.jsxs)(C,{bottomPadding:!0,children:[Object(p.jsx)(Ee.b,{children:Object(p.jsxs)(Ee.f,{variant:"text",color:"inherit",onClick:S,disabled:v||!y,children:[v?"Updating...":"Update"," transaction"]})}),Object(p.jsx)(Ee.b,{children:Object(p.jsx)(Ee.a,{onClick:n,disabled:v,children:"Cancel"})})]})})]})})},gc=function(e){},yc=function(e){var t=e.history,n=e.location;fe(!0);var a=Object(r.b)(),s=ie().status===K.CONNECTED,l=Object(r.c)(ae.b),u=Object(c.useState)(!1),b=Object(A.a)(u,2),d=b[0],j=b[1],O=Object(me.r)(),h=O.tx,f=O.txState,x=Object(c.useState)(h),m=Object(A.a)(x,2),v=m[0],g=m[1];ge(v.id),Object(B.c)(Object(me.n)(v));var y=Object(B.d)(),N=Object(A.a)(y,2),E=N[0],I=N[1];Object(c.useEffect)((function(){s||I("Resume Transaction")}),[s,I]),Object(c.useEffect)((function(){(null===f||void 0===f?void 0:f.reloadTx)&&(g(h),j(!0),t.replace(Object(o.a)(Object(o.a)({},n),{},{state:void 0})),setTimeout((function(){j(!1)}),1e3))}),[t,n,f,h]);var D=Object(c.useCallback)((function(){t.goBack()}),[t]),R=null===h||void 0===h?void 0:h.sourceChain,F=function(e){var t=Object(r.b)(),n=Object(i.f)(),a=Object(P.c)().showNotification,o=ie().walletConnected,s=Object(c.useState)(!1),l=Object(A.a)(s,2),u=l[0],b=l[1],d=Object(c.useCallback)((function(){b(!1)}),[]);return{menuOpened:u,handleMenuOpen:Object(c.useCallback)((function(){o&&b(!0)}),[o]),handleMenuClose:d,handleDeleteTx:Object(c.useCallback)((function(){q.deleteTx(e).then((function(){t(Object(xe.f)(e)),a("Transaction ".concat(Q(e.id,6)," deleted.")),n.push(e.type===me.f.MINT?M.a.MINT:M.a.RELEASE)}))}),[t,n,a,e])}}(v),W=F.menuOpened,L=F.handleMenuOpen,_=F.handleMenuClose,H=F.handleDeleteTx,z=function(){var e=vn().enabled,t=Object(c.useState)(!1),n=Object(A.a)(t,2),a=n[0],r=n[1],i=Object(c.useState)(!1),o=Object(A.a)(i,2),s=o[0],l=o[1],u=Object(c.useCallback)((function(){l(!1)}),[]);return{modalOpened:a,handleModalOpen:Object(c.useCallback)((function(){e?l(!s):r(!0)}),[e,s]),handleModalClose:Object(c.useCallback)((function(){r(!1)}),[]),tooltipOpened:s,handleTooltipClose:u}}(),U=z.modalOpened,V=z.handleModalOpen,G=z.handleModalClose,J=z.tooltipOpened,X=z.handleTooltipClose,Z=vn(G),$=Z.enabled,ee=Z.handleEnable;Object(c.useEffect)((function(){if(R){var e=Object(Y.i)(R);a(Object(ae.k)(e.symbol))}}),[a,R]);var te=Object(c.useCallback)((function(){a(Object(ae.l)(!0))}),[a]),ne=Object(_n.b)(v),ce=ne.burnCurrencyConfig,re=ne.burnChainConfig;ne.releaseCurrencyConfig;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(k,{children:[Object(p.jsx)(w,{children:(null===f||void 0===f?void 0:f.newTx)&&Object(p.jsx)(ye.a,{onClick:D,children:Object(p.jsx)(Ie.b,{})})}),Object(p.jsx)(S,{children:E}),Object(p.jsxs)(T,{children:[Object(p.jsx)(bc,{pressed:$,onClick:V,tooltipOpened:J,onTooltipClose:X}),Object(p.jsx)(Ee.g,{variant:"settings",onClick:L,pressed:W})]})]}),Object(p.jsxs)(C,{bottomPadding:!0,children:[d&&Object(p.jsx)(ut,{processing:!0}),s&&!d&&Object(p.jsx)(Cc,{tx:v}),!s&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(Qt.e,{children:Object(p.jsx)(Qt.a,{children:Object(p.jsx)(sn,{})})}),Object(p.jsx)(Ee.a,{onClick:te,children:"Connect Wallet"})]})]}),s&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(ke.a,{}),Object(p.jsxs)(C,{darker:!0,topPadding:!0,bottomPadding:!0,children:[Object(p.jsx)(Be.d,{label:"Releasing",value:Object(p.jsx)(Ue,{value:0,spacedSuffix:ce.short}),valueEquivalent:Object(p.jsx)(Ue,{value:0,prefix:"$",decimalScale:2,fixedDecimalScale:!0})}),Object(p.jsx)(Be.d,{label:"From",value:re.full}),Object(p.jsx)(Be.d,{label:"To",value:Object(p.jsx)(Be.e,{hoverable:!0,children:v.destAddress})}),Object(p.jsx)(Be.f,{}),Object(p.jsx)(yt,{chain:l,currency:ce.symbol,type:me.f.BURN}),Object(p.jsx)(We,{it:{parsedTx:h,txState:f}})]})]}),Object(p.jsx)(uc,{open:U,onClose:G,onEnable:ee}),Object(p.jsx)(fc,{tx:v,open:W,onClose:_,onDeleteTx:H}),Object(p.jsx)(We,{it:{tooltipOpened:J,parsedTx:h,txState:f}})]})},Cc=function(e){var t=e.tx,n=Object(i.f)(),a=Object(i.g)(),l=function(e){var t=Object(me.g)(e),n=Object($.useMultiwallet)().enabledChains,c=Object(r.c)(X.a),a=Object.entries(n).reduce((function(e,t){return Object(o.a)(Object(o.a)({},e),{},Object(s.a)({},t[0],t[1].provider))}),{}),i=Object(Mn.a)(An.burnMachine,{context:{tx:t,providers:a,sdk:Object(Bn.a)(c),fromChainMap:Wt.a,toChainMap:Wt.f,autoSubmit:!!Object.values(e.transactions)[0]},devTools:U.b.XSTATE_DEVTOOLS});return gc(i[2]),i}(t),u=Object(A.a)(l,3),b=u[0],d=u[1],j=u[2];Object(c.useEffect)((function(){return function(){console.info("stopping tx machine"),j.stop()}}),[j]);var O=Object(c.useState)(!1),h=Object(A.a)(O,2),f=h[0],x=h[1],m=Object(c.useState)(!1),v=Object(A.a)(m,2),g=v[0],y=(v[1],Object(c.useCallback)((function(){x(!0),d({type:"SUBMIT"})}),[d])),C=Object(c.useCallback)((function(){n.replace(Object(o.a)(Object(o.a)({},a),{},{state:{txState:{reloadTx:!0}}}))}),[n,a]);Object(c.useEffect)((function(){"srcSettling"===b.value&&n.replace({pathname:M.a.RELEASE_TRANSACTION,search:"?"+Object(me.h)(b.context.tx)})}),[n,b.value,b.context.tx]);var k=b.value;switch(console.debug(t.id,k),k){case"created":return Object(p.jsx)(Hn,{tx:t,onSubmit:y,submitting:f,submittingError:g,onReload:C});case"errorBurning":case"errorReleasing":case"srcSettling":return Object(p.jsx)(Hn,{tx:b.context.tx,pending:!0,generalError:"srcSettling"!==k,onReload:C});case"srcConfirmed":return Object(p.jsx)(ut,{reason:"Submitting to RenVM"});case"accepted":return Object(p.jsx)(ut,{reason:"Releasing from RenVM"});case"destInitiated":return Object(p.jsx)(zn,{tx:b.context.tx});default:return Object(p.jsx)(ut,{})}},kc=function(){var e=Object(c.useState)(me.c.INITIAL),t=Object(A.a)(e,2),n=t[0],a=t[1],r=Object(c.useCallback)((function(){a(me.c.FEES)}),[]),i=Object(c.useCallback)((function(){a(me.c.INITIAL)}),[]);return Object(p.jsxs)(p.Fragment,{children:[n===me.c.INITIAL&&Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(F,{}),Object(p.jsx)(oc,{onNext:r})]}),n===me.c.FEES&&Object(p.jsx)(tc,{onPrev:i})]})},wc=function(){return Object(B.c)("Releasing"),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(i.a,{exact:!0,path:M.a.RELEASE,component:kc}),Object(p.jsx)(i.a,{exact:!0,path:M.a.RELEASE_TRANSACTION,component:yc})]})},Tc=n(2222),Sc=n(2219),Nc=n(2190),Ec=n(1635),Ic=n.n(Ec),Ac=n(2227),Mc=n(351),Bc=n.n(Mc),Dc=[Z.RenNetwork.Mainnet,Z.RenNetwork.Testnet,Z.RenNetwork.TestnetVDot3,Z.RenNetwork.MainnetVDot3],Rc=n(621),Fc=n(52),Pc=n(1631),Wc=n(1423),Lc=n(1632),_c=n(1633),Hc=U.b.BSC_MM_ENABLED||Bc.a.parse(window.location.search).bscMetamaskEnabled,zc=U.b.MEWCONNECT_ENABLED||Bc.a.parse(window.location.search).MEWConnectEnabled,Uc=U.b.WALLETCONNECT_ENABLED||Bc.a.parse(window.location.search).walletConnectEnabled,Vc={1:[Z.RenNetwork.Mainnet],42:[Z.RenNetwork.Testnet,Z.RenNetwork.TestnetVDot3]},Gc=function(e){var t=Object.entries(Vc).find((function(t){var n=Object(A.a)(t,2);n[0];return n[1].includes(e)}));return t?parseInt(t[0]):t},Jc=function(e){var t,n=Number(e);return(null===(t=Vc[n])||void 0===t?void 0:t[0])||Z.RenNetwork.Testnet},Kc=function(e){var t;return{chains:(t={},Object(s.a)(t,Y.e.ethereum,[{name:"Metamask",logo:"https://avatars1.githubusercontent.com/u/11744586?s=60&v=4s",connector:new Wc.a({debug:U.b.DEV,networkIdMapper:Jc})}].concat(Object(Fc.a)(zc?[{name:"MEW",logo:"https://avatars1.githubusercontent.com/u/24321658?s=60&v=4s",connector:new Lc.a({debug:U.b.DEV,rpc:{42:"wss://kovan.infura.io/ws/v3/".concat(U.b.INFURA_ID),1:"wss://mainnet.infura.io/ws/v3/".concat(U.b.INFURA_ID)},chainId:e})}]:[]),Object(Fc.a)(Uc?[{name:"WalletConnect",logo:"https://avatars0.githubusercontent.com/u/37784886?s=60&v=4",connector:new _c.a({rpc:{42:"https://kovan.infura.io/v3/".concat(U.b.INFURA_ID),1:"wss://mainnet.infura.io/ws/v3/".concat(U.b.INFURA_ID)},qrcode:!0,debug:!0})}]:[]))),Object(s.a)(t,Y.e.binanceSmartChain,Object(Fc.a)(Hc?[{name:"Metamask",logo:"https://avatars2.githubusercontent.com/u/45615063?s=60&v=4",connector:function(){var e=new Pc.a({debug:!0});return e.getProvider=function(){return window.ethereum},e}()}]:[])),t)}},qc=n(430),Yc=n(232),Qc=n(214),Xc=function(e){var t=e.children,n=Object(Yc.c)(),o=Object(r.b)();!function(){var e=Object(i.g)(),t=Object(r.b)(),n=Bc.a.parse(e.search);Object(c.useEffect)((function(){var e=n.network;e&&Dc.indexOf(e)>-1&&t(Object(X.c)(n.network))}),[t,n.network])}(),function(){var e=ie(),t=e.targetNetwork,n=e.setTargetNetwork,a=Object(r.c)(X.a);Object(c.useEffect)((function(){a!==t&&(console.info("syncing multiwallet with network",a),n(a.includes("mainnet")?Z.RenNetwork.Mainnet:a.includes("testnet")?Z.RenNetwork.Testnet:a))}),[a,n,t])}(),function(){var e=pe().getSignatures;Object(c.useEffect)((function(){e()}),[e])}();var s=function(){var e=ie().account,t=Object(r.c)(ae.g),n=Object(r.c)(ae.c),c=pe().getSignatures;return{isAuthenticated:null!==t&&e.toLowerCase()===t.uid,isAuthenticating:n,authenticate:c}}(),l=(s.authenticate,s.isAuthenticated),u=s.isAuthenticating,b=ie(),d=b.status,j=b.account,h=b.walletConnected,f=b.deactivateConnector,x=b.symbol,m=Object(r.c)(xe.c).txHistoryOpened,v=(Object(r.c)(xe.d),Object(r.c)(ae.a)),g=Object(c.useState)(!1),y=Object(A.a)(g,2),C=(y[0],y[1]);Object(Pt.a)((function(){C(h&&!l&&!u&&(v||m))}),1e3,[h,l,v,m]);var k=Object(c.useState)(!0),w=Object(A.a)(k,2),T=w[0],S=w[1],N=Object(c.useCallback)((function(){S(!1)}),[]),E=Object(c.useCallback)((function(){S(!0)}),[]),I=Object(Ac.a)().width,M=Object(Ke.a)();Object(c.useEffect)((function(){I>M.breakpoints.values.sm&&S(!1)}),[I,M.breakpoints]);Object(c.useCallback)((function(){o(Object(xe.h)(!m))}),[o,m]);var B=Object(r.c)(ae.d),D=Object(r.c)(ae.f),R=Object(r.c)(X.a),F=tn(),P=a.a.useState(null),W=Object(A.a)(P,2),L=W[0],_=W[1],H=Object(c.useCallback)((function(){o(Object(ae.l)(!1))}),[o]),z=Object(c.useCallback)((function(){_(null)}),[]),V=Object(c.useCallback)((function(e){h?_(e.currentTarget):o(Object(ae.l)(!0))}),[o,h]),G=Object(c.useCallback)((function(){f(),z()}),[f,z]),J=Object(c.useMemo)((function(){return{targetNetwork:R,chain:B,onClose:H,pickerClasses:F,ConnectingInfo:rn,WrongNetworkInfo:ln,WalletEntryButton:cn,WalletChainLabel:an,config:Kc(Gc(R)||1)}}),[B,H,F,R]),K=re(B),q=Object($.useMultiwallet)(),Y=Tt(),Q="main-menu-mobile",ee=Object(c.useState)(!1),te=Object(A.a)(ee,2),ne=te[0],ce=te[1],oe=Object(c.useCallback)((function(){ne||(Object(Rc.a)("0x361C60b7c2828fCAb80988d00D1D542c83387b50"),ce(!0),setTimeout((function(){ce(!1)}),2e3))}),[ne]),se=(Object(c.useCallback)((function(){}),[]),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:n.desktopMenu,children:[Object(p.jsx)(qe.a,{onClick:function(){return window.open("https://pancakeswap.finance/swap?inputCurrency=0x361c60b7c2828fcab80988d00d1d542c83387b50&outputCurrency=BNB","_blank")},color:"secondary",className:n.rightMargin,children:Object(p.jsx)("span",{children:"Pancake Swap"})}),Object(p.jsx)(qe.a,{onClick:function(){return window.open("https://bscscan.com/address/0x3961a7B7d2CeB33ad5740624901f6264023C9aC0#code","_blank")},color:"secondary",className:n.rightMargin,children:Object(p.jsx)("span",{children:"Smart Contract"})}),Object(p.jsx)(qe.a,{onClick:oe,color:"secondary",className:n.rightMargin,children:Object(p.jsx)("span",{children:ne?"Copied to Clipboard":"DFI Token Address"})}),Object(p.jsx)(On,{onClick:V,hoisted:m,status:d,account:j,wallet:x}),Object(p.jsx)($.WalletPickerModal,{open:D,options:J})]}),Object(p.jsx)("div",{className:n.mobileMenu,children:Object(p.jsx)(ye.a,{"aria-label":"show more","aria-controls":Q,"aria-haspopup":"true",onClick:E,color:"inherit",children:Object(p.jsx)(Ic.a,{})})})]})),le=Object(p.jsxs)(Tc.a,{anchor:"right",id:Q,keepMounted:!0,open:T,onClose:N,PaperProps:{className:n.drawerPaper},children:[Object(p.jsx)("div",{className:n.drawerHeader,children:Object(p.jsx)(ye.a,{"aria-label":"close",className:n.drawerClose,onClick:N,children:Object(p.jsx)(et.a,{})})}),Object(p.jsx)(ke.a,{}),Object(p.jsx)(Sc.a,{divider:!0,className:n.drawerListItem,button:!0,onClick:V,children:Object(p.jsx)(On,{className:n.mobileMenuButton,mobile:!0,status:d,account:j,wallet:x})}),Object(p.jsx)(Sc.a,{className:O()(n.drawerListItem,n.drawerFooterListItem),children:Object(p.jsx)(qc.a,{mobile:!0})})]}),ue=Object(p.jsx)(Qc.b,{to:"/",style:{color:"black"},children:Object(p.jsx)(At.a,{display:"inline-block",p:3,children:Object(p.jsx)(Ie.i,{width:"auto",height:"auto"})})}),be=Object(p.jsx)(Nc.a,{id:"wallet-menu",getContentAnchorEl:null,anchorEl:L,keepMounted:!0,open:Boolean(L),onClose:z,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:Object(p.jsx)(Rt.a,{onClick:G,children:Object(p.jsx)(Ce.a,{color:"error",children:"Disconnect wallet"})})});return Object(p.jsxs)(Yc.a,{ToolbarMenu:se,DrawerMenu:le,WalletMenu:be,Logo:ue,children:[t,Object(p.jsx)(We,{it:{isAuthenticated:l,debugNetworkName:Y,debugWallet:K,debugMultiwallet:q,env:U.b}})]})},Zc=function(e){var t=e.children;return Object(p.jsx)($.MultiwalletProvider,{children:Object(p.jsx)(Xc,{children:t})})};t.default=function(e){var t=e.history,n=e.location;localStorage.getItem(I.c.TERMS_AGREED)||t.replace(M.a.WELCOME),"/"===n.pathname&&t.replace(M.a.WELCOME);var c=Object(r.c)(wt.a).paperShaking;return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(Zc,{children:Object(p.jsx)(B.a,{children:Object(p.jsx)(m,{children:Object(p.jsxs)(x,{shaking:c,children:[Object(p.jsx)(i.a,{path:M.a.MINT,component:Ln}),Object(p.jsx)(i.a,{path:M.a.RELEASE,component:wc})]})})})})})}}}]);
//# sourceMappingURL=8.f01907a1.chunk.js.map